!function(e){function t(t){for(var r,a,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={iphone:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([161,"lib"]),n()}([,,function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(6),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(90)),o=a(n(91)),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},,,function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(21),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(166),__esModule:!0}},,,function(e,t,n){(function(t){var r=n(219),o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},i=o.Raven,a=new r;a.noConflict=function(){return o.Raven=i,a},a.afterLoad(),e.exports=a,e.exports.Client=r}).call(this,n(44))},,,,,,function(e,t,n){(function(e,n,r){!function(t){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),o=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(t=arguments[1]),n=0;n<o;){var i=void 0;n in r&&(i=r[n],e.call(t,i,n,r)),n++}}),function(){if(!(window.URL&&window.URL.prototype&&"href"in window.URL.prototype)){t.prototype={toString:function(){return this.href},get href(){return this._anchorElement.href},set href(e){this._anchorElement.href=e},get protocol(){return this._anchorElement.protocol},set protocol(e){this._anchorElement.protocol=e},get host(){return this._anchorElement.host},set host(e){this._anchorElement.host=e},get hostname(){return this._anchorElement.hostname},set hostname(e){this._anchorElement.hostname=e},get port(){return this._anchorElement.port},set port(e){this._anchorElement.port=e},get pathname(){return this._anchorElement.pathname},set pathname(e){this._anchorElement.pathname=e},get search(){return this._anchorElement.search},set search(e){this._anchorElement.search=e},get hash(){return this._anchorElement.hash},set hash(e){this._anchorElement.hash=e}};var e=window.URL||window.webkitURL||window.mozURL;t.createObjectURL=function(t){return e.createObjectURL.apply(e,[t])},t.revokeObjectURL=function(t){return e.revokeObjectURL.apply(e,[t])},Object.defineProperty(t.prototype,"toString",{enumerable:!1}),window.URL=t}function t(e,t){if(!e)throw new TypeError("Invalid argument");var n=document.implementation.createHTMLDocument("");if(t){var r=n.createElement("base");r.href=t,n.head.appendChild(r)}var o=n.createElement("a");if(o.href=e,n.body.appendChild(o),":"===o.protocol||!/:/.test(o.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o})}}(),function(){if(!Element.prototype.addEventListener){var e=[],t=function(t,n){function r(e){e.target=e.srcElement,e.currentTarget=o,void 0!==n.handleEvent?n.handleEvent(e):n.call(o,e)}var o=this;if("DOMContentLoaded"===t){var i=function(e){"complete"===document.readyState&&r(e)};if(document.attachEvent("onreadystatechange",i),e.push({object:this,type:t,listener:n,wrapper:i}),"complete"===document.readyState){var a=new Event;a.srcElement=window,i(a)}}else this.attachEvent("on"+t,r),e.push({object:this,type:t,listener:n,wrapper:r})},n=function(t,n){for(var r=0;r<e.length;){var o=e[r];if(o.object===this&&o.type===t&&o.listener===n){"DOMContentLoaded"===t?this.detachEvent("onreadystatechange",o.wrapper):this.detachEvent("on"+t,o.wrapper),e.splice(r,1);break}++r}};Element.prototype.addEventListener=t,Element.prototype.removeEventListener=n,HTMLDocument&&!HTMLDocument.prototype.addEventListener&&(HTMLDocument.prototype.addEventListener=t,HTMLDocument.prototype.removeEventListener=n),Window&&!Window.prototype.addEventListener&&(Window.prototype.addEventListener=t,Window.prototype.removeEventListener=n)}}();var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}function p(e){return"object"===o(e)&&null!==e&&!m(e)}function f(e){return"function"==typeof e}function h(e){return"[object String]"===Object.prototype.toString.call(e)}function m(e){return"[object Array]"===Object.prototype.toString.call(e)}function _(e){return"number"==typeof e}function v(){if(!("fetch"in window))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function g(){return!!p(window)}function y(){return!!g()&&!!p(window.performance)}function w(){return!!y()&&!!p(window.performance.timing)}function E(){return!!y()&&!!f(window.performance.getEntries)}var b=(S.prototype._send=function(e){},S.prototype.setupTransport=function(e){var t=this;this._transport=e,this._sendQueue.forEach((function(e){t._sendEvent(e)})),this._sendQueue=[]},S);function S(e){var t=this;this._setupMonitors=function(e){return e.forEach((function(e){e.setup(t._sendEvent)})),e},this._sendEvent=function(e){if(t._transport){var n=t._modifyEvent(e);t._shouldSend(n)&&t._idleSendEvent(n)}else t._sendQueue.push(e)},this._modifyEvent=function(e){return e},this._shouldSend=function(e){return!0},this._getIdle=function(){return f(window.requestIdleCallback)?window.requestIdleCallback:f(setTimeout)?setTimeout:function(e){e()}},this._idleSendEvent=function(e){t._getIdle()((function(){t._send(e)}))},this._options=e,this._sendQueue=[],this._monitors=this._setupMonitors(e.defaultMonitors||[])}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function T(e,t){var n,r;if(void 0===e.length)for(n in e)x(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function O(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0;r<e.length;)n=C(n,e[r]),r++;return n}function C(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&void 0!==t[n]&&(p(e[n])&&p(t[n])?C(e[n],t[n]):!p(e[n])&&p(t[n])?e[n]=C({},t[n]):e[n]=t[n]);return e}function k(e,t){if(!m(e))return!1;if(0===e.length)return!1;for(var n=0;n<e.length;){if(e[n]===t)return!0;n++}return!1}function N(e,t,n){var r,o;if(!t)return n;var i=e,a=t.split(".");try{for(var s=l(a),c=s.next();!c.done;c=s.next())if(!(i=i[c.value]))return n}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i}function I(e){var t=document.createElement("a");t.href=e;var n=t.pathname||"/";return"/"!==n[0]&&(n="/"+n),{href:t.href,protocol:t.protocol.slice(0,-1),hostname:t.hostname,host:t.host,pathname:n,hash:t.hash}}function A(e){}function D(e){return f(e)?e:A}function R(e){"complete"!==document.readyState?window.addEventListener("load",(function(){setTimeout((function(){e()}),0)}),!1):e()}function L(e){if(!e)return"";if(!f(e.forEach))return"";var t=[];return e.forEach((function(e){t.push(e[0]+": "+e[1])})),t.join("\r\n")}function P(e){var t={},n=I(e);return t.ax_protocol=n.protocol,t.ax_domain=n.hostname,t.ax_path=n.pathname,t.ax_url=n.href||e,t}function M(e,t){var n,r;if(!e||!t)return"";var o=e.split(";"),i={};try{for(var a=l(o),s=a.next();!s.done;s=a.next()){var c=s.value.split("="),u=h(c[0])&&c[0].trim();u&&h(c[1])&&(i[u]=c[1].trim())}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i[t]||""}function j(e){return m(e)&&e.length?function(e){for(var t=[],n=e.length,r=0;r<n;r++){var o=e[r];h(o)?t.push(o.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):o&&o.source&&t.push(o.source)}return new RegExp(t.join("|"),"i")}(e):null}function U(){var e=function(){for(var e=new Array(16),t=0,n=void 0;t<16;t++)0==(3&t)&&(n=4294967296*Math.random()),e[t]=n>>>((3&t)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var r=0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}(e)}var H=["/log/sentry/"],F="i.snssdk.com",B="SLARDAR_WEB_ID",V=U(),q=U(),W=(G.prototype.postEvent=function(e){var t=c(c({},e),this._getCommonParams());G.post(this._url,t)},G.prototype.getEvent=function(e){var t=function(e){var t,n=function(e){if(!p(e))return{};var t={};return T(e,(function(e,n){p(n)||m(n)?t[e]=JSON.stringify(n):t[e]=n})),t}(e),r=(t={},T(n,(function(e,n){t[encodeURIComponent(e)]=encodeURIComponent(n)})),t),o=[];return T(r,(function(e,t){o.push(e+"="+t)})),o.join("&")}(c(c({},e),this._getCommonParams())),n=this._url+"?"+t;G.get(n)},G.post=function(e,t,n){var r=n?D(n.success):A,o=n?D(n.fail):A,i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("Content-Type","application/json"),i.send(JSON.stringify(t)),i.addEventListener("load",(function(){try{if(this.responseText){var e=JSON.parse(this.responseText);r(e)}else r()}catch(e){o()}})),i.addEventListener("error",(function(){o()})),i.addEventListener("abort",(function(){o()}))},G.get=function(e,t){var n=t?D(t.success):A,r=t?D(t.fail):A,o=new XMLHttpRequest;o.open("GET",e),o.send(),o.addEventListener("load",(function(){try{if(this.responseText){var e=JSON.parse(this.responseText);n(e)}else n()}catch(e){r()}})),o.addEventListener("error",(function(){r()})),o.addEventListener("abort",(function(){r()}))},G.prototype._getUrl=function(){return"https://"+(this._options.reportDomain||F)+"/log/sentry/v2/api/slardar/main/"},G.prototype._getCommonParams=function(){return{timestamp:Date.now()}},G);function G(e){this._options=e||{},this._url=this._getUrl()}function z(){return f(Date)?Math.round(Date.now()/1e3):0}function Y(e,t){if(!p(e))return{};if(!f(t))return{};var n={};return T(e,(function(e,r){t(r)&&(n[e]=r)})),n}var X,J=(s(K,X=b),K.prototype.setupTransport=function(){var e=new W({reportDomain:this._options.commonParams.report_domain});X.prototype.setupTransport.call(this,e)},K.prototype._send=function(e){var t=e.event||{};t=c(c({},t),this._normalizeCommonParams(this._options.commonParams||{})),this._options.custom&&f(this._options.custom.beforeSend)&&!(t=this._options.custom.beforeSend(t))||("get"!==e.type?"post"===e.type&&this._transport.postEvent(t):this._transport.getEvent(t))},K.prototype._sendPageview=function(){f(this._sendEvent)&&this._sendEvent({name:"PageView",type:"get",event:{ev_type:"pageview"}})},K.prototype.emitEvent=function(e){var t=function(e){var t,n,r,o,i,a,s=null;return p(e)&&("timer"===e.type&&(s=p(t=e.event)&&h(t.name)&&_(t.value)?{metrics_type:"timer",event_name:"default",metrics:((n={})[t.name]=t.value,n),category:Y(t.tags,h),timestamp:z()}:{}),"counter"===e.type&&(s=p(r=e.event)&&h(r.name)&&_(r.value)?{metrics_type:"counter",event_name:"default",metrics:((o={})[r.name]=r.value,o),category:Y(r.tags,h),timestamp:z()}:{}),"log"===e.type&&(s=p(i=e.event)&&h(i.value)?{metrics_type:"log",event_name:"default",log_content:i.value,log_level:i.level||"info",category:Y(i.tags,h),timestamp:z()}:{}),"custom"===e.type&&(s=p(a=e.event)&&h(a.event_name)?{metrics_type:"custom",event_name:a.event_name,metrics:Y(a.metrics,_),category:Y(a.tags,h),timestamp:z()}:{})),s}(e);this._emitSingleEvent(t)},K);function K(){var e=null!==X&&X.apply(this,arguments)||this;return e.sendEvent=function(t){f(e._sendEvent)&&e._sendEvent(t)},e._shouldSend=function(t){var n=t.name,r=t.event;if(!t.event)return!1;if("AjaxMonitor"===n||"FetchMonitor"===n){var o=j(H);if(o&&o.test(r.ax_url))return!1;var i,a=e._options.monitors.AjaxMonitor.whitelistUrls;if(m(a)&&0<a.length){var s=j(e._options.monitors.AjaxMonitor.whitelistUrls||[]);return!(!s||!s.test(r.ax_url))}if((i=j(e._options.monitors.AjaxMonitor.ignore||[]))&&i.test(r.ax_url))return!1;if(!e._options.monitors.AjaxMonitor.hookFetch)return!1}if("StaticErrorMonitor"===n&&(i=j(e._options.monitors.StaticErrorMonitor.ignore||[]))&&i.test(r.st_src))return!1;if("PathMonitor"!==n)return"HijackMonitor"!==n||Math.random()<e._options.monitors.HijackMonitor.sampleRate;var c=e._options.plugins;return!!(c&&c.spa&&c.spa.enable&&r.type===c.spa.type)},e._modifyEvent=function(t){var n=t.name,r=t.type,o=t.event,i=c({},o);if("PerformanceMonitor"!==n)return"PathMonitor"===n?(e._options.plugins.spa.enable&&e._options.plugins.spa.type===i.type&&(e.updateConfig({commonParams:{pid:i.path}}),delete i.type,delete i.path),{}):t;var a=e._options.monitors.PerformanceMonitor;if(!w())return{};var s=window.performance.timing,l=s.loadEventEnd-s.navigationStart>a.slowSessionTime;if(i.resources&&m(i.resources)){var u=j(e._options.monitors.PerformanceMonitor.geckoUrls||[]);T(i.resources,(function(e,t){p(i.resources[e])&&f(i.resources[e].toJSON)&&(i.resources[e]=i.resources[e].toJSON(),i.resources[e].is_gecko=u&&u.test(t.name||"")?"1":"0")}))}return Math.random()<a.resourceSampleRate?i=c(c({},i),{upload_reason:"sample",resource_samplerate:e._options.monitors.PerformanceMonitor.resourceSampleRate}):l?i=c(c({},i),{upload_reason:"slow_session"}):delete i.resources,{name:n,type:r,event:i}},e._normalizeOptions=function(t){return O({},e._options,t)},e._normalizeCommonParams=function(e){var t=c({},e);return p(e.context)&&(t.context=JSON.stringify(e.context)),t||{}},e.updateConfig=function(t){var n=e._options.commonParams.pid;e._options=e._normalizeOptions(t),t.commonParams.pid!==n&&e._sendPageview()},e.sendPageview=function(){e._sendPageview()},e.sendCustomTimeLog=function(t,n,r){!function(e,t){var n=e.name,r=e.tag;if(n){var o={ev_type:"custom",cm_name:n,cm_type:"time",cm_value:+e.value};r&&(o.cm_tag=r),t({name:"SentCustomTime",type:"get",event:o})}}({name:t,tag:n,value:r},e._sendEvent)},e.sendCustomCountLog=function(t,n){!function(e,t){var n=e.name,r=e.tag;if(n){var o={ev_type:"custom",cm_name:n,cm_type:"count"};r&&(o.cm_tag=r),t({name:"SentCustomCount",type:"get",event:o})}}({name:t,tag:n},e._sendEvent)},e._emitSingleEvent=function(t){t&&(t&&!t.event_name||f(e._sendEvent)&&e._sendEvent({name:"Emit",type:"post",event:{ev_type:"flexible",flexible_data_list:[t]}}))},e}var $=function(){var e=this;this.name="StaticErrorMonitor",this.setup=function(t){g()&&(e._callback=t,window.addEventListener("error",e.staticErrorLog,!0))},this._getParams=function(e,t){var n={ev_type:"static",st_type:t},r=I(e);return n.st_src=e,n.st_protocol=r.protocol,n.st_domain=r.hostname,n.st_path=r.pathname,n},this.getSrc=function(e){return e&&f(e.getAttribute)?e.getAttribute("src"):e.src||e.href||""},this.staticErrorLog=function(t){var n,r=t||window.event||{};try{n=r.target||r.srcElement||{}}catch(r){return}var o=e.getSrc(n),i=n.tagName&&n.tagName.toLowerCase()||"";o&&i&&o!==window.location.href&&f(e._callback)&&e._callback({name:e.name,type:"get",event:e._getParams(o,i)})}},Z=(Q.prototype.setup=function(e){f(XMLHttpRequest)&&(this._callback=e,this._start())},Q.prototype._hookXMLHttpRequestOnreadystatechange=function(e){var t=this.onreadystatechange,n=this;this.onreadystatechange=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(4===this.readyState){var i={ev_type:"ajax",ax_status:this.status,ax_type:n._method,ax_request_header:L(n._requestHeaders||[])};i.ax_duration=Date.now()-n._start,200===this.status&&(i.ax_size=function(e){var t=0;if(""===e.responseType||"text"===e.responseType)t=ee(e.responseText);else if(e.response)t=ee(e.response);else try{t=ee(e.responseText)}catch(e){t=0}return t}(this)),"function"==typeof this.getAllResponseHeaders&&(i.ax_response_header=this.getAllResponseHeaders()),i=c(c({},i),P(n._url)),f(e._callback)&&e._callback({name:e.name,type:"get",event:i})}if(t)return t.apply(this,r)}},Q);function Q(){var e=this;this.name="AjaxMonitor",this._start=function(){e._hookXMLHttpRequestOpen(),e._hookXMLHttpRequestSend(),e._hookXMLHttpRequestSetRequestHeader()},this._hookXMLHttpRequestSetRequestHeader=function(){var e=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.setRequestHeader=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._requestHeaders=this._requestHeaders||[],this._requestHeaders.push(t),e.apply(this,t)}},this._hookXMLHttpRequestOpen=function(){var e=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],o=t[1];return this._url=o&&o.split("?")[0]||"",this._method=r&&r.toLowerCase()||"",e.apply(this,t)}},this._hookXMLHttpRequestSend=function(){var t=e,n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t._hookXMLHttpRequestOnreadystatechange.call(this,t),this._start=Date.now(),n.apply(this,e)}}}function ee(e){var t="[object String]"===Object.prototype.toString.call(e);return e?t?e.length:ArrayBuffer&&e instanceof ArrayBuffer?e.byteLength:window.Blob&&e instanceof Blob?e.size:e.length?e.length:0:0}var te=function(){var e=this;this.name="FetchMonitor",this.setup=function(t){v()&&(e._callback=t,e._start())},this._start=function(){v()&&e._hookFetch()},this._hookFetch=function(){var t=e,n=window.fetch;window.fetch=function(r,o){o=o||{};var i=Date.now(),a={ev_type:"ajax"},s=e._getFetchUrl(r),l=e._getFetchMethod(r);return a.ax_type=(o.method||l).toLowerCase(),a=c(c({},a),P(s)),n(r,o).then((function(e){return a.ax_status=e.status,a.ax_duration=Date.now()-i,a.ax_response_header=t._getAllResponseHeaders(e),a.ax_request_header=t._getFetchHeaders(r,o),e.headers&&f(e.headers.has)&&e.headers.has("content-length")?a.ax_size=Number(e.headers.get("content-length"))||0:a.ax_size=0,f(t._callback)&&t._callback({name:t.name,type:"get",event:a}),e}),(function(e){return a.ax_status=0,a.ax_size=0,a.ax_duration=Date.now()-i,f(t._callback)&&t._callback({name:t.name,type:"get",event:a}),Promise.reject(e)}))}},this._getFetchUrl=function(e){var t="";return h(t=e instanceof Request?e.url:e)?t.split("?")[0]:t},this._getFetchMethod=function(e){var t="get";return e instanceof Request&&(t=e.method),t},this._getFetchHeaders=function(t,n){var r="";if(t instanceof Request)return e._getAllResponseHeaders(t);if(n&&n.headers){if(n.headers instanceof Headers)return e._getAllResponseHeaders(n);if(n.headers instanceof Array)return L(n.headers);if(n.headers instanceof Object){var o=[];for(var i in n.headers)Object.prototype.hasOwnProperty.call(n.headers,i)&&o.push([i,n.headers[i]]);return L(o)}}return r},this._getAllResponseHeaders=function(e){if(!e||!e.headers||"function"!=typeof e.headers.forEach)return"";var t=[];return e.headers.forEach((function(e,n){t.push(n+": "+e)})),t.join("\r\n")}},ne=[],re=function(){var e=this;this.name="StaticPerformanceMonitor",this.setup=function(t){E()&&(e._callback=t,R((function(){return e._sendPerformance()})))},this._sendPerformance=function(){if(E()){var t=e._getParams();f(e._callback)&&e._callback({name:e.name,event:t})}},this._getParams=function(){return{resources:e._getResources()}},this._getResources=function(){return E()?window.performance.getEntriesByType("resource").filter((function(e){return!k(ne,e.initiatorType)})):[]}},oe=0,ie=["ms","moz","webkit","o"],ae=function(){for(var e=window.requestAnimationFrame,t=0;t<ie.length&&!e;++t)e=window[ie[t]+"RequestAnimationFrame"];return e||function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-oe)),r=window.setTimeout((function(){e(t+n)}),n);return oe=t+n,r}},se=function(){for(var e=window.cancelAnimationFrame,t=0;t<ie.length&&!e;++t)e=window[ie[t]+"CancelAnimationFrame"]||window[ie[t]+"CancelRequestAnimationFrame"];return e||function(e){clearTimeout(e)}},ce=function(){var e=this;this.name="FirstScreenMonitor",this.setup=function(t){g()&&(e._callback=t,e._start())},this._start=function(){var t,n=ae(),r=se(),o=!1,i=(window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0)||0,a=[],s=!1,c=!1,l=e;function u(){var e,d;if(s){if(a.length&&!c)for(e=0;e<a.length;e++){if(!(d=a[e]).complete){c=!1;break}c=!0}else c=!0;if(c)return o||(o=!0,f(l._callback)&&l._callback({time:Date.now()})),void r(t)}else{var p=document.querySelectorAll("img");for(e=0;e<p.length;e++){var h=le(d=p[e]);if(i<h){s=!0;break}h<=i&&!d.hasPushed&&(d.hasPushed=1,a.push(d))}}t=n(u)}if(t=n(u),"complete"===document.readyState)return s=c=!0,r(t),void u();document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("img").length||(s=!0,r(t),u())})),window.addEventListener("load",(function(){s=c=!0,r(t),u()}),!1)}};function le(e){if(!e)return 0;var t=e.offsetTop;return e.offsetParent&&(t+=le(e.offsetParent)),t}var ue=function(){var e=this;this.name="PerformanceMonitor",this.setup=function(t){w()&&(e._callback=t,e._sendParams={ev_type:"perf",has_resource:0},R((function(){return e._perfLog()})),(new re).setup(e._hasResource),(new ce).setup(e._hasFirstScreen))},this._hasResource=function(t){e._sendParams=c(c(c({},e._sendParams),t.event),{has_resource:1})},this._hasFirstScreen=function(t){w()&&(e._sendParams.firstscreen=t.time-window.performance.timing.navigationStart)},this._getParams=function(){if(w()){var t={},n=window.performance.timing;t.dns=n.domainLookupEnd-n.domainLookupStart,t.tcp=n.connectEnd-n.connectStart,t.request=n.responseStart-n.requestStart,t.response=n.responseEnd-n.responseStart,t.processing=n.domComplete-n.domLoading,t.blank=n.responseEnd-n.navigationStart,t.domready=n.domInteractive-n.navigationStart,t.load=n.loadEventEnd-n.navigationStart,n.secureConnectionStart&&(t.ssl=n.connectEnd-n.secureConnectionStart),t.domparse=n.domInteractive-n.responseEnd,t.resource=n.loadEventStart-n.domContentLoadedEventEnd,t.ttfb=n.responseStart-n.requestStart,t.redirct=n.redirectEnd-n.redirectStart;var r=e._getPaintTime("first-paint"),o=e._getPaintTime("first-contentful-paint");return r&&(t.fp=Math.round(r)),o&&(t.fcp=Math.round(o)),t.navigation=function(){if(!E())return window.performance.timing;var e=window.performance.getEntriesByType("navigation");return m(e)&&0!==e.length?e[0]:window.performance.timing}(),t}},this._getPaintTime=function(e){if(E()){var t=performance.getEntriesByType("paint");if(m(t)){var n=t.filter((function(t){return t.name===e}));return 0===n.length?0:n[0].startTime}}return 0},this._perfLog=function(){setTimeout((function(){w()&&(e._sendParams=c(c({},e._sendParams),e._getParams()),e._sendParams.firstscreen||(e._sendParams.firstscreen=e._sendParams.domready),f(e._callback)&&e._callback({name:e.name,type:"post",event:e._sendParams}))}),0)}},de=function(){var e=this;this.name="PathMonitor",this.setup=function(t){g()&&(e._callback=t,e._start())},this._start=function(){e._monitorHashChange(),g()&&p(window.history)&&f(window.history.pushState)&&f(window.history.replaceState)&&(e._monitorPushState(),e._monitorReplaceState())},this._monitorHashChange=function(){window.addEventListener("hashchange",(function(){var t=e._parseHash(location.hash);t&&e._pathChangeHandler(e._getPath(t),"hash")}))},this._monitorPushState=function(){var t=e,n=window.history.pushState;n&&(window.history.pushState=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t._handleHistoryStateChange.apply(t,d(e)),n.apply(this,e)})},this._monitorReplaceState=function(){var t=e,n=window.history.replaceState;n&&(window.history.replaceState=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t._handleHistoryStateChange.apply(t,d(e)),n.apply(this,e)})},this._pathChangeHandler=function(t,n){h(t)&&f(e._callback)&&e._callback({name:e.name,type:"get",event:{ev_type:"pageview",path:t,type:n}})},this._handleHistoryStateChange=function(t,n,r){var o=e._parseURL(r),i=e._parseURL(location.href);o&&i&&(o.pathname===i.pathname?o.hash===i.hash||e._pathChangeHandler(e._getPath(i.hash),"hash"):e._pathChangeHandler(e._getPath(o.pathname),"pathname"))},this._parseURL=function(e){if(!e)return null;if("string"!=typeof e)return null;if(e.match(/^\/[^\/]/))return new URL(location.protocol+"//"+location.host+e);try{return new URL(e)}catch(e){return null}},this._parseHash=function(e){return e?"string"!=typeof e?"":e.replace(/^#/,""):""},this._getPath=function(t){var n=t&&"string"==typeof t?t.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):"";return e._parseHash(n)}},pe=j(["bytecdn.cn","pstatp.com","snssdk.com","toutiao.com","365yg.com","byted.org"]),fe=(he.prototype._sendHijackEvent=function(){f(this._callback)&&this._callback({name:this.name,type:"post",event:{ev_type:"hijack",events:this._events}})},he);function he(){var e=this;this.name="HijackMonitor",this.setup=function(t){g()&&(e._callback=t,e._start())},this._start=function(){R((function(){setTimeout((function(){e._antiHijack()}),2e3)}))},this._antiHijack=function(){e._checkScripts(),e._checkIframe(),e._sendHijackEvent()},this._checkScripts=function(){for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++){var r=t[n],o=I(r.src);r.src?e._inWhiteListDomain(o.hostname)||e._events.push({hijack_type:"script",hijack_host:o.host,hijack_content:r.src}):e._inWhiteListContent(r.innerHTML)||e._events.push({hijack_type:"script",hijack_host:"unknown",hijack_content:r.innerHTML})}},this._checkIframe=function(){for(var t=document.getElementsByTagName("iframe"),n=0,r=t.length;n<r;n++){var o=t[n],i=o.src,a="about:blank";if(i&&i!==a){var s=I(i);0===s.protocol.indexOf("http")&&s.hostname&&e._inWhiteListIframeDomain(s.hostname)&&e._events.push({hijack_type:"iframe",hijack_host:s.host,hijack_content:i})}else if(i===a){var c="";try{o.contentDocument&&o.contentDocument.body&&o.contentDocument.body.innerHTML&&(c=o.contentDocument.body.innerHTML)}catch(t){c="Access is denied"}c&&e._events.push({hijack_type:"iframe",hijack_host:a,hijack_content:c})}}},this._inWhiteListDomain=function(e){return!(!pe||!pe.test(e))},this._inWhiteListContent=function(e){return!1},this._inWhiteListIframeDomain=function(t){return e._inWhiteListDomain(t)},this._events=[]}var me=Object.prototype.hasOwnProperty,_e="~";function ve(){}function ge(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function ye(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new ge(n,r||e,o),a=_e?_e+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],i]:e._events[a].push(i):(e._events[a]=i,e._eventsCount++),e}function we(e,t){0==--e._eventsCount?e._events=new ve:delete e._events[t]}function Ee(){this._events=new ve,this._eventsCount=0}Object.create&&(ve.prototype=Object.create(null),(new ve).__proto__||(_e=!1)),Ee.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)me.call(e,t)&&n.push(_e?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},Ee.prototype.listeners=function(e){var t=_e?_e+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},Ee.prototype.listenerCount=function(e){var t=_e?_e+e:e,n=this._events[t];return n?n.fn?1:n.length:0},Ee.prototype.emit=function(e,t,n,r,o,i){var a=_e?_e+e:e;if(!this._events[a])return!1;var s,c,l=this._events[a],u=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,o),!0;case 6:return l.fn.call(l.context,t,n,r,o,i),!0}for(c=1,s=new Array(u-1);c<u;c++)s[c-1]=arguments[c];l.fn.apply(l.context,s)}else{var d,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),u){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!s)for(d=1,s=new Array(u-1);d<u;d++)s[d-1]=arguments[d];l[c].fn.apply(l[c].context,s)}}return!0},Ee.prototype.on=function(e,t,n){return ye(this,e,t,n,!1)},Ee.prototype.once=function(e,t,n){return ye(this,e,t,n,!0)},Ee.prototype.removeListener=function(e,t,n,r){var o=_e?_e+e:e;if(!this._events[o])return this;if(!t)return we(this,o),this;var i=this._events[o];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||we(this,o);else{for(var a=0,s=[],c=i.length;a<c;a++)(i[a].fn!==t||r&&!i[a].once||n&&i[a].context!==n)&&s.push(i[a]);s.length?this._events[o]=1===s.length?s[0]:s:we(this,o)}return this},Ee.prototype.removeAllListeners=function(e){var t;return e?(t=_e?_e+e:e,this._events[t]&&we(this,t)):(this._events=new ve,this._eventsCount=0),this},Ee.prototype.off=Ee.prototype.removeListener,Ee.prototype.addListener=Ee.prototype.on,Ee.prefixed=_e;var be=new(Ee.EventEmitter=Ee);function Se(e){if(e&&h(e)&&g()&&p(document)&&f(document.createElement)){var t=document.createElement("script"),n=document.head;p(t)&&p(n)&&(t.src=e,t.async=!0,t.crossorigin="anonymous",f(n.appendChild)&&n.appendChild(t))}}var xe,Te,Oe,Ce,ke,Ne,Ie,Ae,De,Re,Le,Pe="https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/slardar/plugins/sentry.2.1.17.71e8145f.js",Me="https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/slardar/plugins/behavior.2.1.17.ba349dc6.js",je=function(){var e,t=this;this.version="2.1.21",this._setBaseParams=function(){t.baseParams.bid=t.shared.config.commonParams.bid||"",t.baseParams.pid=t.shared.config.commonParams.pid||""},this.instance=function(){for(var e,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=r[0],a=r.slice(1);if("config"!==i){if(t._client)if("send"!==i)if("sendCustomCountLog"!==i)if("sendCustomTimeLog"!==i)if("precollect"!==i)if("Sentry"!==i){if("emit"===i){if(!r[1]||!r[2])return;var s={type:r[1],event:r[2]};t._client.emitEvent(s)}}else{var c=r[1];f(c)&&(t.shared.plugins&&t.shared.plugins.sentry?c(t.shared.plugins.sentry):t.shared.collect&&t.shared.collect.Sentry.push(a[0]))}else{if(t.shared.instance&&!t.shared.instance.length)return;if("error"!==r[1])return;if(!r[2]||!r[2][0])return;var l=r[2][0]||{};"error"===l.type&&(t.shared.monitors&&t.shared.monitors.StaticErrorMonitor&&f(t.shared.monitors.StaticErrorMonitor.staticErrorLog)&&t.shared.monitors.StaticErrorMonitor.staticErrorLog(l),t._collectSentryEvent(l))}else(n=t._client).sendCustomTimeLog.apply(n,d(a));else(e=t._client).sendCustomCountLog.apply(e,d(a));else t._send(a)}else{var u=r[1];t._configSetting=u,t._configSetting&&t._configSetting.onlyUseLocalSetting&&(t._serverSetting={});var p=t._normalizeSetting(u);t._client?t._client.updateConfig(p):t._init(p)}},this._collectSentryEvent=function(e){t.shared.plugins&&!t.shared.plugins.sentry&&(e.error?t.instance("Sentry",(function(t){t.captureException(e.error)})):e.message&&t.instance("Sentry",(function(t){t.captureMessage(e.message)})))},this._init=function(e){t.shared.monitors={StaticErrorMonitor:new $,PerformanceMonitor:new ue,PathMonitor:new de,HijackMonitor:new fe,AjaxMonitor:new Z,FetchMonitor:new te};var n=[t.shared.monitors.StaticErrorMonitor,t.shared.monitors.PerformanceMonitor,t.shared.monitors.PathMonitor,t.shared.monitors.HijackMonitor,t.shared.monitors.AjaxMonitor,t.shared.monitors.FetchMonitor],r=c(c({},e),{defaultMonitors:n});t._client=new J(r),t.shared.instance&&m(t.shared.instance)&&t.shared.instance.push(r.commonParams.bid),t._getServerSetting(r.commonParams.bid),t._handlePrecollect()},this._handlePrecollect=function(){f(window.removeEventListener)&&window.Slardar&&window.Slardar.globalPreCollectError&&f(window.Slardar.globalPreCollectError)&&window.removeEventListener("error",window.Slardar.globalPreCollectError,!0),f(window.addEventListener)&&window.addEventListener("error",(function(e){t._collectSentryEvent(e)}))},this._send=function(e){if("count"===e[0]){var n=e[1],r=n.category,o=n.action;t._client.sendCustomCountLog(r,o)}if("timing"===e[0]){var i=e[1],a=(r=i.category,o=i.action,i.value);t._client.sendCustomTimeLog(r,o,a)}},this._getServerSetting=function(e){var n=t._serverSetting;if(n){var r=t._normalizeSetting(n);t._initServerSetting(r)}else{var o="https://"+(t._baseClientConfig.commonParams.report_domain||F)+"/slardar/sdk_setting?bid="+e;W.get(o,{success:function(e){try{var n=t._normalizeSetting(e.data);t._initServerSetting(n)}catch(e){t._initServerSetting(t._baseClientConfig)}},fail:function(){t._initServerSetting(t._baseClientConfig)}})}},this._initServerSetting=function(e){var n=t._normalizeSetting(e);t._client.updateConfig(n),Math.random()<n.commonParams.sample_rate&&(t._client.setupTransport(),t._client.sendPageview(),t.shared.transport=t._client._transport,t.shared.sendEvent=t._client.sendEvent),t._setCookie(n.commonParams.slardar_web_id),t.shared&&"script"===t.shared.installedType&&t._loadPlugins(e),t.shared&&t.shared.emitter&&t.shared.emitter.emit&&f(t.shared.emitter.emit)&&"npm"===t.shared.installedType&&t.shared.emitter.emit("pluginsReady",n)},this._loadPlugins=function(e){var t=e.plugins;t.sentry&&t.sentry.enable&&Se(t.sentry.download_link||Pe),(t.behavior&&t.behavior.enable||t.sentry&&t.sentry.enable&&t.sentry.behavior_enable)&&Se(t.behavior.download_link||Me)},this._setCookie=function(e){e&&(document.cookie=B+"="+e+";max-age=7776000;domain="+location.hostname+";path=/")},this._getSlardarWebId=function(){var e="";return document&&document.cookie&&(e=M(document.cookie,B)),e},this._normalizeSetting=function(e){void 0===e&&(e=t._baseClientConfig);var n=t._getClientCommonParams(e),r=t._getClientMonitorsSetting(e),o=t._getClientPluginsSetting(e),i=t._getClientCustom(e),a=O(t._baseClientConfig,{commonParams:n,plugins:o,monitors:r,custom:i},{commonParams:e.commonParams||{},plugins:e.plugins||{},monitors:e.monitors||{},custom:e.custom||{}},{commonParams:t._getClientCommonParams(t._configSetting),plugins:t._getClientPluginsSetting(t._configSetting),monitors:t._getClientMonitorsSetting(t._configSetting),custom:t._getClientCustom(t._configSetting)});return t.shared.config=a,t._setBaseParams(),t._baseClientConfig=a},this._getClientCommonParams=function(e){var t={},n=["bid","context","pid","sample_rate","slardar_session_id","slardar_web_id"];return T(e,(function(e,r){k(n,e)&&(t[e]=r)})),e.cookieid&&(t.slardar_web_id=e.cookieid),x(e,"sampleRate")&&(t.sample_rate=e.sampleRate),e.reportDomain&&(t.report_domain=e.reportDomain),e.domain&&(t.report_domain=e.domain),t.slardar_web_id&&(t.slardar_web_id=t.slardar_web_id.toString()),t},this._getClientCustom=function(e){var t={};return f(e.beforeSend)&&(t.beforeSend=e.beforeSend),t},this._getClientMonitorsSetting=function(e){var n=c(c({},t._baseClientConfig.monitors),e.monitors||{});return e.ajaxWhitelistUrls&&(n.AjaxMonitor=c(c({},n.AjaxMonitor),{whitelistUrls:n.AjaxMonitor.whitelistUrls.concat(m(e.ajaxWhitelistUrls)?e.ajaxWhitelistUrls:[])})),e.ignoreAjax&&(n.AjaxMonitor=c(c({},n.AjaxMonitor),{ignore:n.AjaxMonitor.ignore.concat(m(e.ignoreAjax)?e.ignoreAjax:[])})),x(e,"hookFetch")&&(n.AjaxMonitor=c(c({},n.AjaxMonitor),{hookFetch:e.hookFetch})),x(e,"enableSizeStats")&&(n.AjaxMonitor=c(c({},n.AjaxMonitor),{hookFetch:e.hookFetch})),x(e,"geckoUrls")&&(n.PerformanceMonitor=c(c({},n.PerformanceMonitor||{}),{geckoUrls:e.geckoUrls})),e.ignoreStatic&&(n.StaticErrorMonitor=c(c({},n.StaticErrorMonitor),{ignore:n.StaticErrorMonitor.ignore.concat(m(e.ignoreStatic)?e.ignoreStatic:[])})),n},this._getClientPluginsSetting=function(e){return e.plugins||{}},this._baseClientConfig={defaultMonitors:[],commonParams:{version:this.version,hostname:window.location.hostname,protocol:window.location.protocol.slice(0,-1),url:window.location.href,slardar_session_id:V,sample_rate:1,pid:location.pathname,report_domain:F,screen_resolution:g()&&window.screen&&window.screen.width&&window.screen.height?window.screen.width+"x"+window.screen.height:"0x0",network_type:(e=navigator.connection||navigator.mozConnection||navigator.webkitConnection)&&h(e.effectiveType)?e.effectiveType:"unknown",bid:"",context:{},slardar_web_id:this._getSlardarWebId()||q},monitors:{AjaxMonitor:{ignore:H,hookFetch:!0,enableSizeStats:!1,abort:!1,whitelistUrls:[]},StaticErrorMonitor:{ignore:H},PerformanceMonitor:{resourceSampleRate:.1,slowSessionTime:8e3,geckoUrls:[],interval:0,checkPoint:[]},HijackMonitor:{sampleRate:.1}},plugins:{spa:{enable:0,type:""},behavior:{enable:0,slardar_web_ids:[],sample_rate:0,patterns:[],download_link:Me},sentry:{enable:0,behavior_enable:!1,behavior_sample_rate:0,behavior_slardar_web_ids:[],download_link:Pe,tags:{}}},custom:{beforeSend:function(e){return e}}},this._client=void 0,this._configSetting={},this.shared={config:this._baseClientConfig,transport:this._client?this._client._transport:void 0,emitter:be,instance:[],collect:{Sentry:[],staticError:[]},plugins:{},monitors:{},sendEvent:void 0},this.baseParams={bid:this.shared.config.commonParams.bid||"",pid:this.shared.config.commonParams.pid||""},this._serverSetting=this.__SLARDAR__REPALCE__HOLDER__},Ue=A;if(g()){var He=new je;(Ue=He.instance).version=He.version,Ue.shared=He.shared,Ue.SlardarBrowser=je,Ue._baseParams=He.baseParams,window.Slardar&&window.Slardar.shared&&window.Slardar.shared.instance&&window.Slardar.shared.instance.length?Ue=window.Slardar:(window.Slardar&&window.Slardar.q&&(Ue.q=window.Slardar.q),window.Slardar&&window.Slardar.globalPreCollectError&&(Ue.globalPreCollectError=window.Slardar.globalPreCollectError),window.Slardar&&window.Slardar.i&&(Ue.i=window.Slardar.i),window.Slardar=Ue)}Ue.shared&&(Ue.shared.installedType="npm"),function(){function t(e){return"function"==typeof e}function r(){var e=setTimeout;return function(){return e(i,1)}}function i(){for(var e=0;e<S;e+=2)(0,D[e])(D[e+1]),D[e]=void 0,D[e+1]=void 0;S=0}function a(e,t){var n=this,r=new this.constructor(c);void 0===r[L]&&v(r);var o=n._state;if(o){var i=arguments[o-1];O((function(){return _(o,r,i,n._result)}))}else h(n,r,e,t);return r}function s(e){if(e&&"object"==o(e)&&e.constructor===this)return e;var t=new this(c);return u(t,e),t}function c(){}function l(e,n,r){var o,i;n.constructor===e.constructor&&r===a&&n.constructor.resolve===s?(o=e,(i=n)._state===M?p(o,i._result):i._state===j?f(o,i._result):h(i,void 0,(function(e){return u(o,e)}),(function(e){return f(o,e)}))):void 0===r?p(e,n):t(r)?function(e,t,n){O((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?u(e,n):p(e,n))}),(function(t){r||(r=!0,f(e,t))}),e._label);!r&&o&&(r=!0,f(e,o))}),e)}(e,n,r):p(e,n)}function u(e,t){if(e===t)f(e,new TypeError("You cannot resolve a promise with itself"));else if(i=o(r=t),null===r||"object"!==i&&"function"!==i)p(e,t);else{var n=void 0;try{n=t.then}catch(t){return void f(e,t)}l(e,t,n)}var r,i}function d(e){e._onerror&&e._onerror(e._result),m(e)}function p(e,t){e._state===P&&(e._result=t,e._state=M,0!==e._subscribers.length&&O(m,e))}function f(e,t){e._state===P&&(e._state=j,e._result=t,O(d,e))}function h(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+M]=n,o[i+j]=r,0===i&&e._state&&O(m,e)}function m(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?_(n,r,o,i):o(i);e._subscribers.length=0}}function _(e,n,r,o){var i=t(r),a=void 0,s=void 0,c=!0;if(i){try{a=r(o)}catch(e){c=!1,s=e}if(n===a)return void f(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;n._state!==P||(i&&c?u(n,a):!1===c?f(n,s):e===M?p(n,a):e===j&&f(n,a))}function v(e){e[L]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}var g,y,w,E,b=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},S=0,x=void 0,T=void 0,O=function(e,t){D[S]=e,D[S+1]=t,2===(S+=2)&&(T?T(i):R())},C="undefined"!=typeof window?window:void 0,k=C||{},N=k.MutationObserver||k.WebKitMutationObserver,I="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),A="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,D=new Array(1e3),R=void 0;R=I?function(){return e.nextTick(i)}:N?(y=0,w=new N(i),E=document.createTextNode(""),w.observe(E,{characterData:!0}),function(){E.data=y=++y%2}):A?((g=new MessageChannel).port1.onmessage=i,function(){return g.port2.postMessage(0)}):void 0===C?function(){try{var e=Function("return this")().require("vertx");return void 0!==(x=e.runOnLoop||e.runOnContext)?function(){x(i)}:r()}catch(e){return r()}}():r();var L=Math.random().toString(36).substring(2),P=void 0,M=1,j=2,U=0,H=(V.prototype._enumerate=function(e){for(var t=0;this._state===P&&t<e.length;t++)this._eachEntry(e[t],t)},V.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===s){var o=void 0,i=void 0,u=!1;try{o=e.then}catch(t){u=!0,i=t}if(o===a&&e._state!==P)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===F){var d=new n(c);u?f(d,i):l(d,e,o),this._willSettleAt(d,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},V.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===P&&(this._remaining--,e===j?f(r,n):this._result[t]=n),0===this._remaining&&p(r,this._result)},V.prototype._willSettleAt=function(e,t){var n=this;h(e,void 0,(function(e){return n._settledAt(M,t,e)}),(function(e){return n._settledAt(j,t,e)}))},V),F=(B.prototype.catch=function(e){return this.then(null,e)},B.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},B);function B(e){this[L]=U++,this._result=this._state=void 0,this._subscribers=[],c!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof B?function(e,t){try{t((function(t){u(e,t)}),(function(t){f(e,t)}))}catch(t){f(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function V(e,t){this._instanceConstructor=e,this.promise=new e(c),this.promise[L]||v(this.promise),b(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?p(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&p(this.promise,this._result))):f(this.promise,new Error("Array Methods must be provided an Array"))}F.prototype.then=a,F.all=function(e){return new H(this,e).promise},F.race=function(e){var t=this;return new t(b(e)?function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},F.resolve=s,F.reject=function(e){var t=new this(c);return f(t,e),t},F._setScheduler=function(e){T=e},F._setAsap=function(e){O=e},F._asap=O,F.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=F},(F.Promise=F).polyfill()}(),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0}),Number.isNaN=Number.isNaN||function(e){return e!=e},String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),(Te=xe=xe||{})[Te.None=0]="None",Te[Te.Error=1]="Error",Te[Te.Debug=2]="Debug",Te[Te.Verbose=3]="Verbose",(Ce=Oe=Oe||{}).Fatal="fatal",Ce.Error="error",Ce.Warning="warning",Ce.Log="log",Ce.Info="info",Ce.Debug="debug",Ce.Critical="critical",(ke=Oe=Oe||{}).fromString=function(e){switch(e){case"debug":return ke.Debug;case"info":return ke.Info;case"warn":case"warning":return ke.Warning;case"error":return ke.Error;case"fatal":return ke.Fatal;case"critical":return ke.Critical;case"log":default:return ke.Log}},(Ie=Ne=Ne||{}).Ok="ok",Ie.DealineExceeded="deadline_exceeded",Ie.Unauthenticated="unauthenticated",Ie.PermissionDenied="permission_denied",Ie.NotFound="not_found",Ie.ResourceExhausted="resource_exhausted",Ie.InvalidArgument="invalid_argument",Ie.Unimplemented="unimplemented",Ie.Unavailable="unavailable",Ie.InternalError="internal_error",Ie.UnknownError="unknown_error",Ie.Cancelled="cancelled",Ie.AlreadyExists="already_exists",Ie.FailedPrecondition="failed_precondition",Ie.Aborted="aborted",Ie.OutOfRange="out_of_range",Ie.DataLoss="data_loss",(Ae=Ne=Ne||{}).fromHttpCode=function(e){if(e<400)return Ae.Ok;if(400<=e&&e<500)switch(e){case 401:return Ae.Unauthenticated;case 403:return Ae.PermissionDenied;case 404:return Ae.NotFound;case 409:return Ae.AlreadyExists;case 413:return Ae.FailedPrecondition;case 429:return Ae.ResourceExhausted;default:return Ae.InvalidArgument}if(500<=e&&e<600)switch(e){case 501:return Ae.Unimplemented;case 503:return Ae.Unavailable;case 504:return Ae.DealineExceeded;default:return Ae.InternalError}return Ae.UnknownError},(Re=De=De||{}).Unknown="unknown",Re.Skipped="skipped",Re.Success="success",Re.RateLimit="rate_limit",Re.Invalid="invalid",Re.Failed="failed",(Le=De=De||{}).fromHttpCode=function(e){return 200<=e&&e<300?Le.Success:429===e?Le.RateLimit:400<=e&&e<500?Le.Invalid:500<=e?Le.Failed:Le.Unknown};var Fe,Be=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e}),Ve=(s(qe,Fe=Error),qe);function qe(e){var t=this.constructor,n=Fe.call(this,e)||this;return n.message=e,n.name=t.prototype.constructor.name,Be(n,t.prototype),n}function We(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Qe(e,Error)}}function Ge(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function ze(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function Ye(e){return"[object String]"===Object.prototype.toString.call(e)}function Xe(e){return null===e||"object"!==o(e)&&"function"!=typeof e}function Je(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ke(e){return"undefined"!=typeof Event&&Qe(e,Event)}function $e(e){return"undefined"!=typeof Element&&Qe(e,Element)}function Ze(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function Qe(e,t){try{return e instanceof t}catch(e){return!1}}function et(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}var tt={};function nt(){return et()?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:tt}function rt(){var e=nt(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function ot(e){if(!e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function it(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function at(e){var t=nt();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)}));var o=e();return Object.keys(r).forEach((function(e){n[e]=r[e]})),o}function st(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function ct(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(n){e.exception.values[0].mechanism[n]=t[n]}))}catch(e){}}function lt(e){try{for(var t=e,n=[],r=0,o=0,i=" > ".length,a=void 0;t&&r++<5&&!("html"===(a=ut(t))||1<r&&80<=o+n.length*i+a.length);)n.push(a),o+=a.length,t=t.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function ut(e){var t,n,r,o,i,a=e,s=[];if(!a||!a.tagName)return"";if(s.push(a.tagName.toLowerCase()),a.id&&s.push("#"+a.id),(t=a.className)&&Ye(t))for(n=t.split(/\s+/),i=0;i<n.length;i++)s.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],(o=a.getAttribute(r))&&s.push("["+r+'="'+o+'"]');return s.join("")}function dt(){return(new Date).getTime()/1e3}function pt(e,t){if(!t)return 6e4;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}var ft="<anonymous>";function ht(e){try{return e&&"function"==typeof e&&e.name||ft}catch(e){return ft}}var mt=nt(),_t="Sentry Logger ",vt=(gt.prototype.disable=function(){this._enabled=!1},gt.prototype.enable=function(){this._enabled=!0},gt.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&at((function(){mt.console.log(_t+"[Log]: "+e.join(" "))}))},gt.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&at((function(){mt.console.warn(_t+"[Warn]: "+e.join(" "))}))},gt.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&at((function(){mt.console.error(_t+"[Error]: "+e.join(" "))}))},gt);function gt(){this._enabled=!1}mt.__SENTRY__=mt.__SENTRY__||{};var yt,wt,Et=mt.__SENTRY__.logger||(mt.__SENTRY__.logger=new vt),bt=(St.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e)return!0;return this._inner.push(e),!1},St.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},St);function St(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}function xt(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"..."}function Tt(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var o=e[r];try{n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function Ot(e,t){return n=t,"[object RegExp]"===Object.prototype.toString.call(n)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t);var n}function Ct(e,t,n){if(t in e){var r=e[t],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:r}})}catch(e){}e[t]=o}}function kt(e){if(We(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}if(Ke(e)){var o=e,i={};i.type=o.type;try{i.target=$e(o.target)?lt(o.target):Object.prototype.toString.call(o.target)}catch(e){i.target="<unknown>"}try{i.currentTarget=$e(o.currentTarget)?lt(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch(e){i.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&Qe(e,CustomEvent)&&(i.detail=o.detail),o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o);return i}return e}function Nt(e,t){return"domain"===t&&e&&"object"===o(e)&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":void 0!==n&&e===n?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Je(r=e)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+ht(e)+"]":e;var r}function It(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,n){return function e(t,n,r,o){if(void 0===r&&(r=1/0),void 0===o&&(o=new bt),0===r)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=Nt(e);return Xe(n)?n:t}(n);if(null!=n&&"function"==typeof n.toJSON)return n.toJSON();var i=Nt(n,t);if(Xe(i))return i;var a=kt(n),s=Array.isArray(n)?[]:{};if(o.memoize(n))return"[Circular ~]";for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=e(c,a[c],r-1,o));return o.unmemoize(n),s}(e,n,t)})))}catch(e){return"**non-serializable**"}}(wt=yt=yt||{}).PENDING="PENDING",wt.RESOLVED="RESOLVED",wt.REJECTED="REJECTED";var At=(Dt.prototype.toString=function(){return"[object SyncPromise]"},Dt.resolve=function(e){return new Dt((function(t){t(e)}))},Dt.reject=function(e){return new Dt((function(t,n){n(e)}))},Dt.all=function(e){return new Dt((function(t,n){if(Array.isArray(e))if(0!==e.length){var r=e.length,o=[];e.forEach((function(e,i){Dt.resolve(e).then((function(e){o[i]=e,0==--r&&t(o)})).then(null,n)}))}else t([]);else n(new TypeError("Promise.all requires an array as input."))}))},Dt.prototype.then=function(e,t){var n=this;return new Dt((function(r,o){n._attachHandler({onfulfilled:function(t){if(e)try{return void r(e(t))}catch(t){return void o(t)}else r(t)},onrejected:function(e){if(t)try{return void r(t(e))}catch(e){return void o(e)}else o(e)}})}))},Dt.prototype.catch=function(e){return this.then((function(e){return e}),e)},Dt.prototype.finally=function(e){var t=this;return new Dt((function(n,r){var o,i;return t.then((function(t){i=!1,o=t,e&&e()}),(function(t){i=!0,o=t,e&&e()})).then((function(){i?r(o):n(o)}))}))},Dt);function Dt(e){var t=this;this._state=yt.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(yt.RESOLVED,e)},this._reject=function(e){t._setResult(yt.REJECTED,e)},this._setResult=function(e,n){t._state===yt.PENDING&&(Ze(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){t._state!==yt.PENDING&&(t._state===yt.REJECTED?t._handlers.forEach((function(e){e.onrejected&&e.onrejected(t._value)})):t._handlers.forEach((function(e){e.onfulfilled&&e.onfulfilled(t._value)})),t._handlers=[])};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}var Rt=(Lt.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},Lt.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then((function(){return t.remove(e)})).then(null,(function(){return t.remove(e).then(null,(function(){}))})),e):At.reject(new Ve("Not adding Promise due to buffer limit reached."))},Lt.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},Lt.prototype.length=function(){return this._buffer.length},Lt.prototype.drain=function(e){var t=this;return new At((function(n){var r=setTimeout((function(){e&&0<e&&n(!1)}),e);At.all(t._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},Lt);function Lt(e){this._limit=e,this._buffer=[]}function Pt(){if(!("fetch"in nt()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function Mt(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}var jt,Ut=nt(),Ht={},Ft={};function Bt(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(Ht[e.type]=Ht[e.type]||[],Ht[e.type].push(e.callback),function(e){if(!Ft[e])switch(Ft[e]=!0,e){case"console":"console"in Ut&&["debug","info","warn","error","log","assert"].forEach((function(e){e in Ut.console&&Ct(Ut.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Vt("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,Ut.console,n)}}))}));break;case"dom":"document"in Ut&&(Ut.document.addEventListener("click",zt("click",Vt.bind(null,"dom")),!1),Ut.document.addEventListener("keypress",Yt(Vt.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(e){var t=Ut[e]&&Ut[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(Ct(t,"addEventListener",(function(e){return function(t,n,r){return n&&n.handleEvent?("click"===t&&Ct(n,"handleEvent",(function(e){return function(t){return zt("click",Vt.bind(null,"dom"))(t),e.call(this,t)}})),"keypress"===t&&Ct(n,"handleEvent",(function(e){return function(t){return Yt(Vt.bind(null,"dom"))(t),e.call(this,t)}}))):("click"===t&&zt("click",Vt.bind(null,"dom"),!0)(this),"keypress"===t&&Yt(Vt.bind(null,"dom"))(this)),e.call(this,t,n,r)}})),Ct(t,"removeEventListener",(function(e){return function(t,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(t){}return e.call(this,t,o,r)}})))})));break;case"xhr":!function(){if("XMLHttpRequest"in Ut){var e=XMLHttpRequest.prototype;Ct(e,"open",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[1];return this.__sentry_xhr__={method:Ye(t[0])?t[0].toUpperCase():t[0],url:t[1]},Ye(r)&&"POST"===this.__sentry_xhr__.method&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0),e.apply(this,t)}})),Ct(e,"send",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,o={args:t,startTimestamp:Date.now(),xhr:r};function i(){if(4===r.readyState){try{r.__sentry_xhr__&&(r.__sentry_xhr__.status_code=r.status)}catch(e){}Vt("xhr",c({},o,{endTimestamp:Date.now()}))}}return Vt("xhr",c({},o)),"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?Ct(r,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i(),e.apply(r,t)}})):r.onreadystatechange=i,e.apply(this,t)}}))}}();break;case"fetch":(function(){if(!Pt())return!1;var e=nt();if(Mt(e.fetch))return!0;var t=!1,n=e.document;if(n){var r=n.createElement("iframe");r.hidden=!0;try{n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=Mt(r.contentWindow.fetch)),n.head.removeChild(r)}catch(e){Et.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}}return t})()&&Ct(Ut,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:function(e){return void 0===e&&(e=[]),"Request"in Ut&&Qe(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}(t),url:function(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in Ut&&Qe(e[0],Request)?e[0].url:String(e[0])}(t)},startTimestamp:Date.now()};return Vt("fetch",c({},r)),e.apply(Ut,t).then((function(e){return Vt("fetch",c({},r,{endTimestamp:Date.now(),response:e})),e}),(function(e){throw Vt("fetch",c({},r,{endTimestamp:Date.now(),error:e})),e}))}}));break;case"history":!function(){if(function(){var e=nt(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}()){var e=Ut.onpopstate;Ut.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ut.location.href;if(Vt("history",{from:jt,to:jt=r}),e)return e.apply(this,t)},Ct(Ut.history,"pushState",t),Ct(Ut.history,"replaceState",t)}function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=2<t.length?t[2]:void 0;if(r){var o=jt,i=String(r);Vt("history",{from:o,to:jt=i})}return e.apply(this,t)}}}();break;default:Et.warn("unknown instrumentation type:",e)}}(e.type))}function Vt(e,t){var n,r;if(e&&Ht[e])try{for(var o=l(Ht[e]||[]),i=o.next();!i.done;i=o.next()){var a=i.value;try{a(t)}catch(t){Et.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+ht(a)+"\nError: "+t)}}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var qt,Wt,Gt=0;function zt(e,t,n){return void 0===n&&(n=!1),function(r){qt=void 0,r&&Wt!==r&&(Wt=r,Gt&&clearTimeout(Gt),n?Gt=setTimeout((function(){t({event:r,name:e})})):t({event:r,name:e}))}}function Yt(e){return function(t){var n;try{n=t.target}catch(t){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(qt||zt("input",e)(t),clearTimeout(qt),qt=setTimeout((function(){qt=void 0}),1e3))}}var Xt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,Jt="Invalid Dsn",Kt=($t.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,o=t.pass,i=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+a},$t.prototype._fromString=function(e){var t=Xt.exec(e);if(!t)throw new Ve(Jt);var n=u(t.slice(1),6),r=n[0],o=n[1],i=n[2],a=void 0===i?"":i,s=n[3],c=n[4],l=void 0===c?"":c,d="",p=n[5],f=p.split("/");1<f.length&&(d=f.slice(0,-1).join("/"),p=f.pop()),this._fromComponents({host:s,pass:a,path:d,projectId:p,port:l,protocol:r,user:o})},$t.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},$t.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach((function(t){if(!e[t])throw new Ve(Jt)})),"http"!==this.protocol&&"https"!==this.protocol)throw new Ve(Jt);if(this.port&&isNaN(parseInt(this.port,10)))throw new Ve(Jt)},$t);function $t(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}var Zt=(Qt.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},Qt.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},Qt.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){e._scopeListeners.forEach((function(t){t(e)})),e._notifyingListeners=!1})))},Qt.prototype._notifyEventProcessors=function(e,t,n,r){var o=this;return void 0===r&&(r=0),new At((function(i,a){var s=e[r];if(null===t||"function"!=typeof s)i(t);else{var l=s(c({},t),n);Ze(l)?l.then((function(t){return o._notifyEventProcessors(e,t,n,r+1).then(i)})).then(null,a):o._notifyEventProcessors(e,l,n,r+1).then(i).then(null,a)}}))},Qt.prototype.setUser=function(e){return this._user=It(e),this._notifyScopeListeners(),this},Qt.prototype.setTags=function(e){return this._tags=c({},this._tags,It(e)),this._notifyScopeListeners(),this},Qt.prototype.setTag=function(e,t){var n;return this._tags=c({},this._tags,((n={})[e]=It(t),n)),this._notifyScopeListeners(),this},Qt.prototype.setExtras=function(e){return this._extra=c({},this._extra,It(e)),this._notifyScopeListeners(),this},Qt.prototype.setExtra=function(e,t){var n;return this._extra=c({},this._extra,((n={})[e]=It(t),n)),this._notifyScopeListeners(),this},Qt.prototype.setFingerprint=function(e){return this._fingerprint=It(e),this._notifyScopeListeners(),this},Qt.prototype.setLevel=function(e){return this._level=It(e),this._notifyScopeListeners(),this},Qt.prototype.setTransaction=function(e){return this._transaction=e,this._notifyScopeListeners(),this},Qt.prototype.setContext=function(e,t){return this._context[e]=t?It(t):void 0,this._notifyScopeListeners(),this},Qt.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},Qt.prototype.getSpan=function(){return this._span},Qt.clone=function(e){var t=new Qt;return e&&(t._breadcrumbs=d(e._breadcrumbs),t._tags=c({},e._tags),t._extra=c({},e._extra),t._context=c({},e._context),t._user=e._user,t._level=e._level,t._span=e._span,t._transaction=e._transaction,t._fingerprint=e._fingerprint,t._eventProcessors=d(e._eventProcessors)),t},Qt.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},Qt.prototype.addBreadcrumb=function(e,t){var n=dt(),r=c({timestamp:n},e);return this._breadcrumbs=void 0!==t&&0<=t?d(this._breadcrumbs,[It(r)]).slice(-t):d(this._breadcrumbs,[It(r)]),this._notifyScopeListeners(),this},Qt.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},Qt.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},Qt.prototype.applyToEvent=function(e,t){return this._extra&&Object.keys(this._extra).length&&(e.extra=c({},this._extra,e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=c({},this._tags,e.tags)),this._user&&Object.keys(this._user).length&&(e.user=c({},this._user,e.user)),this._context&&Object.keys(this._context).length&&(e.contexts=c({},this._context,e.contexts)),this._level&&(e.level=this._level),this._transaction&&(e.transaction=this._transaction),this._span&&(e.contexts=e.contexts||{},e.contexts.trace=this._span.getTraceContext()),this._applyFingerprint(e),e.breadcrumbs=d(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=0<e.breadcrumbs.length?e.breadcrumbs:void 0,this._notifyEventProcessors(d(en(),this._eventProcessors),e,t)},Qt);function Qt(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}function en(){var e=nt();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function tn(e){en().push(e)}var nn=(rn.prototype._invokeClient=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop();o&&o.client&&o.client[e]&&(t=o.client)[e].apply(t,d(n,[o.scope]))},rn.prototype.isOlderThan=function(e){return this._version<e},rn.prototype.bindClient=function(e){this.getStackTop().client=e},rn.prototype.pushScope=function(){var e=this.getStack(),t=0<e.length?e[e.length-1].scope:void 0,n=Zt.clone(t);return this.getStack().push({client:this.getClient(),scope:n}),n},rn.prototype.popScope=function(){return void 0!==this.getStack().pop()},rn.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},rn.prototype.getClient=function(){return this.getStackTop().client},rn.prototype.getScope=function(){return this.getStackTop().scope},rn.prototype.getStack=function(){return this._stack},rn.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},rn.prototype.captureException=function(e,t){var n=this._lastEventId=rt(),r=t;if(!t){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(e){o=e}r={originalException:e,syntheticException:o}}return this._invokeClient("captureException",e,c({},r,{event_id:n})),n},rn.prototype.captureMessage=function(e,t,n){var r=this._lastEventId=rt(),o=n;if(!n){var i=void 0;try{throw new Error(e)}catch(e){i=e}o={originalException:e,syntheticException:i}}return this._invokeClient("captureMessage",e,t,c({},o,{event_id:r})),r},rn.prototype.captureEvent=function(e,t){var n=this._lastEventId=rt();return this._invokeClient("captureEvent",e,c({},t,{event_id:n})),n},rn.prototype.lastEventId=function(){return this._lastEventId},rn.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop();if(n.scope&&n.client){var r=n.client.getOptions&&n.client.getOptions()||{},o=r.beforeBreadcrumb,i=void 0===o?null:o,a=r.maxBreadcrumbs,s=void 0===a?30:a;if(!(s<=0)){var l=dt(),u=c({timestamp:l},e),d=i?at((function(){return i(u,t)})):u;null!==d&&n.scope.addBreadcrumb(d,Math.min(s,100))}}},rn.prototype.setUser=function(e){var t=this.getStackTop();t.scope&&t.scope.setUser(e)},rn.prototype.setTags=function(e){var t=this.getStackTop();t.scope&&t.scope.setTags(e)},rn.prototype.setExtras=function(e){var t=this.getStackTop();t.scope&&t.scope.setExtras(e)},rn.prototype.setTag=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setTag(e,t)},rn.prototype.setExtra=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setExtra(e,t)},rn.prototype.setContext=function(e,t){var n=this.getStackTop();n.scope&&n.scope.setContext(e,t)},rn.prototype.configureScope=function(e){var t=this.getStackTop();t.scope&&t.client&&e(t.scope)},rn.prototype.run=function(e){var t=an(this);try{e(this)}finally{an(t)}},rn.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return Et.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},rn.prototype.startSpan=function(e,t){return void 0===t&&(t=!1),this._callExtensionMethod("startSpan",e,t)},rn.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},rn.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=on().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t);Et.warn("Extension method "+e+" couldn't be found, doing nothing.")},rn);function rn(e,t,n){void 0===t&&(t=new Zt),void 0===n&&(n=3),this._version=n,this._stack=[],this._stack.push({client:e,scope:t})}function on(){var e=nt();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function an(e){var t=on(),n=ln(t);return un(t,e),n}function sn(){var e=on();return cn(e)&&!ln(e).isOlderThan(3)||un(e,new nn),et()?function(e){try{var t=function(e,t){return e.require("domain")}(r).active;if(!t)return ln(e);if(!cn(t)||ln(t).isOlderThan(3)){var n=ln(e).getStackTop();un(t,new nn(n.client,Zt.clone(n.scope)))}return ln(t)}catch(t){return ln(e)}}(e):ln(e)}function cn(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function ln(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new nn),e.__SENTRY__.hub}function un(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}function dn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=sn();if(r&&r[e])return r[e].apply(r,d(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function pn(e){var t;try{throw new Error("Sentry syntheticException")}catch(e){t=e}return dn("captureException",e,{originalException:e,syntheticException:t})}function fn(e,t){var n;try{throw new Error(e)}catch(e){n=e}return dn("captureMessage",e,t,{originalException:e,syntheticException:n})}function hn(e){dn("configureScope",e)}function mn(e){dn("withScope",e)}var _n=(vn.prototype.getDsn=function(){return this._dsnObject},vn.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},vn.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var e,t={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+(e=t,Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"))},vn.prototype._getBaseUrl=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n},vn.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},vn.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_timestamp="+dt()),r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},vn.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this._getBaseUrl()+(t.path?"/"+t.path:"")+"/api/embed/error-page/",r=[];for(var o in r.push("dsn="+t.toString()),e)if("user"===o){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return r.length?n+"?"+r.join("&"):n},vn);function vn(e){this.dsn=e,this._dsnObject=new Kt(e)}var gn=[],yn=(wn.prototype.captureException=function(e,t,n){var r=this,o=t&&t.event_id;return this._processing=!0,this._getBackend().eventFromException(e,t).then((function(e){return r._processEvent(e,t,n)})).then((function(e){o=e&&e.event_id,r._processing=!1})).then(null,(function(e){Et.error(e),r._processing=!1})),o},wn.prototype.captureMessage=function(e,t,n,r){var o=this,i=n&&n.event_id;return this._processing=!0,(Xe(e)?this._getBackend().eventFromMessage(""+e,t,n):this._getBackend().eventFromException(e,n)).then((function(e){return o._processEvent(e,n,r)})).then((function(e){i=e&&e.event_id,o._processing=!1})).then(null,(function(e){Et.error(e),o._processing=!1})),i},wn.prototype.captureEvent=function(e,t,n){var r=this,o=t&&t.event_id;return this._processing=!0,this._processEvent(e,t,n).then((function(e){o=e&&e.event_id,r._processing=!1})).then(null,(function(e){Et.error(e),r._processing=!1})),o},wn.prototype.getDsn=function(){return this._dsn},wn.prototype.getOptions=function(){return this._options},wn.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then((function(n){return clearInterval(n.interval),t._getBackend().getTransport().close(e).then((function(e){return n.ready&&e}))}))},wn.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},wn.prototype.getIntegrations=function(){return this._integrations||{}},wn.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return Et.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},wn.prototype._isClientProcessing=function(e){var t=this;return new At((function(n){var r=0,o=0;clearInterval(o),o=setInterval((function(){t._processing?(r+=1,e&&e<=r&&n({interval:o,ready:!1})):n({interval:o,ready:!0})}),1)}))},wn.prototype._getBackend=function(){return this._backend},wn.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},wn.prototype._prepareEvent=function(e,t,n){var r=this.getOptions(),o=r.environment,i=r.release,a=r.dist,s=r.maxValueLength,l=void 0===s?250:s,u=c({},e);void 0===u.environment&&void 0!==o&&(u.environment=o),void 0===u.release&&void 0!==i&&(u.release=i),void 0===u.dist&&void 0!==a&&(u.dist=a),u.message&&(u.message=xt(u.message,l));var d=u.exception&&u.exception.values&&u.exception.values[0];d&&d.value&&(d.value=xt(d.value,l));var p=u.request;p&&p.url&&(p.url=xt(p.url,l)),void 0===u.event_id&&(u.event_id=rt()),this._addIntegrations(u.sdk);var f=At.resolve(u);return t&&(f=t.applyToEvent(u,n)),f},wn.prototype._addIntegrations=function(e){var t=Object.keys(this._integrations);e&&0<t.length&&(e.integrations=t)},wn.prototype._processEvent=function(e,t,n){var r=this,o=this.getOptions(),i=o.beforeSend,a=o.sampleRate;return this._isEnabled()?"number"==typeof a&&Math.random()>a?At.reject("This event has been sampled, will not send event."):new At((function(o,a){r._prepareEvent(e,n,t).then((function(e){if(null!==e){var n=e;try{if(t&&t.data&&!0===t.data.__sentry__||!i)return r._getBackend().sendEvent(n),void o(n);var s=i(e,t);if(void 0===s)Et.error("`beforeSend` method has to return `null` or a valid event.");else if(Ze(s))r._handleAsyncBeforeSend(s,o,a);else{if(null===(n=s))return Et.log("`beforeSend` returned `null`, will not send event."),void o(null);r._getBackend().sendEvent(n),o(n)}}catch(e){r.captureException(e,{data:{__sentry__:!0},originalException:e}),a("`beforeSend` threw an error, will not send event.")}}else a("An event processor returned null, will not send event.")})).then(null,(function(){a("`beforeSend` threw an error, will not send event.")}))})):At.reject("SDK not enabled, will not send event.")},wn.prototype._handleAsyncBeforeSend=function(e,t,n){var r=this;e.then((function(e){null!==e?(r._getBackend().sendEvent(e),t(e)):n("`beforeSend` returned `null`, will not send event.")})).then(null,(function(e){n("beforeSend rejected with "+e)}))},wn);function wn(e,t){this._integrations={},this._processing=!1,this._backend=new e(t),(this._options=t).dsn&&(this._dsn=new Kt(t.dsn)),this._isEnabled()&&(this._integrations=function(e){var t={};return function(e){var t=e.defaultIntegrations&&d(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var o=n.map((function(e){return e.name})),i=[];t.forEach((function(e){-1===o.indexOf(e.name)&&-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))})),n.forEach((function(e){-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))}))}else r="function"==typeof n?(r=n(t),Array.isArray(r)?r:[r]):d(t);var a=r.map((function(e){return e.name}));return-1!==a.indexOf("Debug")&&r.push.apply(r,d(r.splice(a.indexOf("Debug"),1))),r}(e).forEach((function(e){var n;t[e.name]=e,n=e,-1===gn.indexOf(n.name)&&(n.setupOnce(tn,sn),gn.push(n.name),Et.log("Integration installed: "+n.name))})),t}(this._options))}var En=(bn.prototype.sendEvent=function(e){return At.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:De.Skipped})},bn.prototype.close=function(e){return At.resolve(!0)},bn);function bn(){}var Sn,xn=(Tn.prototype._setupTransport=function(){return new En},Tn.prototype.eventFromException=function(e,t){throw new Ve("Backend has to implement `eventFromException` method")},Tn.prototype.eventFromMessage=function(e,t,n){throw new Ve("Backend has to implement `eventFromMessage` method")},Tn.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){Et.error("Error while sending event: "+e)}))},Tn.prototype.getTransport=function(){return this._transport},Tn);function Tn(e){this._options=e,this._options.dsn||Et.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}var On=(Cn.prototype.setupOnce=function(){Sn=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return Sn.apply(n,e)}},Cn.id="FunctionToString",Cn);function Cn(){this.name=Cn.id}var kn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Nn=(In.prototype.setupOnce=function(){tn((function(e){var t=sn();if(!t)return e;var n=t.getIntegration(In);if(n){var r=t.getClient(),o=r?r.getOptions():{},i=n._mergeOptions(o);if(n._shouldDropEvent(e,i))return null}return e}))},In.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(Et.warn("Event dropped due to being internal Sentry Error.\nEvent: "+it(e)),!0):this._isIgnoredError(e,t)?(Et.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+it(e)),!0):this._isBlacklistedUrl(e,t)?(Et.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+it(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isWhitelistedUrl(e,t)&&(Et.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+it(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},In.prototype._isSentryError=function(e,t){if(void 0===t&&(t={}),!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},In.prototype._isIgnoredError=function(e,t){return void 0===t&&(t={}),!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return Ot(e,t)}))}))},In.prototype._isBlacklistedUrl=function(e,t){if(void 0===t&&(t={}),!t.blacklistUrls||!t.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.blacklistUrls.some((function(e){return Ot(n,e)}))},In.prototype._isWhitelistedUrl=function(e,t){if(void 0===t&&(t={}),!t.whitelistUrls||!t.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.whitelistUrls.some((function(e){return Ot(n,e)}))},In.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{blacklistUrls:d(this._options.blacklistUrls||[],e.blacklistUrls||[]),ignoreErrors:d(this._options.ignoreErrors||[],e.ignoreErrors||[],kn),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:d(this._options.whitelistUrls||[],e.whitelistUrls||[])}},In.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=t.value,o=void 0===r?"":r;return[""+o,(void 0===n?"":n)+": "+o]}catch(t){return Et.error("Cannot extract message for event "+it(e)),[]}return[]},In.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(t){return Et.error("Cannot extract url for event "+it(e)),null}},In.id="InboundFilters",In);function In(e){void 0===e&&(e={}),this._options=e,this.name=In.id}var An=Object.freeze({__proto__:null,FunctionToString:On,InboundFilters:Nn}),Dn=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[-a-z]+:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Rn=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,Ln=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Pn=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Mn=/\((\S*)(?::(\d+))(?::(\d+))\)/;function jn(e){var t=null,n=e&&e.framesToPop;try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=e.stacktrace.split("\n"),i=[],a=0;a<o.length;a+=2){var s=null;(t=n.exec(o[a]))?s={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=r.exec(o[a]))&&(s={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),s&&(!s.func&&s.line&&(s.func="?"),i.push(s))}return i.length?{message:Hn(e),name:e.name,stack:i}:null}(e))return Un(t,n)}catch(e){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,o=[],i=e.stack.split("\n"),a=0;a<i.length;++a){if(n=Dn.exec(i[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=Mn.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2],func:n[1]||"?",args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Ln.exec(i[a]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Rn.exec(i[a])))continue;n[3]&&-1<n[3].indexOf(" > eval")&&(t=Pn.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(o[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func="?"),o.push(r)}return o.length?{message:Hn(e),name:e.name,stack:o}:null}(e))return Un(t,n)}catch(e){}return{message:Hn(e),name:e&&e.name,stack:[],failed:!0}}function Un(e,t){try{return c({},e,{stack:e.stack.slice(t)})}catch(t){return e}}function Hn(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Fn(e){var t=qn(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Bn(e,t,n){var r={exception:{values:[{type:Ke(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+function(e,t){void 0===t&&(t=40);var n=Object.keys(kt(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return xt(n[0],t);for(var r=n.length;0<r;r--){var o=n.slice(0,r).join(", ");if(!(o.length>t))return r===n.length?o:xt(o,t)}return""}(e)}]},extra:{__serialized__:function e(t,n,r){void 0===n&&(n=3),void 0===r&&(r=102400);var o=It(t,n);return function(e){return t=JSON.stringify(e),~-encodeURI(t).split(/%..|./).length;var t}(o)>r?e(t,n-1,r):o}(e)}};if(t){var o=qn(jn(t).stack);r.stacktrace={frames:o}}return r}function Vn(e){return{exception:{values:[Fn(e)]}}}function qn(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).slice(0,50).reverse()}function Wn(e,t,n){var r,o;if(void 0===n&&(n={}),Ge(e)&&e.error)return Vn(jn(e=e.error));if(ze(e)||(o=e,"[object DOMException]"===Object.prototype.toString.call(o))){var i=e,a=i.name||(ze(i)?"DOMError":"DOMException"),s=i.message?a+": "+i.message:a;return st(r=Gn(s,t,n),s),r}return We(e)?r=Vn(jn(e)):(Je(e)||Ke(e)?ct(r=Bn(e,t,n.rejection),{synthetic:!0}):(st(r=Gn(e,t,n),""+e,void 0),ct(r,{synthetic:!0})),r)}function Gn(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var o=qn(jn(t).stack);r.stacktrace={frames:o}}return r}var zn=(Yn.prototype.sendEvent=function(e){throw new Ve("Transport Class has to implement `sendEvent` method")},Yn.prototype.close=function(e){return this._buffer.drain(e)},Yn);function Yn(e){this.options=e,this._buffer=new Rt(30),this.url=new _n(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}var Xn,Jn=nt(),Kn=(s($n,Xn=zn),$n.prototype.sendEvent=function(e){var t=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:e,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n={body:JSON.stringify(e),method:"POST",referrerPolicy:function(){if(!Pt())return 0;try{return new Request("_",{referrerPolicy:"origin"}),1}catch(e){return 0}}()?"origin":""};return this._buffer.add(new At((function(e,r){Jn.fetch(t.url,n).then((function(n){var o=De.fromHttpCode(n.status);if(o!==De.Success){if(o===De.RateLimit){var i=Date.now();t._disabledUntil=new Date(i+pt(i,n.headers.get("Retry-After"))),Et.warn("Too many requests, backing off till: "+t._disabledUntil)}r(n)}else e({status:o})})).catch(r)})))},$n);function $n(){var e=null!==Xn&&Xn.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}var Zn,Qn=(s(er,Zn=zn),er.prototype.sendEvent=function(e){var t=this;return new Date(Date.now())<this._disabledUntil?Promise.reject({event:e,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429}):this._buffer.add(new At((function(n,r){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){var e=De.fromHttpCode(o.status);if(e!==De.Success){if(e===De.RateLimit){var i=Date.now();t._disabledUntil=new Date(i+pt(i,o.getResponseHeader("Retry-After"))),Et.warn("Too many requests, backing off till: "+t._disabledUntil)}r(o)}else n({status:e})}},o.open("POST",t.url),o.send(JSON.stringify(e))})))},er);function er(){var e=null!==Zn&&Zn.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}var tr,nr=Object.freeze({__proto__:null,BaseTransport:zn,FetchTransport:Kn,XHRTransport:Qn}),rr=(s(or,tr=xn),or.prototype._setupTransport=function(){if(!this._options.dsn)return tr.prototype._setupTransport.call(this);var e=c({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):Pt()?new Kn(e):new Qn(e)},or.prototype.eventFromException=function(e,t){var n=Wn(e,t&&t.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return ct(n,{handled:!0,type:"generic"}),n.level=Oe.Error,t&&t.event_id&&(n.event_id=t.event_id),At.resolve(n)},or.prototype.eventFromMessage=function(e,t,n){void 0===t&&(t=Oe.Info);var r=Gn(e,n&&n.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return r.level=t,n&&n.event_id&&(r.event_id=n.event_id),At.resolve(r)},or);function or(){return null!==tr&&tr.apply(this,arguments)||this}var ir,ar="sentry.javascript.browser",sr="5.10.2",cr=(s(lr,ir=yn),lr.prototype._prepareEvent=function(e,t,n){return e.platform=e.platform||"javascript",e.sdk=c({},e.sdk,{name:ar,packages:d(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:sr}]),version:sr}),ir.prototype._prepareEvent.call(this,e,t,n)},lr.prototype.showReportDialog=function(e){void 0===e&&(e={});var t=nt().document;if(t)if(this._isEnabled()){var n=e.dsn||this.getDsn();if(e.eventId)if(n){var r=t.createElement("script");r.async=!0,r.src=new _n(n).getReportDialogEndpoint(e),e.onLoad&&(r.onload=e.onLoad),(t.head||t.body).appendChild(r)}else Et.error("Missing `Dsn` option in showReportDialog call");else Et.error("Missing `eventId` option in showReportDialog call")}else Et.error("Trying to call showReportDialog with Sentry Client is disabled")},lr);function lr(e){return void 0===e&&(e={}),ir.call(this,rr,e)||this}var ur=0;function dr(){return 0<ur}function pr(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(r){return e}function r(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map((function(e){return pr(e,t)}));return e.handleEvent?e.handleEvent.apply(this,o):e.apply(this,o)}catch(e){throw ur+=1,setTimeout((function(){--ur})),mn((function(n){n.addEventProcessor((function(e){var n=c({},e);return t.mechanism&&(st(n,void 0,void 0),ct(n,t.mechanism)),n.extra=c({},n.extra,{arguments:It(r,3)}),n})),pn(e)})),e}}try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch(r){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(r){}return r}var fr=(hr.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(Et.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(Et.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},hr.prototype._installGlobalOnErrorHandler=function(){if(!this._onErrorHandlerInstalled){var e=this;this._oldOnErrorHandler=this._global.onerror,this._global.onerror=function(t,n,r,o,i){var a=sn(),s=a.getIntegration(hr),c=i&&!0===i.__sentry_own_request__;if(!s||dr()||c)return!!e._oldOnErrorHandler&&e._oldOnErrorHandler.apply(this,arguments);var l=a.getClient(),u=Xe(i)?e._eventFromIncompleteOnError(t,n,r,o):e._enhanceEventWithInitialFrame(Wn(i,void 0,{attachStacktrace:l&&l.getOptions().attachStacktrace,rejection:!1}),n,r,o);return ct(u,{handled:!1,type:"onerror"}),a.captureEvent(u,{originalException:i}),!!e._oldOnErrorHandler&&e._oldOnErrorHandler.apply(this,arguments)},this._onErrorHandlerInstalled=!0}},hr.prototype._installGlobalOnUnhandledRejectionHandler=function(){if(!this._onUnhandledRejectionHandlerInstalled){var e=this;this._oldOnUnhandledRejectionHandler=this._global.onunhandledrejection,this._global.onunhandledrejection=function(t){var n=t;try{n=t&&"reason"in t?t.reason:t}catch(t){}var r=sn(),o=r.getIntegration(hr),i=n&&!0===n.__sentry_own_request__;if(!o||dr()||i)return!e._oldOnUnhandledRejectionHandler||e._oldOnUnhandledRejectionHandler.apply(this,arguments);var a=r.getClient(),s=Xe(n)?e._eventFromIncompleteRejection(n):Wn(n,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!0});return s.level=Oe.Error,ct(s,{handled:!1,type:"onunhandledrejection"}),r.captureEvent(s,{originalException:n}),!e._oldOnUnhandledRejectionHandler||e._oldOnUnhandledRejectionHandler.apply(this,arguments)},this._onUnhandledRejectionHandlerInstalled=!0}},hr.prototype._eventFromIncompleteOnError=function(e,t,n,r){var o,i=Ge(e)?e.message:e;if(Ye(i)){var a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(o=a[1],i=a[2])}var s={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(s,t,n,r)},hr.prototype._eventFromIncompleteRejection=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+e}]}}},hr.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,a=Ye(t)&&0<t.length?t:function(){try{return document.location.href}catch(e){return""}}();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:o,filename:a,function:"?",in_app:!0,lineno:i}),e},hr.id="GlobalHandlers",hr);function hr(e){this.name=hr.id,this._global=nt(),this._oldOnErrorHandler=null,this._oldOnUnhandledRejectionHandler=null,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=c({onerror:!0,onunhandledrejection:!0},e)}var mr=(_r.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=pr(r,{mechanism:{data:{function:ht(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},_r.prototype._wrapRAF=function(e){return function(t){return e(pr(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ht(e)},handled:!0,type:"instrument"}}))}},_r.prototype._wrapEventTarget=function(e){var t=nt(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Ct(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=pr(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:ht(r),target:e},handled:!0,type:"instrument"}}))}catch(n){}return t.call(this,n,pr(r,{mechanism:{data:{function:"addEventListener",handler:ht(r),target:e},handled:!0,type:"instrument"}}),o)}})),Ct(n,"removeEventListener",(function(e){return function(t,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(t){}return e.call(this,t,o,r)}})))},_r.prototype._wrapXHR=function(e){return function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return["onload","onerror","onprogress"].forEach((function(e){e in t&&"function"==typeof t[e]&&Ct(t,e,(function(t){return pr(t,{mechanism:{data:{function:e,handler:ht(t)},handled:!0,type:"instrument"}})}))})),"onreadystatechange"in this&&"function"==typeof this.onreadystatechange&&Ct(this,"onreadystatechange",(function(e){var t={mechanism:{data:{function:"onreadystatechange",handler:ht(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(t.mechanism.data.handler=ht(e.__sentry_original__)),pr(e,t)})),e.apply(this,n)}},_r.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var e=nt();Ct(e,"setTimeout",this._wrapTimeFunction.bind(this)),Ct(e,"setInterval",this._wrapTimeFunction.bind(this)),Ct(e,"requestAnimationFrame",this._wrapRAF.bind(this)),"XMLHttpRequest"in e&&Ct(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},_r.id="TryCatch",_r);function _r(){this._ignoreOnError=0,this.name=_r.id}var vr=(gr.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{extra:{arguments:It(e.args,3)},logger:"console"},level:Oe.fromString(e.level),message:Tt(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Tt(e.args.slice(1)," ")||"console.assert"),t.data.extra.arguments=It(e.args.slice(1),3)}sn().addBreadcrumb(t,{input:e.args,level:e.level})},gr.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?lt(e.event.target):lt(e.event)}catch(e){t="<unknown>"}0!==t.length&&sn().addBreadcrumb({category:"ui."+e.name,message:t},{event:event,name:e.name})},gr.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;sn().addBreadcrumb({category:"xhr",data:e.xhr.__sentry_xhr__,type:"http"},{xhr:e.xhr})}else e.xhr.__sentry_own_request__&&yr(e.args[0])},gr.prototype._fetchBreadcrumb=function(e){if(e.endTimestamp){var t=sn().getClient(),n=t&&t.getDsn();if(n){var r=new _n(n).getStoreEndpoint();if(r&&-1!==e.fetchData.url.indexOf(r)&&"POST"===e.fetchData.method&&e.args[1]&&e.args[1].body)return void yr(e.args[1].body)}e.error?sn().addBreadcrumb({category:"fetch",data:c({},e.fetchData,{status_code:e.response.status}),level:Oe.Error,type:"http"},{data:e.error,input:e.args}):sn().addBreadcrumb({category:"fetch",data:c({},e.fetchData,{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})}},gr.prototype._historyBreadcrumb=function(e){var t=nt(),n=e.from,r=e.to,o=ot(t.location.href),i=ot(n),a=ot(r);i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),sn().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},gr.prototype.setupOnce=function(){var e=this;this._options.console&&Bt({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,d(t))},type:"console"}),this._options.dom&&Bt({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,d(t))},type:"dom"}),this._options.xhr&&Bt({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,d(t))},type:"xhr"}),this._options.fetch&&Bt({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,d(t))},type:"fetch"}),this._options.history&&Bt({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,d(t))},type:"history"})},gr.id="Breadcrumbs",gr);function gr(e){this.name=gr.id,this._options=c({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}function yr(e){try{var t=JSON.parse(e);sn().addBreadcrumb({category:"sentry",event_id:t.event_id,level:t.level||Oe.fromString("error"),message:it(t)},{event:t})}catch(e){Et.error("Error while adding sentry type breadcrumb")}}var wr=(Er.prototype.setupOnce=function(){tn((function(e,t){var n=sn().getIntegration(Er);return n?n._handler(e,t):e}))},Er.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&Qe(t.originalException,Error)))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=d(n,e.exception.values),e},Er.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!Qe(e[t],Error)||n.length+1>=this._limit)return n;var r=Fn(jn(e[t]));return this._walkErrorTree(e[t],t,d([r],n))},Er.id="LinkedErrors",Er);function Er(e){void 0===e&&(e={}),this.name=Er.id,this._key=e.key||"cause",this._limit=e.limit||5}var br=nt(),Sr=(xr.prototype.setupOnce=function(){tn((function(e){if(sn().getIntegration(xr)){if(!br.navigator||!br.location)return e;var t=e.request||{};return t.url=t.url||br.location.href,t.headers=t.headers||{},t.headers["User-Agent"]=br.navigator.userAgent,c({},e,{request:t})}return e}))},xr.id="UserAgent",xr);function xr(){this.name=xr.id}var Tr=Object.freeze({__proto__:null,GlobalHandlers:fr,TryCatch:mr,Breadcrumbs:vr,LinkedErrors:wr,UserAgent:Sr}),Or=[new Nn,new On,new mr,new vr,new fr,new wr,new Sr];function Cr(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=Or),void 0===e.release){var t=nt();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}var n,r;n=cr,!0===(r=e).debug&&Et.enable(),sn().bindClient(new n(r))}var kr={},Nr=nt();Nr.Sentry&&Nr.Sentry.Integrations&&(kr=Nr.Sentry.Integrations);var Ir=c({},kr,An,Tr),Ar=Object.freeze({__proto__:null,Integrations:Ir,Transports:nr,get Severity(){return Oe},get Status(){return De},addGlobalEventProcessor:tn,addBreadcrumb:function(e){dn("addBreadcrumb",e)},captureException:pn,captureEvent:function(e){return dn("captureEvent",e)},captureMessage:fn,configureScope:hn,getHubFromCarrier:ln,getCurrentHub:sn,Hub:nn,Scope:Zt,setContext:function(e,t){dn("setContext",e,t)},setExtra:function(e,t){dn("setExtra",e,t)},setExtras:function(e){dn("setExtras",e)},setTag:function(e,t){dn("setTag",e,t)},setTags:function(e){dn("setTags",e)},setUser:function(e){dn("setUser",e)},withScope:mn,BrowserClient:cr,defaultIntegrations:Or,forceLoad:function(){},init:Cr,lastEventId:function(){return sn().lastEventId()},onLoad:function(e){e()},showReportDialog:function(e){void 0===e&&(e={}),e.eventId||(e.eventId=sn().lastEventId());var t=sn().getClient();t&&t.showReportDialog(e)},flush:function(e){var t=sn().getClient();return t?t.flush(e):At.reject(!1)},close:function(e){var t=sn().getClient();return t?t.close(e):At.reject(!1)},wrap:function(e){return pr(e)()},SDK_NAME:ar,SDK_VERSION:sr}),Dr=window.Slardar&&window.Slardar.shared||{},Rr=[],Lr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e&&e[0]&&Rr.push(e[0])};function Pr(e){var t={};Dr.config&&p(Dr.config)&&p(Dr.config.plugins)&&(t=Dr.config.plugins),t&&t.sentry&&t.sentry.enable&&(e(t),window.Sentry=Ar)}!function(e){if(f(window.addEventListener)&&"npm"!==Dr.installedType&&window.addEventListener("error",Lr),"script"===Dr.installedType)return Pr(e);if("npm"===Dr.installedType){if("async"===Dr.pluginsLoadType)return Pr(e);Dr.emitter&&Dr.emitter.on("pluginsReady",(function(){Pr(e)}))}}((function(e){var t=e.sentry||{},n=function(){};if(f(t.beforeSend)&&(n=t.beforeSend,delete t.beforeSend),Cr(c({dsn:"https://key@i.snssdk.com/log/sentry/v2/slardar",beforeSend:function(e){f(n)&&n(e);var t={ev_type:"jserr",sentry:e};return Dr.sendEvent&&f(Dr.sendEvent)&&(Dr.emitter&&Dr.emitter.emit("event_id",e.event_id),Dr.sendEvent({event:t,type:"post",name:"SentryPlugin"})),null}},t)),t.tags){var r=t.tags,o=function(e){Object.prototype.hasOwnProperty.call(r,e)&&hn((function(t){t.setTag(e,r[e])}))};for(var i in r)o(i)}if(Rr.forEach((function(e){"error"===e.type&&(e.error?pn(e.error):e.message&&fn(e.message))})),f(window.removeEventListener)&&window.removeEventListener("error",Lr),Dr.collect&&m(Dr.collect.Sentry)&&T(Dr.collect.Sentry,(function(e,t){f(t)&&t(Ar)})),window.Slardar&&window.Slardar.shared){var a=Dr.plugins||{};a.sentry=Ar,window.Slardar.shared.plugins=a}})),function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,n=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=(n(r.prototype,"delete",(function(e){if(i(this,"delete"),!s(e))return!1;var t=e[this._id];return!(!t||t[0]!==e||(delete e[this._id],0))})),n(r.prototype,"get",(function(e){if(i(this,"get"),s(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),n(r.prototype,"has",(function(e){if(i(this,"has"),!s(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),n(r.prototype,"set",(function(e,t){if(i(this,"set"),!s(e))throw new TypeError("Invalid value used as weak map key");var r=e[this._id];return r&&r[0]===e?r[1]=t:n(e,this._id,[e,t]),this})),n(r,"_polyfill",!0),r)}function r(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(n(this,"_id","_WeakMap_"+a()+"."+a()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function i(e,n){if(!s(e)||!t.call(e,"_id"))throw new TypeError(n+" method called on incompatible receiver "+o(e))}function a(){return Math.random().toString().substring(2)}function s(e){return Object(e)===e}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:null),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),function(e){"MutationObserver"in this||(window.MutationObserver=window.MutationObserver||function(e){function t(e){this._watched=[],this._listener=e}function n(t){var n={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(var r in t)l(n,r)&&t[r]!==e&&(n[r]=t[r]);return n}function r(t,r){var s=i(t,r);return function(l){var u,d,p,f,h=l.length;function m(e,t,r,i,a){for(var s,c,l,u=e.length-1,f=-~((u-a)/2);l=e.pop();)s=r[l.i],c=i[l.j],p.kids&&f&&Math.abs(l.i-l.j)>=u&&(d.push(n({type:"childList",target:t,addedNodes:[s],removedNodes:[s],nextSibling:s.nextSibling,previousSibling:s.previousSibling})),f--),p.attr&&c.attr&&o(d,s,c.attr,p.afilter),p.charData&&3===s.nodeType&&s.nodeValue!==c.charData&&d.push(n({type:"characterData",target:s,oldValue:c.charData})),p.descendents&&_(s,c)}function _(t,r){for(var i,s,l,u,h,v,g,y=t.childNodes,w=r.kids,E=y.length,b=w?w.length:0,S=0,x=0,T=0;x<E||T<b;)(v=y[x])===(g=(h=w[T])&&h.node)?(p.attr&&h.attr&&o(d,v,h.attr,p.afilter),p.charData&&h.charData!==e&&v.nodeValue!==h.charData&&d.push(n({type:"characterData",target:v,oldValue:h.charData})),s&&m(s,t,y,w,S),p.descendents&&(v.childNodes.length||h.kids&&h.kids.length)&&_(v,h),x++,T++):(f=!0,i||(i={},s=[]),v&&(i[l=a(v)]||(i[l]=!0,-1===(u=c(w,v,T,"node"))?p.kids&&(d.push(n({type:"childList",target:t,addedNodes:[v],nextSibling:v.nextSibling,previousSibling:v.previousSibling})),S++):s.push({i:x,j:u})),x++),g&&g!==y[x]&&(i[l=a(g)]||(i[l]=!0,-1===(u=c(y,g,x))?p.kids&&(d.push(n({type:"childList",target:r.node,removedNodes:[g],nextSibling:w[T+1],previousSibling:w[T-1]})),S--):s.push({i:u,j:T})),T++));s&&m(s,t,y,w,S)}r.charData&&3===t.nodeType&&t.nodeValue!==s.charData&&l.push(new n({type:"characterData",target:t,oldValue:s.charData})),r.attr&&s.attr&&o(l,t,s.attr,r.afilter),(r.kids||r.descendents)&&(d=l,p=r,_(t,s),u=f),!u&&l.length===h||(s=i(t,r))}}function o(e,t,r,o){for(var i,a,s={},c=t.attributes,u=c.length;u--;)a=(i=c[u]).name,o&&!l(o,a)||(d(t,i)!==r[a]&&e.push(n({type:"attributes",target:t,attributeName:a,oldValue:r[a],attributeNamespace:i.namespaceURI})),s[a]=!0);for(a in r)s[a]||e.push(n({target:t,type:"attributes",attributeName:a,oldValue:r[a]}))}function i(e,t){var n=!0;return function e(r){var o={node:r};return!t.charData||3!==r.nodeType&&8!==r.nodeType?(t.attr&&n&&1===r.nodeType&&(o.attr=s(r.attributes,(function(e,n){return t.afilter&&!t.afilter[n.name]||(e[n.name]=d(r,n)),e}),{})),n&&(t.kids||t.charData||t.attr&&t.descendents)&&(o.kids=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r,e);return n}(r.childNodes,e)),n=t.descendents):o.charData=r.nodeValue,o}(e)}function a(e){try{return e.id||(e[f]=e[f]||p++)}catch(t){try{return e.nodeValue}catch(e){return p++}}}function s(e,t,n){for(var r=0;r<e.length;r++)n=t(n,e[r],r,e);return n}function c(e,t,n,r){for(;n<e.length;n++)if((r?e[n][r]:e[n])===t)return n;return-1}function l(t,n){return t[n]!==e}t._period=30,t.prototype={observe:function(e,n){for(var o={attr:!!(n.attributes||n.attributeFilter||n.attributeOldValue),kids:!!n.childList,descendents:!!n.subtree,charData:!(!n.characterData&&!n.characterDataOldValue)},i=this._watched,a=0;a<i.length;a++)i[a].tar===e&&i.splice(a,1);var c;n.attributeFilter&&(o.afilter=s(n.attributeFilter,(function(e,t){return e[t]=!0,e}),{})),i.push({tar:e,fn:r(e,o)}),this._timeout||(c=this,function e(){var n=c.takeRecords();n.length&&c._listener(n,c),c._timeout=setTimeout(e,t._period)}())},takeRecords:function(){for(var e=[],t=this._watched,n=0;n<t.length;n++)t[n].fn(e);return e},disconnect:function(){this._watched=[],clearTimeout(this._timeout),this._timeout=null}};var u=document.createElement("i");u.style.top=0;var d=(u="null"!=u.attributes.style.value)?function(e,t){return t.value}:function(e,t){return"style"!==t.name?t.value:e.style.cssText},p=1,f="mo_id";return t}(void 0))}.call("object"===("undefined"==typeof window?"undefined":o(window))&&window||"object"===("undefined"==typeof self?"undefined":o(self))&&self||"object"===(void 0===n?"undefined":o(n))&&n||{});var Mr,jr,Ur=function(){return(Ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};(jr=Mr=Mr||{})[jr.Document=0]="Document",jr[jr.DocumentType=1]="DocumentType",jr[jr.Element=2]="Element",jr[jr.Text=3]="Text",jr[jr.CDATA=4]="CDATA",jr[jr.Comment=5]="Comment";var Hr=1;function Fr(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).reduce((function(e,t){return e+(function(e){return"styleSheet"in e}(n=t)?Fr(n.styleSheet)||"":n.cssText);var n}),""):null}catch(e){return null}}var Br=/url\((?:'([^']*)'|"([^"]*)"|([^)]*))\)/gm,Vr=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/).*/,qr=/^(data:)([\w\/\+\-]+);(charset=[\w-]+|base64).*,(.*)/i;function Wr(e,t){return e.replace(Br,(function(e,n,r,o){var i,a=n||r||o;if(!a)return e;if(!Vr.test(a))return"url('"+a+"')";if(qr.test(a))return"url("+a+")";if("/"===a[0])return"url('"+((-1<(i=t).indexOf("//")?i.split("/").slice(0,3).join("/"):i.split("/")[0]).split("?")[0]+a)+"')";var s=t.split("/"),c=a.split("/");s.pop();for(var l=0,u=c;l<u.length;l++){var d=u[l];"."!==d&&(".."===d?s.pop():s.push(d))}return"url('"+s.join("/")+"')"}))}function Gr(e,t,n,r,o,a,s){void 0===o&&(o=!1),void 0===a&&(a=!0),void 0===s&&(s=!1);var c,l=function(e,t,n,r,o){switch(e.nodeType){case e.DOCUMENT_NODE:return{type:Mr.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Mr.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId};case e.ELEMENT_NODE:var i=!1;"string"==typeof n?i=e.classList.contains(n):e.classList.forEach((function(e){n.test(e)&&(i=!0)}));for(var a=e.tagName.toLowerCase(),s={},c=0,l=Array.from(e.attributes);c<l.length;c++){var u=l[c],d=u.name,p=u.value;s[d]="src"===d||"href"===d?(S=p,x=void 0,(x=t.createElement("a")).href=S,x.href):"style"===d?Wr(p,location.href):p}if("link"===a&&r){var f,h=Array.from(t.styleSheets).find((function(t){return t.href===e.href}));(f=Fr(h))&&(delete s.rel,delete s.href,s._cssText=Wr(f,h.href))}if("style"===a&&e.sheet&&!(e.innerText||e.textContent||"").trim().length&&(f=Fr(e.sheet))&&(s._cssText=Wr(f,location.href)),"input"!==a&&"textarea"!==a&&"select"!==a||(p=e.value,"radio"!==s.type&&"checkbox"!==s.type&&p?s.value=o?"*".repeat(p.length):p:e.checked&&(s.checked=e.checked)),"option"===a){var m=e.parentElement;s.value===m.value&&(s.selected=e.selected)}if(i){var _=e.getBoundingClientRect(),v=_.width,g=_.height;s.rr_width=v+"px",s.rr_height=g+"px"}return{type:Mr.Element,tagName:a,attributes:s,childNodes:[],isSVG:"svg"===(b=e).tagName||b instanceof SVGElement||void 0,needBlock:i};case e.TEXT_NODE:var y=e.parentNode&&e.parentNode.tagName,w=e.textContent,E="STYLE"===y||void 0;return E&&w&&(w=Wr(w,location.href)),"SCRIPT"===y&&(w="SCRIPT_PLACEHOLDER"),{type:Mr.Text,textContent:w||"",isStyle:E};case e.CDATA_SECTION_NODE:return{type:Mr.CDATA,textContent:""};case e.COMMENT_NODE:return{type:Mr.Comment,textContent:e.textContent||""};default:return!1}var b,S,x}(e,t,r,a,s);if(!l)return console.warn(e,"not serialized"),null;var u=i(l,{id:c="__sn"in e?e.__sn.id:Hr++});e.__sn=u,n[c]=e;var d=!o;if(u.type===Mr.Element&&(d=d&&!u.needBlock,delete u.needBlock),(u.type===Mr.Document||u.type===Mr.Element)&&d)for(var p=0,f=Array.from(e.childNodes);p<f.length;p++){var h=Gr(f[p],t,n,r,o,a,s);h&&u.childNodes.push(h)}return u}function zr(e,t,n){void 0===n&&(n=document);var r={capture:!0,passive:!0};return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}}var Yr,Xr,Jr,Kr,$r,Zr,Qr,eo,to={map:{},getId:function(e){return e&&e.__sn?e.__sn.id:-1},getNode:function(e){return to.map[e]||null},removeNodeFromMap:function(e){var t=e.__sn&&e.__sn.id;delete to.map[t],e.childNodes&&e.childNodes.forEach((function(e){return to.removeNodeFromMap(e)}))},has:function(e){return to.map.hasOwnProperty(e)}};function no(e,t,n){void 0===n&&(n={});var r=null,o=0;return function(){var i=Date.now();o||!1!==n.leading||(o=i);var a=t-(i-o),s=this,c=arguments;a<=0||t<a?(r&&(window.clearTimeout(r),r=null),o=i,e.apply(s,c)):r||!1===n.trailing||(r=window.setTimeout((function(){o=!1===n.leading?0:Date.now(),r=null,e.apply(s,c)}),a))}}function ro(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function oo(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function io(e,t){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return io(e.parentNode,t);var n=!1;return"string"==typeof t?n=e.classList.contains(t):e.classList.forEach((function(e){t.test(e)&&(n=!0)})),n||io(e.parentNode,t)}function ao(e){return Boolean(e.changedTouches)}function so(e,t){e.delete(t),t.childNodes.forEach((function(t){return so(e,t)}))}function co(e,t){var n=t.parentNode;return!!n&&(!!e.has(n)||co(e,n))}(Xr=Yr=Yr||{})[Xr.DomContentLoaded=0]="DomContentLoaded",Xr[Xr.Load=1]="Load",Xr[Xr.FullSnapshot=2]="FullSnapshot",Xr[Xr.IncrementalSnapshot=3]="IncrementalSnapshot",Xr[Xr.Meta=4]="Meta",(Kr=Jr=Jr||{})[Kr.Mutation=0]="Mutation",Kr[Kr.MouseMove=1]="MouseMove",Kr[Kr.MouseInteraction=2]="MouseInteraction",Kr[Kr.Scroll=3]="Scroll",Kr[Kr.ViewportResize=4]="ViewportResize",Kr[Kr.Input=5]="Input",(Zr=$r=$r||{})[Zr.MouseUp=0]="MouseUp",Zr[Zr.MouseDown=1]="MouseDown",Zr[Zr.Click=2]="Click",Zr[Zr.ContextMenu=3]="ContextMenu",Zr[Zr.DblClick=4]="DblClick",Zr[Zr.Focus=5]="Focus",Zr[Zr.Blur=6]="Blur",Zr[Zr.TouchStart=7]="TouchStart",Zr[Zr.TouchMove_Departed=8]="TouchMove_Departed",Zr[Zr.TouchEnd=9]="TouchEnd",(eo=Qr=Qr||{}).Start="start",eo.Pause="pause",eo.Resume="resume",eo.Resize="resize",eo.Finish="finish",eo.FullsnapshotRebuilded="fullsnapshot-rebuilded",eo.LoadStylesheetStart="load-stylesheet-start",eo.LoadStylesheetEnd="load-stylesheet-end",eo.SkipStart="skip-start",eo.SkipEnd="skip-end",eo.MouseInteraction="mouse-interaction";var lo=function(e,t){return e+"@"+t};function uo(e){return"__sn"in e}var po,fo,ho,mo,_o,vo=["INPUT","TEXTAREA","SELECT"],go=["color","date","datetime-local","email","month","number","range","search","tel","text","time","url","week"],yo=null,wo=function(){return yo=yo||new WeakMap};function Eo(e){var t,n,r,o,i,a,s,c,l,u=function(e,t,n,r){var o=new MutationObserver((function(o){var i=[],a=[],s=[],c=[],l=new Set,u=new Set,d=new Set,p={};function f(e){var o=to.getId(e.parentNode);if(-1===o)return h.push(e);c.push({parentId:o,previousId:e.previousSibling?to.getId(e.previousSibling):e.previousSibling,nextId:e.nextSibling?to.getId(e.nextSibling):e.nextSibling,node:Gr(e,document,to.map,t,!0,n,r)})}o.forEach((function(e){var n=e.type,r=e.target,o=e.oldValue,c=e.addedNodes,f=e.removedNodes,h=e.attributeName;switch(n){case"characterData":var m=r.textContent;io(r,t)||m===o||i.push({value:m,node:r});break;case"attributes":if(m=r.getAttribute(h),io(r,t)||m===o)return;var _=a.find((function(e){return e.node===r}));_||(_={node:r,attributes:{}},a.push(_)),_.attributes[h]=m;break;case"childList":c.forEach((function(e){return function e(n,r){if(!io(n,t)){if(uo(n)){u.add(n);var o=null;r&&uo(r)&&(o=r.__sn.id),o&&(p[lo(n.__sn.id,o)]=!0)}else l.add(n),d.delete(n);n.childNodes.forEach((function(t){return e(t)}))}}(e,r)})),f.forEach((function(e){var n=to.getId(e),o=to.getId(r);io(e,t)||(l.has(e)?(so(l,e),d.add(e)):l.has(r)&&-1===n||function e(t){var n=to.getId(t);return!to.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||e(t.parentNode))}(r)||(u.has(e)&&p[lo(n,o)]?so(u,e):s.push({parentId:o,id:n})),to.removeNodeFromMap(e))}))}}));var h=[];for(Array.from(u).forEach(f),Array.from(l).forEach((function(e){co(d,e)||function e(t,n){var r=n.parentNode;if(!r)return!1;var o=to.getId(r);return!!t.some((function(e){return e.id===o}))||e(t,r)}(s,e)?co(u,e)?f(e):d.add(e):f(e)}));h.length&&!h.every((function(e){return-1===to.getId(e.parentNode)}));)f(h.shift());var m={texts:i.map((function(e){return{id:to.getId(e.node),value:e.value}})).filter((function(e){return to.has(e.id)})),attributes:a.map((function(e){return{id:to.getId(e.node),attributes:e.attributes}})).filter((function(e){return to.has(e.id)})),removes:s,adds:c};(m.texts.length||m.attributes.length||m.removes.length||m.adds.length)&&e(m)}));return o.observe(document,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}(e.mutationCb,e.blockClass,e.inlineStylesheet,e.maskAllInputs),d=(t=e.mousemoveCb,r=[],o=no((function(){var e=Date.now()-n;t(r.map((function(t){return t.timeOffset-=e,t}))),r=[],n=null}),500),i=no((function(e){var t=e.target,i=ao(e)?e.changedTouches[0]:e,a=i.clientX,s=i.clientY;n=n||Date.now(),r.push({x:a,y:s,id:to.getId(t),timeOffset:Date.now()-n}),o()}),50,{trailing:!1}),a=[zr("mousemove",i),zr("touchmove",i)],function(){a.forEach((function(e){return e()}))}),p=function(e,t){var n=[];return Object.keys($r).filter((function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")})).forEach((function(r){var o,i=r.toLowerCase(),a=(o=r,function(n){if(!io(n.target,t)){var r=to.getId(n.target),i=ao(n)?n.changedTouches[0]:n,a=i.clientX,s=i.clientY;e({type:$r[o],id:r,x:a,y:s})}});n.push(zr(i,a))})),function(){n.forEach((function(e){return e()}))}}(e.mouseInteractionCb,e.blockClass),f=(s=e.scrollCb,c=e.blockClass,zr("scroll",no((function(e){if(e.target&&!io(e.target,c)){var t=to.getId(e.target);if(e.target===document){var n=document.scrollingElement||document.documentElement;s({id:t,x:n.scrollLeft,y:n.scrollTop})}else s({id:t,x:e.target.scrollLeft,y:e.target.scrollTop})}}),100))),h=(l=e.viewportResizeCb,zr("resize",no((function(){var e=ro(),t=oo();l({width:Number(t),height:Number(e)})}),200),window)),m=function(e,t,n,r){function o(e){var o=e.target;if(o&&o.tagName&&!(vo.indexOf(o.tagName)<0)&&!io(o,t)){var a=o.type;if("password"!==a&&!o.classList.contains(n)){var s=o.value,c=!1,l=go.includes(a)||"TEXTAREA"===o.tagName;"radio"===a||"checkbox"===a?c=o.checked:l&&r&&(s="*".repeat(s.length)),i(o,{text:s,isChecked:c});var u=o.name;"radio"===a&&u&&c&&document.querySelectorAll('input[type="radio"][name="'+u+'"]').forEach((function(e){e!==o&&i(e,{text:e.value,isChecked:!c})}))}}}function i(t,n){var r=wo().get(t);if(!r||r.text!==n.text||r.isChecked!==n.isChecked){wo().set(t,n);var o=to.getId(t);e(Ur({},n,{id:o}))}}var a=["input","change"].map((function(e){return zr(e,o)})),s=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),c=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"]];return s&&s.set&&a.push.apply(a,c.map((function(e){return function e(t,n,r,o){var i=Object.getOwnPropertyDescriptor(t,n);return Object.defineProperty(t,n,o?r:{set:function(e){var t=this;setTimeout((function(){r.set.call(t,e)}),0),i&&i.set&&i.set.call(this,e)}}),function(){return e(t,n,i||{},!0)}}(e[0],e[1],{set:function(){o({target:this})}})}))),function(){a.forEach((function(e){return e()}))}}(e.inputCb,e.blockClass,e.ignoreClass,e.maskAllInputs);return function(){u.disconnect(),d(),p(),f(),h(),m()}}function bo(e){return Ur({},e,{timestamp:Date.now()})}function So(e){void 0===e&&(e={});var t,n=e.emit,r=e.checkoutEveryNms,o=e.checkoutEveryNth,i=e.blockClass,a=void 0===i?"rr-block":i,s=e.ignoreClass,c=void 0===s?"rr-ignore":s,l=e.inlineStylesheet,u=void 0===l||l,d=e.maskAllInputs,p=void 0!==d&&d;if(!n)throw new Error("emit function is required");var f=0,h=function(e,i){if(n(e,i),e.type===Yr.FullSnapshot)t=e,f=0;else if(e.type===Yr.IncrementalSnapshot){f++;var a=o&&o<=f,s=r&&e.timestamp-t.timestamp>r;(a||s)&&m(!0)}};function m(e){void 0===e&&(e=!1),h(bo({type:Yr.Meta,data:{href:window.location.href,width:oo(),height:ro()}}),e);var t=function(e,t,n,r){void 0===t&&(t="rr-block"),void 0===n&&(n=!0),void 0===r&&(r=!1);var o={};return[Gr(e,e,o,t,!1,n,r),o]}(document,a,u,p),n=t[0],r=t[1];if(!n)return console.warn("Failed to snapshot the document");to.map=r,h(bo({type:Yr.FullSnapshot,data:{node:n,initialOffset:{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}}}))}try{var _=[];_.push(zr("DOMContentLoaded",(function(){h(bo({type:Yr.DomContentLoaded,data:{}}))})));var v=function(){m(),_.push(Eo({mutationCb:function(e){return h(bo({type:Yr.IncrementalSnapshot,data:Ur({source:Jr.Mutation},e)}))},mousemoveCb:function(e){return h(bo({type:Yr.IncrementalSnapshot,data:{source:Jr.MouseMove,positions:e}}))},mouseInteractionCb:function(e){return h(bo({type:Yr.IncrementalSnapshot,data:Ur({source:Jr.MouseInteraction},e)}))},scrollCb:function(e){return h(bo({type:Yr.IncrementalSnapshot,data:Ur({source:Jr.Scroll},e)}))},viewportResizeCb:function(e){return h(bo({type:Yr.IncrementalSnapshot,data:Ur({source:Jr.ViewportResize},e)}))},inputCb:function(e){return h(bo({type:Yr.IncrementalSnapshot,data:Ur({source:Jr.Input},e)}))},blockClass:a,ignoreClass:c,maskAllInputs:p,inlineStylesheet:u}))};return"interactive"===document.readyState||"complete"===document.readyState?v():_.push(zr("load",(function(){h(bo({type:Yr.Load,data:{}})),v()}),window)),function(){_.forEach((function(e){return e()}))}}catch(e){console.warn(e)}}(function(e,t){e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style&&!0!==e.__forceSmoothScrollPolyfill__)){var n,r=e.HTMLElement||e.Element,i=468,a={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:r.prototype.scroll||l,scrollIntoView:r.prototype.scrollIntoView},s=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,c=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==u(arguments[0])?h.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):a.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!==o(arguments[0])?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(u(arguments[0])?a.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!==o(arguments[0])?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==u(arguments[0])){var e=arguments[0].left,t=arguments[0].top;h.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!==o(arguments[0])?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==u(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==u(arguments[0])){var n=function(e){for(;e!==t.body&&!1===(r=d(n=e,"Y")&&p(n,"Y"),o=d(n,"X")&&p(n,"X"),r||o);)e=e.parentNode||e.host;var n,r,o;return e}(this),r=n.getBoundingClientRect(),o=this.getBoundingClientRect();n!==t.body?(h.call(this,n,n.scrollLeft+o.left-r.left,n.scrollTop+o.top-r.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else a.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(e,t){this.scrollLeft=e,this.scrollTop=t}function u(e){if(null===e||"object"!==o(e)||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"===o(e)&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function d(e,t){return"Y"===t?e.clientHeight+c<e.scrollHeight:"X"===t?e.clientWidth+c<e.scrollWidth:void 0}function p(t,n){var r=e.getComputedStyle(t,null)["overflow"+n];return"auto"===r||"scroll"===r}function f(t){var n,r,o,a,c=(s()-t.startTime)/i;a=c=1<c?1:c,n=.5*(1-Math.cos(Math.PI*a)),r=t.startX+(t.x-t.startX)*n,o=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,r,o),r===t.x&&o===t.y||e.requestAnimationFrame(f.bind(e,t))}function h(n,r,o){var i,c,u,d,p=s();d=n===t.body?(c=(i=e).scrollX||e.pageXOffset,u=e.scrollY||e.pageYOffset,a.scroll):(c=(i=n).scrollLeft,u=n.scrollTop,l),f({scrollable:i,method:d,startTime:p,startX:c,startY:u,x:r,y:o})}}}}(po={exports:{}}),po.exports).polyfill,(ho=fo=fo||{})[ho.JSERROR=0]="JSERROR",ho[ho.DEFAULT=1]="DEFAULT",(_o=mo=mo||{}).INCLUDE="include",_o.REGEX="regex";var xo=(To.prototype.getEvents=function(){return this.events},To.prototype.visibleChange=function(e){!1===e?(this.behaviorPost(!1),this.stopRecord()):(this.stopRecord(),this.initRecord())},To.prototype.initRecord=function(){this.checkUrlPattern(this.patterns)&&(this.record=So({emit:this.emit}),this.mode===fo.DEFAULT&&this.shared.emitter&&this.intervalPost())},To.prototype.stopRecord=function(){this.cachedEvents=d(this.events),this.events=[],this.record&&(this.record(),this.record=void 0),this.intervalId&&window.clearInterval(this.intervalId)},To.prototype.resetRecord=function(){this.stopRecord(),this.record=So({emit:this.emit})},To.prototype.intervalPost=function(){var e=this;this.intervalId=window.setInterval((function(){e.behaviorPost(!1),e.events=[]}),2e4)},To.prototype.checkUrlPattern=function(e){if(m(e)&&0===e.length)return!0;var t=window.location.href;return e.some((function(e){if(e.match_type===mo.INCLUDE)return-1<t.indexOf(e.pattern);if(e.match_type!==mo.REGEX)return!0;var n=e.pattern.match(/^\/(.*?)\/([gim]*)$/);return(n?new RegExp(n[1],n[2]):new RegExp(e.pattern)).test(t)}))},To);function To(e,t){var n=this;this.shared=window.Slardar&&window.Slardar.shared||{},this.errorBehaviorPost=function(e){var t=[];if(n.events.length<100){var r=0===n.cachedEvents.length?n.events:n.events.slice(2);t=n.cachedEvents.concat(r)}else t=n.events;var o={ev_type:"behavior",events:t,event_id:e};n.shared.sendEvent&&f(n.shared.sendEvent)&&0<t.length&&n.shared.sendEvent({event:o,type:"post",name:"BehaviorPlugin"}),n.resetRecord()},this.behaviorPost=function(e){var t={ev_type:"behavior",events:n.events};n.shared.sendEvent&&f(n.shared.sendEvent)&&0<n.events.length&&n.shared.sendEvent({event:t,type:"post",name:"BehaviorPlugin"}),e&&n.resetRecord()},this.urlChange=function(){0===n.patterns.length?n.behaviorPost(!1):n.checkUrlPattern(n.patterns)?n.record||(n.stopRecord(),n.initRecord()):(n.behaviorPost(!1),n.stopRecord())},this.emit=function(e){n.mode===fo.JSERROR?(n.events.push(e),150<n.events.length&&n.resetRecord()):n.events.push(e)},this.mode=e,this.pluginSettings=t,this.patterns=N(this.pluginSettings,"behavior.patterns",[]),this.events=[],this.intervalId=null,this.cachedEvents=[]}var Oo,Co,ko=window.Slardar&&window.Slardar.shared||{};function No(e,t){var n=N(e,t[0]),r=N(e,t[1]),o=N(e,t[2]),i=M(document.cookie,B);return n&&(m(o)&&-1<o.indexOf(i)||Math.random()<r)}function Io(e){if(g()&&"undefined"!=typeof Set&&void 0!==Array.from&&"undefined"!=typeof WeakMap){if(No(e,["behavior.enable","behavior.sample_rate","behavior.slardar_web_ids"])){var t=new xo(Oo.DEFAULT,e);t.initRecord(),(new de).setup((function(){return t.urlChange()})),ko.emitter&&ko.emitter.on&&f(ko.emitter.on)&&ko.emitter.on("visibilitychange",(function(e){return t.visibleChange(e)}))}if(No(e,["sentry.behavior_enable","sentry.behavior_sample_rate","sentry.behavior_slardar_web_ids"])){var n=new xo(Oo.JSERROR,e);if(n.initRecord(),ko.emitter&&ko.emitter.on&&f(ko.emitter.on)&&ko.emitter.on("event_id",(function(e){n.errorBehaviorPost(e)})),window.Slardar&&window.Slardar.shared){var r=ko.plugins||{};r.behavior=n,window.Slardar.shared.plugins=r}}}}function Ao(e){var t={};ko.config&&p(ko.config.plugins)&&(t=ko.config.plugins),e(t)}document.addEventListener("visibilitychange",(function(){ko.emitter&&("hidden"===document.visibilityState&&ko.emitter.emit("visibilitychange",!1),"visible"===document.visibilityState&&ko.emitter.emit("visibilitychange",!0))})),(Co=Oo=Oo||{})[Co.JSERROR=0]="JSERROR",Co[Co.DEFAULT=1]="DEFAULT",function(e){if("script"===ko.installedType)return Ao(e);if("npm"===ko.installedType){if("async"===ko.pluginsLoadType)return Ao(e);ko.emitter&&ko.emitter.on("pluginsReady",(function(){Ao(e)}))}}(Io);var Do=Ue;t.BehaviorMonitor=Io,t.Sentry=Ar,t.SlardarBrowser=je,t.default=Do,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(213),n(44),n(214)(e))},,,,,function(e,t,n){"use strict";var r=n(239);e.exports=r.default||r},,,function(e,t,n){var r=n(29);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},,,function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return l})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return d})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return h})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return _})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return g})),n.d(t,"__asyncDelegator",(function(){return y})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return b})),n.d(t,"__importDefault",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function _(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof v?Promise.resolve(n.value.v).then(c,l):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},,,,,,function(e,t,n){var r=n(28),o=n(51),i=n(74),a=n(122),s=n(124),c=function(e,t,n){var l,u,d,p,f=e&c.F,h=e&c.G,m=e&c.S,_=e&c.P,v=e&c.B,g=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,y=h?o:o[t]||(o[t]={}),w=y.prototype||(y.prototype={});for(l in h&&(n=t),n)d=((u=!f&&g&&void 0!==g[l])?g:n)[l],p=v&&u?s(d,r):_&&"function"==typeof d?s(Function.call,d):d,g&&a(g,l,d,e&c.U),y[l]!=d&&i(y,l,p),_&&w[l]!=d&&(w[l]=d)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){e.exports=!n(30)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},,,,,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(77)("wks"),o=n(76),i=n(28).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},,,,,,function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(79),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(37);r(r.S+r.F*!n(38),"Object",{defineProperty:n(75).f})},,,,,,,,,,,,,,,,,function(e,t,n){(function(t){var r=n(120),o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function i(e){return void 0===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(){if(!("fetch"in o))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function u(e,t){var n,r;if(i(e.length))for(n in e)p(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function d(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"…"}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){for(var t,n=[],r=0,o=e.length;r<o;r++)s(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function h(e){var t,n,r,o,i,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&s(t))for(n=t.split(/\s+/),i=0;i<n.length;i++)a.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],(o=e.getAttribute(r))&&a.push("["+r+'="'+o+'"]');return a.join("")}function m(e,t){return!!(!!e^!!t)}function _(e,t){if(m(e,t))return!1;var n,r,o=e.frames,i=t.frames;if(void 0===o||void 0===i)return!1;if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++)if(n=o[a],r=i[a],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}function v(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function g(e){if("string"==typeof e){return d(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:i,isFunction:function(e){return"function"==typeof e},isPlainObject:a,isString:s,isArray:c,isEmptyObject:function(e){if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:l,supportsReferrerPolicy:function(){if(!l())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n&&n(r)||r}},each:u,objectMerge:function(e,t){return t?(u(t,(function(t,n){e[t]=n})),e):e},truncate:d,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:p,joinRegExp:f,urlencode:function(e){var t=[];return u(e,(function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})),t.join("&")},uuid4:function(){var e=o.crypto||o.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},htmlTreeAsString:function(e){for(var t,n=[],r=0,o=0,i=" > ".length;e&&r++<5&&!("html"===(t=h(e))||r>1&&o+n.length*i+t.length>=80);)n.push(t),o+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:h,isSameException:function(e,t){return!m(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,r=t.stacktrace,(!i(n)||!i(r))&&_(e.stacktrace,t.stacktrace)));var n,r},isSameStacktrace:_,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){if(null!=e){var o=e[t];e[t]=n(o),e[t].__raven__=!0,e[t].__orig__=o,r&&r.push([e,t,o])}},safeJoin:function(e,t){if(!c(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,o){if(!a(t))return t;o="number"!=typeof(n="number"!=typeof n?3:n)?51200:o;var i=function e(t,n){return 0===n?g(t):a(t)?Object.keys(t).reduce((function(r,o){return r[o]=e(t[o],n-1),r}),{}):Array.isArray(t)?t.map((function(t){return e(t,n-1)})):g(t)}(t,n);return v(r(i))>o?e(t,n-1):i},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter((function(e){return"string"==typeof e}))).length)return"[object has no keys]";if(t="number"!=typeof t?40:t,e[0].length>=t)return e[0];for(var n=e.length;n>0;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:r+"…"}return""},sanitize:function(e,t){if(!c(t)||c(t)&&0===t.length)return e;var n,o=f(t);try{n=JSON.parse(r(e))}catch(t){return e}return function e(t){return c(t)?t.map((function(t){return e(t)})):a(t)?Object.keys(t).reduce((function(n,r){return o.test(r)?n[r]="********":n[r]=e(t[r]),n}),{}):t}(n)}}}).call(this,n(44))},function(e,t,n){var r=n(75),o=n(228);e.exports=n(38)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(25),o=n(226),i=n(227),a=Object.defineProperty;t.f=n(38)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(51),o=n(28),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(230)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(53);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},,function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(131);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){"use strict";var r,o,i=n(291),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,l=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(e){var t,n,r,o,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),l&&(t=c.lastIndex),r=a.call(c,e),l&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},function(e,t,n){"use strict";var r,o;Object.defineProperty(t,"__esModule",{value:!0});var i,a,s=n(86);!function(e){e[e.VIP_NOT_BORROW=1]="VIP_NOT_BORROW",e[e.VIP_BORROWED=2]="VIP_BORROWED",e[e.NORMAL_NOT_BUY=3]="NORMAL_NOT_BUY",e[e.NORMAL_BUYED=4]="NORMAL_BUYED",e[e.AD_UNLOCKED=5]="AD_UNLOCKED"}(t.EUserPermType||(t.EUserPermType={})),function(e){e[e.FREE=0]="FREE",e[e.WEIXIN=1]="WEIXIN",e[e.PZ=2]="PZ",e[e.GONGZHONGHAO=3]="GONGZHONGHAO",e[e.MINIPROGRAM=4]="MINIPROGRAM",e[e.BALANCE=10]="BALANCE",e[e.PZ_AUTO=21]="PZ_AUTO",e[e.REWARD=40]="REWARD",e[e.CJPAY_IAP_AUTO=41]="CJPAY_IAP_AUTO",e[e.COMBINED_PAY=70]="COMBINED_PAY",e[e.APPLE_PAY=100]="APPLE_PAY"}(t.EPayWay||(t.EPayWay={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.WAITING_TO_PAY=1]="WAITING_TO_PAY",e[e.PAYING=2]="PAYING",e[e.CLOSED=3]="CLOSED",e[e.FAIL=4]="FAIL",e[e.REFUNDING=5]="REFUNDING",e[e.REFUNDED=6]="REFUNDED",e[e.UNKNOWN=99]="UNKNOWN"}(t.ETradeStatus||(t.ETradeStatus={})),function(e){e.ALBUM="album",e.BOOK="book",e.AUDIO_BOOK="audio_book",e.VIP="vip",e.SUBJECT="subject",e.EBOOK="ebook"}(i=t.EGoodsType||(t.EGoodsType={})),function(e){e.ALBUM="专辑",e.BOOK="书籍",e.AUDIO_BOOK="有声书",e.VIP="VIP",e.SUBJECT="专题",e.EBOOK="电子书"}(a=t.EGoodsTypeDesc||(t.EGoodsTypeDesc={})),t.goodsTypeMap=((r={})[i.ALBUM]=a.ALBUM,r[i.BOOK]=a.BOOK,r[i.EBOOK]=a.EBOOK,r[i.AUDIO_BOOK]=a.AUDIO_BOOK,r[i.VIP]=a.VIP,r[i.SUBJECT]=a.SUBJECT,r),t.contentTypeNumToGoodsTypeMap=((o={})[s.EContentTypeNum.ALBUM]=i.ALBUM,o[s.EContentTypeNum.BOOK]=i.BOOK,o[s.EContentTypeNum.AUDIO_BOOK]=i.AUDIO_BOOK,o[s.EContentTypeNum.EBOOK]=i.EBOOK,o)},function(e,t,n){"use strict";var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ALBUM="album",e.BOOK="book",e.AUDIO_BOOK="audio_book",e.EBOOK="ebook",e.MAGAZINE="journal",e.LIVE_COURSE="live_course"}(o=t.EContentType||(t.EContentType={})),function(e){e[e.ALBUM=1]="ALBUM",e[e.BOOK=2]="BOOK",e[e.AUDIO_BOOK=3]="AUDIO_BOOK",e[e.EBOOK=4]="EBOOK",e[e.MAGAZINE=5]="MAGAZINE",e[e.LIVE_COURSE=6]="LIVE_COURSE"}(i=t.EContentTypeNum||(t.EContentTypeNum={})),function(e){e[e.LEARNING_ADMIN=1]="LEARNING_ADMIN",e[e.PGC_MP=2]="PGC_MP",e[e.SCRIPT=3]="SCRIPT"}(t.EContentSource||(t.EContentSource={})),t.contentTypeMap=((r={})[o.ALBUM]=i.ALBUM,r[o.BOOK]=i.BOOK,r[o.AUDIO_BOOK]=i.AUDIO_BOOK,r[o.EBOOK]=i.EBOOK,r[o.MAGAZINE]=i.MAGAZINE,r[o.LIVE_COURSE]=i.LIVE_COURSE,r[i.ALBUM]=o.ALBUM,r[i.BOOK]=o.BOOK,r[i.AUDIO_BOOK]=o.AUDIO_BOOK,r[i.EBOOK]=o.EBOOK,r[i.MAGAZINE]=o.MAGAZINE,r[i.LIVE_COURSE]=o.LIVE_COURSE,r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.AUDIO_AND_VIDEO=3]="AUDIO_AND_VIDEO",e[e.TEXT=4]="TEXT",e[e.AUDIO_AND_TEXT=5]="AUDIO_AND_TEXT",e[e.VIDEO_AND_TEXT=6]="VIDEO_AND_TEXT",e[e.AUDIO_AND_VIDEO_AND_TEXT=7]="AUDIO_AND_VIDEO_AND_TEXT",e[e.LIVE_STREAM=8]="LIVE_STREAM"}(t.EItemType||(t.EItemType={})),function(e){e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.AUDIO_AND_VIDEO=3]="AUDIO_AND_VIDEO",e[e.TEXT=4]="TEXT",e[e.AUDIO_AND_TEXT=5]="AUDIO_AND_TEXT",e[e.VIDEO_AND_TEXT=6]="VIDEO_AND_TEXT",e[e.AUDIO_AND_VIDEO_AND_TEXT=7]="AUDIO_AND_VIDEO_AND_TEXT",e[e.LIVE_STREAM=8]="LIVE_STREAM"}(t.EAllItemCommonType||(t.EAllItemCommonType={})),function(e){e[e.NEED_PAY=0]="NEED_PAY",e[e.FREE=1]="FREE"}(t.EItemFree||(t.EItemFree={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES"}(t.EIsFuture||(t.EIsFuture={})),function(e){e[e.NOT_FREE=0]="NOT_FREE",e[e.FREE=1]="FREE"}(t.EVIPFreeFlag||(t.EVIPFreeFlag={}))},function(e,t,n){"use strict";var r=n(48);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},,,,function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},,,,function(e,t,n){e.exports={default:n(343),__esModule:!0}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],o=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+o.slice(0,n(r,t)).join(".")+"]"}),function(i,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?o.splice(s,1/0,i):o.push(i),~n(r,a)&&(a=t.call(this,i,a))}else r.push(a);return null==e?a instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(a):a:e.call(this,i,a)}}(e.exports=function(e,t,n,o){return JSON.stringify(e,r(t,o),n)}).getSerialize=r},function(e,t,n){var r=n(29),o=n(28).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(28),o=n(74),i=n(123),a=n(76)("src"),s=n(229),c=(""+s).split("toString");n(51).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(52);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(233),o=n(128);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(78),o=n(54);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(77)("keys"),o=n(76);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";var r=n(52),o=n(29),i=n(237),a=[].slice,s={},c=function(e,t,n){if(!(t in s)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?c(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,n){},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(54);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(131),o=n(283);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(284);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){"use strict";var r=n(289)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var r=n(290),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){"use strict";n(292);var r=n(122),o=n(74),i=n(30),a=n(54),s=n(45),c=n(84),l=s("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=s(e),f=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=f?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[p](""),!t})):void 0;if(!f||!h||"replace"===e&&!u||"split"===e&&!d){var m=/./[p],_=n(a,p,""[e],(function(e,t,n,r,o){return t.exec===c?f&&!o?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),v=_[0],g=_[1];r(String.prototype,e,v),o(RegExp.prototype,p,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null;t.getBrowserVersions=function(){var e,t,n,o;return r||(e=navigator.userAgent,t=window.screen,n=t.width,o=t.height,r={wx:!!e.match(/MicroMessenger/i),trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1===e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1===e.indexOf("Safari"),webview:!!e.match(/Learning/gi),iPhoneX:e.indexOf("iPhone")>-1&&(375===n&&812===o||812===n&&375===o),iPhoneXSMax:/iphone/gi.test(window.navigator.userAgent)&&!!window.devicePixelRatio&&3===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height,iPhoneXR:/iphone/gi.test(window.navigator.userAgent)&&!!window.devicePixelRatio&&2===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.ERROR_NOT_LOGIN=100001]="ERROR_NOT_LOGIN",e[e.ERROR_LOGIN_IN_OTHER_DEVICE=100002]="ERROR_LOGIN_IN_OTHER_DEVICE",e[e.ERROR_EXPIRED=100003]="ERROR_EXPIRED",e[e.ERROR_OPEN_ID=600027]="ERROR_OPEN_ID",e[e.ERRNO_ITEM_DELETE_ERROR=300002]="ERRNO_ITEM_DELETE_ERROR",e[e.ERRNO_ITEM_NOT_FIND_ERROR=300003]="ERRNO_ITEM_NOT_FIND_ERROR",e[e.ERRNO_TRADE_VIP_AND_VIP_FLAG_IN_TOUTIAO=600005]="ERRNO_TRADE_VIP_AND_VIP_FLAG_IN_TOUTIAO"}(t.EResponseCode||(t.EResponseCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(85),o=n(87),i=n(86);t.hasArticle=function(e){return!!(4&e)},t.hasVideo=function(e){return!!(2&e)},t.hasAudio=function(e){return!!(1&e)},t.getThumbUri=function(e,t){return t===i.EContentType.ALBUM||t===i.EContentTypeNum.ALBUM?e.horizontal||"":t===i.EContentType.BOOK||t===i.EContentTypeNum.BOOK?e.vertical||"":t===i.EContentType.AUDIO_BOOK||t===i.EContentTypeNum.AUDIO_BOOK?e.square||"":e&&e.square||""},t.getThumbUriForTT=function(e,t){return t===i.EContentType.ALBUM||t===i.EContentTypeNum.ALBUM?e.square||"":t===i.EContentType.BOOK||t===i.EContentTypeNum.BOOK?e.vertical||"":t===i.EContentType.AUDIO_BOOK||t===i.EContentTypeNum.AUDIO_BOOK?e.vertical||"":e&&e.square||""},t.getThumbUriForLearning=function(e,t){return t===i.EContentType.ALBUM||t===i.EContentTypeNum.ALBUM?e.square||"":t===i.EContentType.BOOK||t===i.EContentTypeNum.BOOK?e.vertical||"":t===i.EContentType.AUDIO_BOOK||t===i.EContentTypeNum.AUDIO_BOOK?e.square||"":e&&e.square||""},t.contentPurchased=function(e){return[r.EUserPermType.VIP_BORROWED,r.EUserPermType.NORMAL_BUYED].indexOf(e)>-1},t.checkPlayPermission=function(e){return e!==r.EUserPermType.NORMAL_NOT_BUY},t.contentPurchasedForTT=function(e){return e===r.EUserPermType.NORMAL_BUYED},t.convertContentTypeEnumToContentType=function(e){return i.contentTypeMap[e]},t.convertContentTypeToContentTypeEnum=function(e){return i.contentTypeMap[e]},t.isVideo=function(e){return 1==(e>>1&1)},t.findFirstFree=function(e){return e.find((function(e){return e.item_base_info.item_free===o.EItemFree.FREE}))},t.formatScore=function(e){return(e/2).toFixed(1)},t.formatScoreWithRound=function(e){return(Math.round(e/2*10)/10).toFixed(1)},t.hasFreeItem=function(e){return(e.item||[]).some((function(e){return e.item_free===o.EItemFree.FREE}))},t.isVerticalContent=function(e){return e===i.EContentTypeNum.EBOOK||e===i.EContentTypeNum.BOOK||e===i.EContentTypeNum.MAGAZINE||e===i.EContentType.EBOOK||e===i.EContentType.BOOK||e===i.EContentType.MAGAZINE}},function(e,t,n){"use strict";var r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.VALID=1]="VALID",e[e.FROZEN=2]="FROZEN",e[e.USED=3]="USED",e[e.EXPIRED=4]="EXPIRED",e[e.NOT_MEET=5]="NOT_MEET"}(t.ECouponStatus||(t.ECouponStatus={})),function(e){e[e.ALL=0]="ALL",e[e.ALBUM_ONLY=1]="ALBUM_ONLY",e[e.BOOK_ONLY=2]="BOOK_ONLY",e[e.SPECIFY=3]="SPECIFY",e[e.ALBUM_AND_BOOK=4]="ALBUM_AND_BOOK",e[e.VIP_MONTH=10]="VIP_MONTH",e[e.VIP_HALF_YEAR=11]="VIP_HALF_YEAR",e[e.VIP_YEAR=12]="VIP_YEAR"}(t.EGoodsRule||(t.EGoodsRule={})),function(e){e[e.NO_RESTRICTION=1]="NO_RESTRICTION",e[e.WITH_RESTRICTION=2]="WITH_RESTRICTION",e[e.DISCOUNT=3]="DISCOUNT"}(o=t.ECouponWay||(t.ECouponWay={})),function(e){e.NO_RESTRICTION="no-restriction",e.WITH_RESTRICTION="with-restriction",e.DISCOUNT="discount"}(i=t.ECouponWayDesc||(t.ECouponWayDesc={})),t.couponWayDescMap=((r={})[o.NO_RESTRICTION]=i.NO_RESTRICTION,r[o.WITH_RESTRICTION]=i.WITH_RESTRICTION,r[o.DISCOUNT]=i.DISCOUNT,r),function(e){e[e.COUPON_STATUS_DISABLED=0]="COUPON_STATUS_DISABLED",e[e.COUPON_STATUS_SELECTED=1]="COUPON_STATUS_SELECTED",e[e.COUPON_STATUS_AVAILABLE=2]="COUPON_STATUS_AVAILABLE"}(t.ECouponStatusForUse||(t.ECouponStatusForUse={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31);r.__exportStar(n(85),t),r.__exportStar(n(143),t),r.__exportStar(n(147),t),r.__exportStar(n(147),t),r.__exportStar(n(86),t),r.__exportStar(n(87),t),r.__exportStar(n(325),t),r.__exportStar(n(326),t),r.__exportStar(n(327),t),r.__exportStar(n(328),t),r.__exportStar(n(145),t),r.__exportStar(n(329),t),r.__exportStar(n(330),t);var o=n(331);t.EBizId=o.EBizId},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ANY=0]="ANY",e[e.VIP=1]="VIP",e[e.INVITE=2]="INVITE",e[e.VIP_AND_INVITE=3]="VIP_AND_INVITE",e[e.BUY=4]="BUY",e[e.INVITE_AND_BUY=6]="INVITE_AND_BUY"}(t.ECondition||(t.ECondition={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.BOUNDLESS=1]="BOUNDLESS"}(t.EChallengeMode||(t.EChallengeMode={})),function(e){e[e.Unfinished=0]="Unfinished",e[e.Finish=1]="Finish",e[e.DelayedFinish=2]="DelayedFinish"}(t.ETaskDoneStatus||(t.ETaskDoneStatus={})),function(e){e[e.COURSE=1]="COURSE",e[e.WRITE=2]="WRITE",e[e.CHOICE=4]="CHOICE"}(t.ESubTaskType||(t.ESubTaskType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=null;t.getBrowserVersions=function(){var e,t,n,r;return o||(e=navigator.userAgent,t=window.screen,n=t.width,r=t.height,o={wx:!!e.match(/MicroMessenger/i),trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1===e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1===e.indexOf("Safari"),webview:!!e.match(/Learning/gi),iPhoneX:e.indexOf("iPhone")>-1&&(375===n&&812===r||812===n&&375===r),iPhoneXSMax:/iphone/gi.test(window.navigator.userAgent)&&!!window.devicePixelRatio&&3===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height,iPhoneXR:/iphone/gi.test(window.navigator.userAgent)&&!!window.devicePixelRatio&&2===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height}),o},t.isAndroid=t.getBrowserVersions().android,t.getAppVersionByUa=function(e){var t=(e||navigator.userAgent).toLowerCase().match(/newsarticle\/\s*([0-9.]*)/);return t?t[1]:""},t.getLiteAppVersionByUa=function(e){var t=(e||navigator.userAgent).toLowerCase(),n=t.match(/newsarticle\/\s*([0-9.]*)/);return n&&/newslite/.test(t)?n[1]:""},t.getTTProAppVersionByUa=function(e){var t=(e||navigator.userAgent).toLowerCase(),n=t.match(/newsarticle\/\s*([0-9.]*)/);return n&&/newssocial/.test(t)?n[1]:""},t.getXiguaAppVersionByUa=function(e){var t=(e||navigator.userAgent).toLowerCase().match(/videoarticle\/\s*([0-9.]*)/);return t?t[1]:""},t.isInToutiao=function(){return/NewsArticle/.test(navigator.userAgent)&&!/NewsLite/.test(navigator.userAgent)&&!/NewsSocial/.test(navigator.userAgent)},t.isInToutiaoLite=function(){return/NewsArticle/.test(navigator.userAgent)&&/NewsLite/.test(navigator.userAgent)},t.isInXigua=function(){return/VideoArticle/.test(navigator.userAgent)},t.isInToutiaoPro=function(){return/NewsSocial/.test(navigator.userAgent)&&/NewsArticle/.test(navigator.userAgent)},t.isInApp=function(){return t.isInToutiao()||t.isInToutiaoLite()||t.isInXigua()||t.isInToutiaoPro()},t.getIOSVersionByUa=function(){var e=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return e?{majorVersion:parseInt(e[1],10),minorVersion:parseInt(e[2],10),patchVersion:parseInt(e[3]||"0",10)}:{majorVersion:0,minorVersion:0,patchVersion:0}},function(e){e.ANDROID="android",e.IOS="ios",e.IPHONE="iphone",e.IPAD="ipad",e.UNKNOWN="unknown"}(r=t.EPlatform||(t.EPlatform={})),t.isPlatform=function(e){var n=t.getBrowserVersions();switch(e){case r.ANDROID:return n.android;case r.IOS:return n.ios;case r.IPAD:return n.iPad;case r.IPHONE:return n.iPhone;default:return!1}}},function(e,t,n){var r=n(19),o=n(48),i=n(15)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r,o,i,a=n(36),s=n(347),c=n(103),l=n(66),u=n(13),d=u.process,p=u.setImmediate,f=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,_=0,v={},g=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){g.call(e.data)};p&&f||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++_]=function(){s("function"==typeof e?e:Function(e),t)},r(_),_},f=function(e){delete v[e]},"process"==n(39)(d)?r=function(e){d.nextTick(a(g,e,1))}:m&&m.now?r=function(e){m.now(a(g,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=y,r=a(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:p,clear:f}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(19),o=n(20),i=n(88);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},,,,,,function(e,t,n){e.exports={default:n(264),__esModule:!0}},function(e,t,n){"use strict";var r=n(83),o=n(132);n(56),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(267),n(268);var i=o(n(274));n(275);var a=o(n(279)),s=o(n(134)),c=o(n(135)),l=o(n(136)),u=o(n(137)),d=o(n(138)),p=o(n(285)),f=o(n(92)),h=r(n(0)),m=o(n(294)),_=o(n(295)),v=function(e){function t(e){var n;(0,s.default)(this,t),(n=(0,l.default)(this,(0,u.default)(t).call(this,e))).handleMouseEnter=function(e){if(e&&"mouseenter"===e.type){var t=(0,p.default)(navigator.userAgent).os;if(t.android||t.ios)return}n.pause()},n.handleMouseLeave=function(){n.props.autoplay&&n.autoplay()};var r=e.children,o=e.infinite,i=e.size;return n.count=h.Children.count(r),o&&n.count>1?(n.children=[h.cloneElement(r[n.count-1],{key:-1})].concat((0,a.default)(r),[h.cloneElement(r[0],{key:n.count+1})]),n.state={selectedIndex:0,transition:!1,translate:-i}):(n.children=r,n.state={selectedIndex:0,transition:!1,translate:0}),n}return(0,d.default)(t,e),(0,c.default)(t,[{key:"autoplay",value:function(){var e=this,t=this.props.autoplayInterval;this.autoplayTimer||(this.autoplayTimer=window.setTimeout((function(){e.next(),e.autoplayTimer=0,e.autoplay()}),t))}},{key:"pause",value:function(){clearTimeout(this.autoplayTimer),this.autoplayTimer=0}},{key:"next",value:function(){this.count>1&&this.switchTo(this.state.selectedIndex+1)}},{key:"prev",value:function(){this.count>1&&this.switchTo(this.state.selectedIndex-1)}},{key:"afterChange",value:function(e){var t=this.props.afterChange;if(t){var n=e;n<0?n=this.count-1:n>=this.count&&(n=0),t(n)}}},{key:"switchTo",value:function(e){var t=this,n=this.props,r=n.size,o=n.transitionDuration,i=n.infinite,a=n.offset;if((i||!(e>=this.count||e<0))&&!this.isSwiping){var s=+(i&&this.count>1);if(this.isSwiping=!0,e>=this.count)this.setState({selectedIndex:0,transition:!0,translate:-(e+s)*r}),this.swipeTimer=window.setTimeout((function(){t.setState({transition:!1,translate:-r}),t.isSwiping=!1,t.afterChange(e)}),o);else if(e<0)this.setState({selectedIndex:this.count-1,transition:!0,translate:-(e+s)*r}),this.swipeTimer=window.setTimeout((function(){t.setState({transition:!1,translate:-t.count*r}),t.isSwiping=!1,t.afterChange(e)}),o);else{var c=-(e+s)*r;i||a&&(e===this.count-1?c+=2*a:0!==e&&(c+=a)),this.setState({selectedIndex:e,transition:!0,translate:c}),this.swipeTimer=window.setTimeout((function(){t.isSwiping=!1,t.afterChange(e)}),o)}}}},{key:"componentDidMount",value:function(){var e=this.props.autoplay;this.count>1&&e&&this.autoplay()}},{key:"componentWillUnmount",value:function(){this.pause(),clearTimeout(this.swipeTimer)}},{key:"renderList",value:function(){var e=this,t=this.props,n=t.onTouchStart,r=t.onTouchMove,o=t.onTouchEnd,i=t.size,a=t.sizeUnit,s=t.swipeable,c=t.transitionDuration,l=t.vertical,u=this.state,d=u.transition,p=u.translate,f=h.createElement(_.default,{vertical:l,translate:p,transitionDuration:c,size:i,sizeUnit:a,transition:d},this.children);return s&&this.count>1?h.createElement(m.default,{action:l?"Y":"X",onStart:function(){return n&&n(l),l?e.curY=e.state.translate:e.curX=e.state.translate,e.handleMouseEnter(),!1},onMoveX:l?void 0:function(t){var n=t.x,o=t.X;r&&r();var a=Math.max(Math.min(e.curX-n+o,0),-i*(e.children.length-1));return e.isSwiping||e.setState({transition:!1,translate:a}),!1},onMoveY:l?function(t){var n=t.y,r=t.Y,o=Math.max(Math.min(e.curY-n+r,0),-i*(e.children.length-1));return e.isSwiping||e.setState({transition:!1,translate:o}),!1}:void 0,onEndX:l?void 0:function(t){var n=t.x,r=t.X;return o&&o(),n>r?e.next():n<r&&e.prev(),e.handleMouseLeave(),!1},onEndY:l?function(t){var n=t.y,r=t.Y;return o&&o(),n>r?e.next():n<r&&e.prev(),e.handleMouseLeave(),!1}:void 0},f):f}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.children,o=n.className,a=n.dots,s=n.infinite,c=n.size,l=n.sizeUnit,u=n.vertical,d=this.props,p=d.offset,m=d.style,_=this.state.selectedIndex;s&&(p=0),m=Object.assign({},m,(0,i.default)({},u?"height":"width","".concat(c+2*p).concat(l)));return h.createElement("div",{className:(0,f.default)(o,"lego-carousel",(e={},(0,i.default)(e,"".concat("lego-carousel","-horizontal"),!u),(0,i.default)(e,"".concat("lego-carousel","-vertical"),u),e)),onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleMouseEnter,onTouchEnd:this.handleMouseLeave,onTouchCancel:this.handleMouseLeave,onMouseLeave:this.handleMouseLeave,style:m},this.renderList(),!!a&&this.count>1&&h.createElement("div",{className:"".concat("lego-carousel","-dot-list")},h.Children.map(r,(function(e,n){return h.createElement("div",{className:(0,f.default)("".concat("lego-carousel","-dot-item"),(0,i.default)({},"".concat("lego-carousel","-dot-item-selected"),n===_)),key:n,onClick:t.switchTo.bind(t,n)})}))))}}]),t}(h.Component);v.defaultProps={autoplay:!1,autoplayInterval:3e3,dots:!0,infinite:!1,offset:0,sizeUnit:"px",transitionDuration:1e3,vertical:!1};var g=v;t.default=g,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31);r.__exportStar(n(315),t),r.__exportStar(n(317),t),r.__exportStar(n(322),t),r.__exportStar(n(144),t),r.__exportStar(n(323),t),r.__exportStar(n(324),t),r.__exportStar(n(332),t),r.__exportStar(n(333),t),r.__exportStar(n(338),t),r.__exportStar(n(146),t)},function(e,t,n){e.exports=n(356)},,,,,function(e,t,n){var r=n(9),o=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},,,,,,,,,,,,,,,,,,,,,function(e,t){window.felog=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=performance.now(),o=window.feTemplateLastStepTime?r-window.feTemplateLastStepTime:r;"fe_template"===e?(console.log("bytedance://felog?type=fe_template&message="+t),console.log("bytedance://felog?type=fe_template_"+t+"_time&message="+o),window.feTemplateLastStepTime=performance.now()):console.log("bytedance://felog?type="+e+"&message="+t);var i=window.ttwebview&&window.ttwebview.onReportRenderMsg;try{i&&(n&&n.origin?i(e+"",t+"",""):(i(e+"_"+t,"","time_delta"),"fe_template"===e&&i(e+"_"+t+"_time",o+"","float_num")))}catch(e){console.error("logToTTWebview error:",e)}},window.felog("fe_template","start_import")},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,,,,function(e,t,n){(function(t){var r=n(220),o=n(120),i=n(221),a=n(222),s=n(73),c=s.isErrorEvent,l=s.isDOMError,u=s.isDOMException,d=s.isError,p=s.isObject,f=s.isPlainObject,h=s.isUndefined,m=s.isFunction,_=s.isString,v=s.isArray,g=s.isEmptyObject,y=s.each,w=s.objectMerge,E=s.truncate,b=s.objectFrozen,S=s.hasKey,x=s.joinRegExp,T=s.urlencode,O=s.uuid4,C=s.htmlTreeAsString,k=s.isSameException,N=s.isSameStacktrace,I=s.parseUrl,A=s.fill,D=s.supportsFetch,R=s.supportsReferrerPolicy,L=s.serializeKeysForMessage,P=s.serializeException,M=s.sanitize,j=n(223).wrapMethod,U="source protocol user pass host port path".split(" "),H=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function F(){return+new Date}var B="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},V=B.document,q=B.navigator;function W(e,t){return m(t)?function(n){return t(n,e)}:t}function G(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!h(V),this._hasNavigator=!h(q),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:B.SENTRY_RELEASE&&B.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:R()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=B.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=F(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=B.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}G.prototype={VERSION:"3.27.2",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var o=n._globalOptions;t&&y(t,(function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:o[e]=t})),n.setDSN(e),o.ignoreErrors.push(/^Script error\.?$/),o.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),o.ignoreErrors=x(o.ignoreErrors),o.ignoreUrls=!!o.ignoreUrls.length&&x(o.ignoreUrls),o.whitelistUrls=!!o.whitelistUrls.length&&x(o.whitelistUrls),o.includePaths=x(o.includePaths),o.maxBreadcrumbs=Math.max(0,Math.min(o.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=o.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=w(i,a):!1!==a&&(a=i),o.autoBreadcrumbs=a;var s={tryCatch:!0},c=o.instrument;return"[object Object]"==={}.toString.call(c)?c=w(s,c):!1!==c&&(c=s),o.instrument=c,r.collectWindowErrors=!!o.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(r.report.subscribe((function(){e._handleOnErrorStackInfo.apply(e,arguments)})),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this._parseDSN(e),n=t.path.lastIndexOf("/"),r=t.path.substr(1,n);this._dsn=e,this._globalKey=t.user,this._globalSecret=t.pass&&t.pass.substr(1),this._globalProject=t.path.substr(n+1),this._globalServer=this._getGlobalServer(t),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return m(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var r=this;if(h(t)&&!m(e))return e;if(m(e)&&(t=e,e=void 0),!m(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function o(){var o=[],i=arguments.length,a=!e||e&&!1!==e.deep;for(n&&m(n)&&n.apply(this,arguments);i--;)o[i]=a?r.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,o)}catch(t){throw r._ignoreNextOnError(),r.captureException(t,e),t}}for(var i in t)S(t,i)&&(o[i]=t[i]);return o.prototype=t.prototype,t.__raven_wrapper__=o,o.__raven__=!0,o.__orig__=t,o},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),B.addEventListener&&B.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return B.removeEventListener&&B.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=w({trimHeadFrames:0},t||{}),c(e)&&e.error)e=e.error;else{if(l(e)||u(e)){var n=e.name||(l(e)?"DOMError":"DOMException"),o=e.message?n+": "+e.message:n;return this.captureMessage(o,w(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(d(e))e=e;else{if(!f(e))return this.captureMessage(e,w(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var i=r.computeStackTrace(e);this._handleStackInfo(i,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),r=w(e,{message:"Non-Error exception captured with keys: "+L(n),fingerprint:[i(n)],extra:e.extra||{}});return r.extra.__serialized__=P(t),r},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,o=w({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var i=r.computeStackTrace(n),a=v(i.stack)&&i.stack[1];a&&"Raven.captureException"===a.func&&(a=i.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t.stacktrace||""===o.message){o.fingerprint=null==o.fingerprint?e:o.fingerprint,(t=w({trimHeadFrames:0},t)).trimHeadFrames+=1;var c=this._prepareFrames(i,t);o.stacktrace={frames:c.reverse()}}return o.fingerprint&&(o.fingerprint=v(o.fingerprint)?o.fingerprint:[o.fingerprint]),this._send(o),this}}},captureBreadcrumb:function(e){var t=w({timestamp:F()/1e3},e);if(m(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(p(n)&&!g(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(o(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=W(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=W(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=W(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=B.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(V){if(!(e=w({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},e)).eventId)throw new a("Missing eventId");if(!e.dsn)throw new a("Missing DSN");var t=encodeURIComponent,n=[];for(var r in e)if("user"===r){var o=e.user;o.name&&n.push("name="+t(o.name)),o.email&&n.push("email="+t(o.email))}else n.push(t(r)+"="+t(e[r]));var i=this._getGlobalServer(this._parseDSN(e.dsn)),s=V.createElement("script");s.async=!0,s.src=i+"/api/embed/error-page/?"+n.join("&"),(V.head||V.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout((function(){e._ignoreOnError-=1}))},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),V.createEvent?(n=V.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=V.createEventObject()).eventType=e,t)S(t,r)&&(n[r]=t[r]);if(V.createEvent)V.dispatchEvent(n);else try{V.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var r;t._lastCapturedEvent=n;try{r=C(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var o=e._keypressTimeout;o||e._breadcrumbEventHandler("input")(t),clearTimeout(o),e._keypressTimeout=setTimeout((function(){e._keypressTimeout=null}),1e3)}}},_captureUrlChange:function(e,t){var n=I(this._location.href),r=I(t),o=I(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===o.protocol&&n.host===o.host&&(e=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var a=o[0];return m(a)&&(o[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},a)),t.apply?t.apply(this,o):t(o[0],o[1])}}var r=this._globalOptions.autoBreadcrumbs;function o(n){var o=B[n]&&B[n].prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(A(o,"addEventListener",(function(t){return function(o,i,a,s){try{i&&i.handleEvent&&(i.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:i&&i.name||"<anonymous>"}}},i.handleEvent))}catch(e){}var c,l,u;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(l=e._breadcrumbEventHandler("click"),u=e._keypressEventHandler(),c=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?l(e):"keypress"===t?u(e):void 0}}),t.call(this,o,e.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:i&&i.name||"<anonymous>"}}},i,c),a,s)}}),t),A(o,"removeEventListener",(function(e){return function(t,n,r,o){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,o)}}),t))}A(B,"setTimeout",n,t),A(B,"setInterval",n,t),B.requestAnimationFrame&&A(B,"requestAnimationFrame",(function(t){return function(n){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},n))}}),t);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<i.length;a++)o(i[a])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function r(t,n){t in n&&m(n[t])&&A(n,t,(function(n){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:n&&n.name||"<anonymous>"}}},n)}))}if(t.xhr&&"XMLHttpRequest"in B){var o=B.XMLHttpRequest&&B.XMLHttpRequest.prototype;A(o,"open",(function(t){return function(n,r){return _(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}}),n),A(o,"send",(function(t){return function(){var n=this;function o(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var i=["onload","onerror","onprogress"],a=0;a<i.length;a++)r(i[a],n);return"onreadystatechange"in n&&m(n.onreadystatechange)?A(n,"onreadystatechange",(function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,o)})):n.onreadystatechange=o,t.apply(this,arguments)}}),n)}t.xhr&&D()&&A(B,"fetch",(function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var o,i=n[0],a="GET";if("string"==typeof i?o=i:"Request"in B&&i instanceof B.Request?(o=i.url,i.method&&(a=i.method)):o=""+i,-1!==o.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:o,status_code:null};return t.apply(this,n).then((function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t})).catch((function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),t}))}}),n),t.dom&&this._hasDocument&&(V.addEventListener?(V.addEventListener("click",e._breadcrumbEventHandler("click"),!1),V.addEventListener("keypress",e._keypressEventHandler(),!1)):V.attachEvent&&(V.attachEvent("onclick",e._breadcrumbEventHandler("click")),V.attachEvent("onkeypress",e._keypressEventHandler())));var i=B.chrome,a=!(i&&i.app&&i.app.runtime)&&B.history&&B.history.pushState&&B.history.replaceState;if(t.location&&a){var s=B.onpopstate;B.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var c=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};A(B.history,"pushState",c,n),A(B.history,"replaceState",c,n)}if(t.console&&"console"in B&&console.log){var l=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};y(["debug","info","warn","error","log"],(function(e,t){j(console,t,l)}))}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;y(this._plugins,(function(t,n){var r=n[0],o=n[1];r.apply(e,[e].concat(o))}))},_parseDSN:function(e){var t=H.exec(e),n={},r=7;try{for(;r--;)n[U[r]]=t[r]||""}catch(t){throw new a("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(y(e.stack,(function(t,o){var i=n._normalizeFrame(o,e.url);i&&r.push(i)})),t&&t.trimHeadFrames))for(var o=0;o<t.trimHeadFrames&&o<r.length;o++)r[o].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,o,i){var a,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(o&&o.length?(n=o[0].filename||n,o.reverse(),a={frames:o}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var c=w({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:n},i),l=c.exception.values[0];null==l.type&&""===l.value&&(l.value="Unrecoverable error caught"),!c.exception.mechanism&&c.mechanism&&(c.exception.mechanism=c.mechanism,delete c.mechanism),c.exception.mechanism=w({type:"generic",handled:!0},c.exception.mechanism||{}),this._send(c)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=E(e.message,t)),e.exception){var n=e.exception.values[0];n.value=E(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=E(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=E(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,o=["to","from","url"],i=0;i<e.values.length;++i)if((n=e.values[i]).hasOwnProperty("data")&&p(n.data)&&!b(n.data)){r=w({},n.data);for(var a=0;a<o.length;++a)t=o[a],r.hasOwnProperty(t)&&r[t]&&(r[t]=E(r[t],this._globalOptions.maxUrlLength));e.values[i].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&q.userAgent&&(e.headers={"User-Agent":q.userAgent}),B.location&&B.location.href&&(e.url=B.location.href),this._hasDocument&&V.referrer&&(e.headers||(e.headers={}),e.headers.Referer=V.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&F()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?N(e.stacktrace,t.stacktrace):e.exception||t.exception?k(e.exception,t.exception):!e.fingerprint&&!t.fingerprint||Boolean(e.fingerprint&&t.fingerprint)&&JSON.stringify(e.fingerprint)===JSON.stringify(t.fingerprint))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=D()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=F()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),e.trimHeadFrames&&delete e.trimHeadFrames,(e=w(n,e)).tags=w(w({},this._globalContext.tags),e.tags),e.extra=w(w({},this._globalContext.extra),e.extra),e.extra["session:duration"]=F()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach((function(t){(null==e[t]||""===e[t]||g(e[t]))&&delete e[t]})),m(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!g(e)&&(m(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return M(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return O()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var i=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:o,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+T(e.auth),n=null,r={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(r=this._evaluateHash(e.options.fetchParameters)),D()){r.body=o(e.data);var i=w({},this._fetchDefaults),a=w(i,r);return n&&(a.headers=n),B.fetch(t,a).then((function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}})).catch((function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))}))}var s=B.XMLHttpRequest&&new B.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&y(n,(function(e,t){s.setRequestHeader(e,t)})),s.send(o(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){h(t)?delete this._globalContext[e]:this._globalContext[e]=w(this._globalContext[e]||{},t)}},G.prototype.setUser=G.prototype.setUserContext,G.prototype.setReleaseContext=G.prototype.setRelease,e.exports=G}).call(this,n(44))},function(e,t,n){(function(t){var r=n(73),o={collectWindowErrors:!0,debug:!1},i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},a=[].slice,s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function c(){return"undefined"==typeof document||null==document.location?"":document.location.href}o.report=function(){var e,t,n=[],l=null,u=null,d=null;function p(e,t){var r=null;if(!t||o.collectWindowErrors){for(var i in n)if(n.hasOwnProperty(i))try{n[i].apply(null,[e].concat(a.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function f(t,n,i,a,l){var u=r.isErrorEvent(l)?l.error:l,f=r.isErrorEvent(t)?t.message:t;if(d)o.computeStackTrace.augmentStackTraceWithInitialElement(d,n,i,f),h();else if(u&&r.isError(u))p(o.computeStackTrace(u),!0);else{var m,_={url:n,line:i,column:a},v=void 0;if("[object String]"==={}.toString.call(f))(m=f.match(s))&&(v=m[1],f=m[2]);_.func="?",p({name:v,message:f,url:c(),stack:[_]},!0)}return!!e&&e.apply(this,arguments)}function h(){var e=d,t=l;l=null,d=null,u=null,p.apply(null,[e,!1].concat(t))}function m(e,t){var n=a.call(arguments,1);if(d){if(u===e)return;h()}var r=o.computeStackTrace(e);if(d=r,u=e,l=n,setTimeout((function(){u===e&&h()}),r.incomplete?2e3:0),!1!==t)throw e}return m.subscribe=function(r){!function(){if(t)return;e=i.onerror,i.onerror=f,t=!0}(),n.push(r)},m.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},m.uninstall=function(){!function(){if(!t)return;i.onerror=e,t=!1,e=void 0}(),n=[]},m}(),o.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,s=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,u=e.stack.split("\n"),d=[],p=(/^(.*) is undefined$/.exec(e.message),0),f=u.length;p<f;++p){if(n=o.exec(u[p])){var h=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=l.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:h?null:n[2],func:n[1]||"?",args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=i.exec(u[p]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(u[p])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=s.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==p||n[5]||void 0===e.columnNumber||(d[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func="?"),r.url&&"blob:"===r.url.substr(0,5)){var m=new XMLHttpRequest;if(m.open("GET",r.url,!1),m.send(null),200===m.status){var _=m.responseText||"",v=(_=_.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(v){var g=v[1];"~"===g.charAt(0)&&(g=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+g.slice(1)),r.url=g.slice(0,-4)}}}d.push(r)}return d.length?{name:e.name,message:e.message,url:c(),stack:d}:null}}function t(e,t,n,r){var o={url:t,line:n};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func="?"),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,i){for(var a,s,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,u=[],d={},p=!1,f=n.caller;f&&!p;f=f.caller)if(f!==r&&f!==o.report){if(s={url:null,func:"?",line:null,column:null},f.name?s.func=f.name:(a=l.exec(f.toString()))&&(s.func=a[1]),void 0===s.func)try{s.func=a.input.substring(0,a.input.indexOf("{"))}catch(e){}d[""+f]?p=!0:d[""+f]=!0,u.push(s)}i&&u.splice(0,i);var h={name:e.name,message:e.message,url:c(),stack:u};return t(h,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),h}function r(t,r){var i=null;r=null==r?0:+r;try{if(i=e(t))return i}catch(e){if(o.debug)throw e}try{if(i=n(t,r+1))return i}catch(e){if(o.debug)throw e}return{name:t.name,message:t.message,url:c()}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r}(),e.exports=o}).call(this,n(44))},function(e,t){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,r,o,i,a){return n((s=n(n(t,e),n(o,a)))<<(c=i)|s>>>32-c,r);var s,c}function o(e,t,n,o,i,a,s){return r(t&n|~t&o,e,t,i,a,s)}function i(e,t,n,o,i,a,s){return r(t&o|n&~o,e,t,i,a,s)}function a(e,t,n,o,i,a,s){return r(t^n^o,e,t,i,a,s)}function s(e,t,n,o,i,a,s){return r(n^(t|~o),e,t,i,a,s)}function c(e,t){var r,c,l,u,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var p=1732584193,f=-271733879,h=-1732584194,m=271733878;for(r=0;r<e.length;r+=16)c=p,l=f,u=h,d=m,p=o(p,f,h,m,e[r],7,-680876936),m=o(m,p,f,h,e[r+1],12,-389564586),h=o(h,m,p,f,e[r+2],17,606105819),f=o(f,h,m,p,e[r+3],22,-1044525330),p=o(p,f,h,m,e[r+4],7,-176418897),m=o(m,p,f,h,e[r+5],12,1200080426),h=o(h,m,p,f,e[r+6],17,-1473231341),f=o(f,h,m,p,e[r+7],22,-45705983),p=o(p,f,h,m,e[r+8],7,1770035416),m=o(m,p,f,h,e[r+9],12,-1958414417),h=o(h,m,p,f,e[r+10],17,-42063),f=o(f,h,m,p,e[r+11],22,-1990404162),p=o(p,f,h,m,e[r+12],7,1804603682),m=o(m,p,f,h,e[r+13],12,-40341101),h=o(h,m,p,f,e[r+14],17,-1502002290),p=i(p,f=o(f,h,m,p,e[r+15],22,1236535329),h,m,e[r+1],5,-165796510),m=i(m,p,f,h,e[r+6],9,-1069501632),h=i(h,m,p,f,e[r+11],14,643717713),f=i(f,h,m,p,e[r],20,-373897302),p=i(p,f,h,m,e[r+5],5,-701558691),m=i(m,p,f,h,e[r+10],9,38016083),h=i(h,m,p,f,e[r+15],14,-660478335),f=i(f,h,m,p,e[r+4],20,-405537848),p=i(p,f,h,m,e[r+9],5,568446438),m=i(m,p,f,h,e[r+14],9,-1019803690),h=i(h,m,p,f,e[r+3],14,-187363961),f=i(f,h,m,p,e[r+8],20,1163531501),p=i(p,f,h,m,e[r+13],5,-1444681467),m=i(m,p,f,h,e[r+2],9,-51403784),h=i(h,m,p,f,e[r+7],14,1735328473),p=a(p,f=i(f,h,m,p,e[r+12],20,-1926607734),h,m,e[r+5],4,-378558),m=a(m,p,f,h,e[r+8],11,-2022574463),h=a(h,m,p,f,e[r+11],16,1839030562),f=a(f,h,m,p,e[r+14],23,-35309556),p=a(p,f,h,m,e[r+1],4,-1530992060),m=a(m,p,f,h,e[r+4],11,1272893353),h=a(h,m,p,f,e[r+7],16,-155497632),f=a(f,h,m,p,e[r+10],23,-1094730640),p=a(p,f,h,m,e[r+13],4,681279174),m=a(m,p,f,h,e[r],11,-358537222),h=a(h,m,p,f,e[r+3],16,-722521979),f=a(f,h,m,p,e[r+6],23,76029189),p=a(p,f,h,m,e[r+9],4,-640364487),m=a(m,p,f,h,e[r+12],11,-421815835),h=a(h,m,p,f,e[r+15],16,530742520),p=s(p,f=a(f,h,m,p,e[r+2],23,-995338651),h,m,e[r],6,-198630844),m=s(m,p,f,h,e[r+7],10,1126891415),h=s(h,m,p,f,e[r+14],15,-1416354905),f=s(f,h,m,p,e[r+5],21,-57434055),p=s(p,f,h,m,e[r+12],6,1700485571),m=s(m,p,f,h,e[r+3],10,-1894986606),h=s(h,m,p,f,e[r+10],15,-1051523),f=s(f,h,m,p,e[r+1],21,-2054922799),p=s(p,f,h,m,e[r+8],6,1873313359),m=s(m,p,f,h,e[r+15],10,-30611744),h=s(h,m,p,f,e[r+6],15,-1560198380),f=s(f,h,m,p,e[r+13],21,1309151649),p=s(p,f,h,m,e[r+4],6,-145523070),m=s(m,p,f,h,e[r+11],10,-1120210379),h=s(h,m,p,f,e[r+2],15,718787259),f=s(f,h,m,p,e[r+9],21,-343485551),p=n(p,c),f=n(f,l),h=n(h,u),m=n(m,d);return[p,f,h,m]}function l(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function d(e){var t,n,r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function p(e){return unescape(encodeURIComponent(e))}function f(e){return function(e){return l(c(u(e),8*e.length))}(p(e))}function h(e,t){return function(e,t){var n,r,o=u(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=c(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=c(i.concat(u(t)),512+8*t.length),l(c(a.concat(r),640))}(p(e),p(t))}e.exports=function(e,t,n){return t?n?h(t,e):d(h(t,e)):n?f(e):d(f(e))}},function(e,t){function n(e){this.name="RavenConfigError",this.message=e}n.prototype=new Error,n.prototype.constructor=n,e.exports=n},function(e,t,n){var r=n(73);e.exports={wrapMethod:function(e,t,n){var o=e[t],i=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=r.safeJoin(e," "),c={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(r.safeJoin(e.slice(1)," ")||"console.assert"),c.extra.arguments=e.slice(1),n&&n(s,c)):n&&n(s,c),o&&Function.prototype.apply.call(o,i,e)}}}}},function(e,t,n){n(225),e.exports=n(51).Reflect.construct},function(e,t,n){var r=n(37),o=n(231),i=n(52),a=n(25),s=n(29),c=n(30),l=n(129),u=(n(28).Reflect||{}).construct,d=c((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),p=!c((function(){u((function(){}))}));r(r.S+r.F*(d||p),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(p&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var c=n.prototype,f=o(s(c)?c:Object.prototype),h=Function.apply.call(e,f,t);return s(h)?h:f}})},function(e,t,n){e.exports=!n(38)&&!n(30)((function(){return 7!=Object.defineProperty(n(121)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(29);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){e.exports=n(77)("native-function-to-string",Function.toString)},function(e,t){e.exports=!1},function(e,t,n){var r=n(25),o=n(232),i=n(128),a=n(127)("IE_PROTO"),s=function(){},c=function(){var e,t=n(121)("iframe"),r=i.length;for(t.style.display="none",n(236).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(75),o=n(25),i=n(125);e.exports=n(38)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(123),o=n(126),i=n(234)(!1),a=n(127)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){var r=n(126),o=n(55),i=n(235);e.exports=function(e){return function(t,n,a){var s,c=r(t),l=o(c.length),u=i(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(79),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(28).document;e.exports=r&&r.documentElement},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t){
/**
@license @nocompile
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(function(){"use strict";var e=window.Document.prototype.createElement,t=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,r=window.Document.prototype.prepend,o=window.Document.prototype.append,i=window.DocumentFragment.prototype.prepend,a=window.DocumentFragment.prototype.append,s=window.Node.prototype.cloneNode,c=window.Node.prototype.appendChild,l=window.Node.prototype.insertBefore,u=window.Node.prototype.removeChild,d=window.Node.prototype.replaceChild,p=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),f=window.Element.prototype.attachShadow,h=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),m=window.Element.prototype.getAttribute,_=window.Element.prototype.setAttribute,v=window.Element.prototype.removeAttribute,g=window.Element.prototype.getAttributeNS,y=window.Element.prototype.setAttributeNS,w=window.Element.prototype.removeAttributeNS,E=window.Element.prototype.insertAdjacentElement,b=window.Element.prototype.insertAdjacentHTML,S=window.Element.prototype.prepend,x=window.Element.prototype.append,T=window.Element.prototype.before,O=window.Element.prototype.after,C=window.Element.prototype.replaceWith,k=window.Element.prototype.remove,N=window.HTMLElement,I=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),A=window.HTMLElement.prototype.insertAdjacentElement,D=window.HTMLElement.prototype.insertAdjacentHTML,R=new Set;function L(e){var t=R.has(e);return e=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(e),!t&&e}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(e){return R.add(e)}));var P=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function M(e){var t=e.isConnected;if(void 0!==t)return t;if(P(e))return!0;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function j(e){var t=e.children;if(t)return Array.prototype.slice.call(t);for(t=[],e=e.firstChild;e;e=e.nextSibling)e.nodeType===Node.ELEMENT_NODE&&t.push(e);return t}function U(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function H(e,t,n){e[t]=n}function F(e){var t=document;this.c=e,this.a=t,this.b=void 0,te(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function B(e){e.b&&e.b.disconnect()}function V(){var e=this;this.b=this.a=void 0,this.c=new Promise((function(t){e.b=t,e.a&&t(e.a)}))}function q(e){if(e.a)throw Error("Already resolved.");e.a=void 0,e.b&&e.b(void 0)}function W(e){this.f=new Map,this.g=new Map,this.l=new Map,this.i=!1,this.b=e,this.j=new Map,this.c=function(e){return e()},this.a=!1,this.h=[],this.m=e.f?new F(e):void 0}function G(e,t){if(!L(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(X(e,t))throw Error("A custom element with name '"+t+"' has already been defined.");if(e.i)throw Error("A custom element is already being defined.")}function z(e,t,n){var r;e.i=!0;try{var o=function(e){var t=i[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},i=n.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var a=o("connectedCallback"),s=o("disconnectedCallback"),c=o("adoptedCallback"),l=(r=o("attributeChangedCallback"))&&n.observedAttributes||[]}catch(e){throw e}finally{e.i=!1}return n={localName:t,constructorFunction:n,connectedCallback:a,disconnectedCallback:s,adoptedCallback:c,attributeChangedCallback:r,observedAttributes:l,constructionStack:[]},e.g.set(t,n),e.l.set(n.constructorFunction,n),n}function Y(e){if(!1!==e.a){e.a=!1;for(var t=[],n=e.h,r=new Map,o=0;o<n.length;o++)r.set(n[o],[]);for(te(e.b,document,{upgrade:function(n){if(void 0===n.__CE_state){var o=n.localName,i=r.get(o);i?i.push(n):e.g.has(o)&&t.push(n)}}}),o=0;o<t.length;o++)ne(e.b,t[o]);for(o=0;o<n.length;o++){for(var i=n[o],a=r.get(i),s=0;s<a.length;s++)ne(e.b,a[s]);(i=e.j.get(i))&&q(i)}n.length=0}}function X(e,t){var n=e.g.get(t);if(n)return n;if(n=e.f.get(t)){e.f.delete(t);try{return z(e,t,n())}catch(e){oe(e)}}}function J(){var e=ce&&ce.noDocumentConstructionObserver,t=ce&&ce.shadyDomFastWalk;this.b=[],this.c=[],this.a=!1,this.shadyDomFastWalk=t,this.f=!e}function K(e,t,n,r){var o=window.ShadyDOM;if(e.shadyDomFastWalk&&o&&o.inUse){if(t.nodeType===Node.ELEMENT_NODE&&n(t),t.querySelectorAll)for(e=o.nativeMethods.querySelectorAll.call(t,"*"),t=0;t<e.length;t++)n(e[t])}else!function e(t,n,r){for(var o=t;o;){if(o.nodeType===Node.ELEMENT_NODE){var i=o;n(i);var a=i.localName;if("link"===a&&"import"===i.getAttribute("rel")){if(o=i.import,void 0===r&&(r=new Set),o instanceof Node&&!r.has(o))for(r.add(o),o=o.firstChild;o;o=o.nextSibling)e(o,n,r);o=U(t,i);continue}if("template"===a){o=U(t,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)e(i,n,r)}o=o.firstChild?o.firstChild:U(t,o)}}(t,n,r)}function $(e,t){e.a&&K(e,t,(function(t){return Z(e,t)}))}function Z(e,t){if(e.a&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.b.length;n++)e.b[n](t);for(n=0;n<e.c.length;n++)e.c[n](t)}}function Q(e,t){var n=[];for(K(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state?e.connectedCallback(r):ne(e,r)}}function ee(e,t){var n=[];for(K(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state&&e.disconnectedCallback(r)}}function te(e,t,n){var r=(n=void 0===n?{}:n).s,o=n.upgrade||function(t){return ne(e,t)},i=[];for(K(e,t,(function(t){if(e.a&&Z(e,t),"link"===t.localName&&"import"===t.getAttribute("rel")){var n=t.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:t.addEventListener("load",(function(){var n=t.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var i=new Set;r&&(r.forEach((function(e){return i.add(e)})),i.delete(n)),te(e,n,{s:i,upgrade:o})}}))}else i.push(t)}),r),t=0;t<i.length;t++)o(i[t])}function ne(e,t){try{var n=t.ownerDocument,r=n.__CE_registry,o=r&&(n.defaultView||n.__CE_isImportDocument)?X(r,t.localName):void 0;if(o&&void 0===t.__CE_state){o.constructionStack.push(t);try{try{if(new o.constructorFunction!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{o.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=o,o.attributeChangedCallback&&t.hasAttributes()){var i=o.observedAttributes;for(o=0;o<i.length;o++){var a=i[o],s=t.getAttribute(a);null!==s&&e.attributeChangedCallback(t,a,null,s,null)}}M(t)&&e.connectedCallback(t)}}catch(e){oe(e)}}function re(n,r,o,i){var a=r.__CE_registry;if(a&&(null===i||"http://www.w3.org/1999/xhtml"===i)&&(a=X(a,o)))try{var s=new a.constructorFunction;if(void 0===s.__CE_state||void 0===s.__CE_definition)throw Error("Failed to construct '"+o+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==s.namespaceURI)throw Error("Failed to construct '"+o+"': The constructed element's namespace must be the HTML namespace.");if(s.hasAttributes())throw Error("Failed to construct '"+o+"': The constructed element must not have any attributes.");if(null!==s.firstChild)throw Error("Failed to construct '"+o+"': The constructed element must not have any children.");if(null!==s.parentNode)throw Error("Failed to construct '"+o+"': The constructed element must not have a parent node.");if(s.ownerDocument!==r)throw Error("Failed to construct '"+o+"': The constructed element's owner document is incorrect.");if(s.localName!==o)throw Error("Failed to construct '"+o+"': The constructed element's local name is incorrect.");return s}catch(a){return oe(a),r=null===i?e.call(r,o):t.call(r,i,o),Object.setPrototypeOf(r,HTMLUnknownElement.prototype),r.__CE_state=2,r.__CE_definition=void 0,Z(n,r),r}return Z(n,r=null===i?e.call(r,o):t.call(r,i,o)),r}function oe(e){var t=e.message,n=e.sourceURL||e.fileName||"",r=e.line||e.lineNumber||0,o=e.column||e.columnNumber||0,i=void 0;void 0===ErrorEvent.prototype.initErrorEvent?i=new ErrorEvent("error",{cancelable:!0,message:t,filename:n,lineno:r,colno:o,error:e}):((i=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,t,n,r),i.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===i.error&&Object.defineProperty(i,"error",{configurable:!0,enumerable:!0,get:function(){return e}}),window.dispatchEvent(i),i.defaultPrevented||console.error(e)}F.prototype.f=function(e){var t=this.a.readyState;for("interactive"!==t&&"complete"!==t||B(this),t=0;t<e.length;t++)for(var n=e[t].addedNodes,r=0;r<n.length;r++)te(this.c,n[r])},W.prototype.o=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");G(this,e),this.f.set(e,t),this.h.push(e),this.a||(this.a=!0,this.c((function(){return Y(n)})))},W.prototype.define=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructors must be functions.");G(this,e),z(this,e,t),this.h.push(e),this.a||(this.a=!0,this.c((function(){return Y(n)})))},W.prototype.upgrade=function(e){te(this.b,e)},W.prototype.get=function(e){if(e=X(this,e))return e.constructorFunction},W.prototype.whenDefined=function(e){if(!L(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var t=this.j.get(e);if(t)return t.c;t=new V,this.j.set(e,t);var n=this.g.has(e)||this.f.has(e);return e=-1===this.h.indexOf(e),n&&e&&q(t),t.c},W.prototype.polyfillWrapFlushCallback=function(e){this.m&&B(this.m);var t=this.c;this.c=function(n){return e((function(){return t(n)}))}},window.CustomElementRegistry=W,W.prototype.define=W.prototype.define,W.prototype.upgrade=W.prototype.upgrade,W.prototype.get=W.prototype.get,W.prototype.whenDefined=W.prototype.whenDefined,W.prototype.polyfillDefineLazy=W.prototype.o,W.prototype.polyfillWrapFlushCallback=W.prototype.polyfillWrapFlushCallback,J.prototype.connectedCallback=function(e){var t=e.__CE_definition;if(t.connectedCallback)try{t.connectedCallback.call(e)}catch(e){oe(e)}},J.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;if(t.disconnectedCallback)try{t.disconnectedCallback.call(e)}catch(e){oe(e)}},J.prototype.attributeChangedCallback=function(e,t,n,r,o){var i=e.__CE_definition;if(i.attributeChangedCallback&&-1<i.observedAttributes.indexOf(t))try{i.attributeChangedCallback.call(e,t,n,r,o)}catch(e){oe(e)}};var ie=new function(){};function ae(e,t,n){function r(t){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&M(s)&&i.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)o.push(s);else o.push(s)}for(t.apply(this,r),r=0;r<i.length;r++)ee(e,i[r]);if(M(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&Q(e,i)}}void 0!==n.prepend&&H(t,"prepend",r(n.prepend)),void 0!==n.append&&H(t,"append",r(n.append))}function se(e){function n(t,n){Object.defineProperty(t,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){var r=this,o=void 0;if(M(this)&&(o=[],K(e,this,(function(e){e!==r&&o.push(e)}))),n.set.call(this,t),o)for(var i=0;i<o.length;i++){var a=o[i];1===a.__CE_state&&e.disconnectedCallback(a)}return this.ownerDocument.__CE_registry?te(e,this):$(e,this),t}})}function r(t,n){H(t,"insertAdjacentElement",(function(t,r){var o=M(r);return t=n.call(this,t,r),o&&ee(e,r),M(t)&&Q(e,r),t}))}function o(t,n){function r(t,n){for(var r=[];t!==n;t=t.nextSibling)r.push(t);for(n=0;n<r.length;n++)te(e,r[n])}H(t,"insertAdjacentHTML",(function(e,t){if("beforebegin"===(e=e.toLowerCase())){var o=this.previousSibling;n.call(this,e,t),r(o||this.parentNode.firstChild,this)}else if("afterbegin"===e)o=this.firstChild,n.call(this,e,t),r(this.firstChild,o);else if("beforeend"===e)o=this.lastChild,n.call(this,e,t),r(o||this.firstChild,null);else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");o=this.nextSibling,n.call(this,e,t),r(this.nextSibling,o)}}))}f&&H(Element.prototype,"attachShadow",(function(t){if(t=f.call(this,t),e.a&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.b.length;n++)e.b[n](t)}return this.__CE_shadowRoot=t})),h&&h.get?n(Element.prototype,h):I&&I.get?n(HTMLElement.prototype,I):function(e,t){e.a=!0,e.c.push(t)}(e,(function(e){n(e,{enumerable:!0,configurable:!0,get:function(){return s.call(this,!0).innerHTML},set:function(e){var n="template"===this.localName,r=n?this.content:this,o=t.call(document,this.namespaceURI,this.localName);for(o.innerHTML=e;0<r.childNodes.length;)u.call(r,r.childNodes[0]);for(e=n?o.content:o;0<e.childNodes.length;)c.call(r,e.childNodes[0])}})})),H(Element.prototype,"setAttribute",(function(t,n){if(1!==this.__CE_state)return _.call(this,t,n);var r=m.call(this,t);_.call(this,t,n),n=m.call(this,t),e.attributeChangedCallback(this,t,r,n,null)})),H(Element.prototype,"setAttributeNS",(function(t,n,r){if(1!==this.__CE_state)return y.call(this,t,n,r);var o=g.call(this,t,n);y.call(this,t,n,r),r=g.call(this,t,n),e.attributeChangedCallback(this,n,o,r,t)})),H(Element.prototype,"removeAttribute",(function(t){if(1!==this.__CE_state)return v.call(this,t);var n=m.call(this,t);v.call(this,t),null!==n&&e.attributeChangedCallback(this,t,n,null,null)})),H(Element.prototype,"removeAttributeNS",(function(t,n){if(1!==this.__CE_state)return w.call(this,t,n);var r=g.call(this,t,n);w.call(this,t,n);var o=g.call(this,t,n);r!==o&&e.attributeChangedCallback(this,n,r,o,t)})),A?r(HTMLElement.prototype,A):E&&r(Element.prototype,E),D?o(HTMLElement.prototype,D):b&&o(Element.prototype,b),ae(e,Element.prototype,{prepend:S,append:x}),function(e){function t(t){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&M(s)&&i.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)o.push(s);else o.push(s)}for(t.apply(this,r),r=0;r<i.length;r++)ee(e,i[r]);if(M(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&Q(e,i)}}var n=Element.prototype;void 0!==T&&H(n,"before",t(T)),void 0!==O&&H(n,"after",t(O)),void 0!==C&&H(n,"replaceWith",(function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var o=[],i=0;i<n.length;i++){var a=n[i];if(a instanceof Element&&M(a)&&o.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)r.push(a);else r.push(a)}for(i=M(this),C.apply(this,n),n=0;n<o.length;n++)ee(e,o[n]);if(i)for(ee(e,this),n=0;n<r.length;n++)(o=r[n])instanceof Element&&Q(e,o)})),void 0!==k&&H(n,"remove",(function(){var t=M(this);k.call(this),t&&ee(e,this)}))}(e)}var ce=window.customElements;function le(){var t=new J;!function(t){window.HTMLElement=function(){function n(){var n=this.constructor,r=document.__CE_registry.l.get(n);if(!r)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var o=r.constructionStack;if(0===o.length)return o=e.call(document,r.localName),Object.setPrototypeOf(o,n.prototype),o.__CE_state=1,o.__CE_definition=r,Z(t,o),o;var i=o.length-1,a=o[i];if(a===ie)throw Error("Failed to construct '"+r.localName+"': This element was already constructed.");return o[i]=ie,Object.setPrototypeOf(a,n.prototype),Z(t,a),a}return n.prototype=N.prototype,Object.defineProperty(n.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:n}),n}()}(t),function(e){H(Document.prototype,"createElement",(function(t){return re(e,this,t,null)})),H(Document.prototype,"importNode",(function(t,r){return t=n.call(this,t,!!r),this.__CE_registry?te(e,t):$(e,t),t})),H(Document.prototype,"createElementNS",(function(t,n){return re(e,this,n,t)})),ae(e,Document.prototype,{prepend:r,append:o})}(t),ae(t,DocumentFragment.prototype,{prepend:i,append:a}),function(e){function t(t,n){Object.defineProperty(t,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,t);else{var r=void 0;if(this.firstChild){var o=this.childNodes,i=o.length;if(0<i&&M(this)){r=Array(i);for(var a=0;a<i;a++)r[a]=o[a]}}if(n.set.call(this,t),r)for(t=0;t<r.length;t++)ee(e,r[t])}}})}H(Node.prototype,"insertBefore",(function(t,n){if(t instanceof DocumentFragment){var r=j(t);if(t=l.call(this,t,n),M(this))for(n=0;n<r.length;n++)Q(e,r[n]);return t}return r=t instanceof Element&&M(t),n=l.call(this,t,n),r&&ee(e,t),M(this)&&Q(e,t),n})),H(Node.prototype,"appendChild",(function(t){if(t instanceof DocumentFragment){var n=j(t);if(t=c.call(this,t),M(this))for(var r=0;r<n.length;r++)Q(e,n[r]);return t}return n=t instanceof Element&&M(t),r=c.call(this,t),n&&ee(e,t),M(this)&&Q(e,t),r})),H(Node.prototype,"cloneNode",(function(t){return t=s.call(this,!!t),this.ownerDocument.__CE_registry?te(e,t):$(e,t),t})),H(Node.prototype,"removeChild",(function(t){var n=t instanceof Element&&M(t),r=u.call(this,t);return n&&ee(e,t),r})),H(Node.prototype,"replaceChild",(function(t,n){if(t instanceof DocumentFragment){var r=j(t);if(t=d.call(this,t,n),M(this))for(ee(e,n),n=0;n<r.length;n++)Q(e,r[n]);return t}r=t instanceof Element&&M(t);var o=d.call(this,t,n),i=M(this);return i&&ee(e,n),r&&ee(e,t),i&&Q(e,t),o})),p&&p.get?t(Node.prototype,p):function(e,t){e.a=!0,e.b.push(t)}(e,(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=this.firstChild;t;t=t.nextSibling)t.nodeType!==Node.COMMENT_NODE&&e.push(t.textContent);return e.join("")},set:function(e){for(;this.firstChild;)u.call(this,this.firstChild);null!=e&&""!==e&&c.call(this,document.createTextNode(e))}})}))}(t),se(t),t=new W(t),document.__CE_registry=t,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:t})}ce&&!ce.forcePolyfill&&"function"==typeof ce.define&&"function"==typeof ce.get||le(),window.__CE_installPolyfill=le}).call(this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=navigator.userAgent,o=/Android/.test(r),i=/iPad|iPhone|iPod/.test(r),a=window.enableBDNative||window.ttGlobalConfig&&window.ttGlobalConfig.isRenderInBrowser&&window.ttGlobalConfig.isRenderInBrowser();function s(){return o}function c(){return i}function l(){return a}function u(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}function d(e){return e.replace(/\B([A-Z])/g,"-$1").toLowerCase()}function p(e){window.Promise?window.Promise.resolve().then(e):setTimeout(e,0)}var f,h=(f=[0,1],function e(t){return"number"==typeof f[t]?f[t]:f[t]=e(t-1)+e(t-2)});function m(e,t){return l()?e:t}var _=Object.freeze({isAndroid:s,isIOS:c,supportNativeView:l,camelCased:u,hyphenate:d,capitalize:function(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},nextTick:p,fibonacci:h,platformSelect:m}),v=document.createDocumentFragment(),g={},y=1;function w(){}var E=""+Date.now();function b(e){var t=void 0;try{t=JSON.parse(e)}catch(t){return void console.warn("Unrecognized message from native: ",e)}if(t.iFrameID&&t.iFrameID!==E)for(var n=document.getElementsByTagName("iframe"),r=n.length,o=0;o<r;o++){var i=n[o];i.contentWindow&&i.contentWindow.postMessage(e,"*")}else if(t.responseId){var a=g[t.responseId];if(a){var s=t,c=s.respTime,l=s.recvTime;a(Object.assign(Object.assign({},t.responseData),{respTime:c,recvTime:l})),delete g[t.responseId]}}}function S(e,t,n){n=n||w;var r="cb_"+y+++"_"+(new Date).getTime(),o={iFrameID:E,handlerName:e,data:t,callbackId:r,ts:Date.now()};g[r]=n,console.info("nc:invoke",o),s()?window.ttJSCore&&window.ttJSCore[o.handlerName](JSON.stringify(o)):window.__instantPostMessage?window.__instantPostMessage(JSON.stringify(o)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.nativeInvokeHandler&&window.webkit.messageHandlers.nativeInvokeHandler.postMessage(JSON.stringify(o))}var x=[],T=[],O=null;function C(e,t){x.push(e),T.push(t),O&&cancelAnimationFrame(O),O=requestAnimationFrame((function(){if(x.length){var e=[].concat(T);S("insertNativeTag",{data:[].concat(x)},(function(t){if(t.data.length){var n=t.recvTime,r=t.respTime;t.data.forEach((function(t,o){return e[o](Object.assign(Object.assign({},t),{recvTime:n,respTime:r}))}))}})),x.length=0,T.length=0}}))}function k(e,t){requestAnimationFrame((function(){S("insertNativeTag",{data:[e]},(function(e){if(e.data.length){var n=e.recvTime,r=e.respTime;e.data.forEach((function(e){return t(Object.assign(Object.assign({},e),{recvTime:n,respTime:r}))}))}}))}))}window.NativeComponentsBridge=window.NativeComponentsBridge||{invoke:S,_handleMessageFromObjC:b},window.addEventListener("message",(function(e){return b(e.data)})),window.onBDNativeEvent=function(e,t){console.info("nc:event",t),v.dispatchEvent(new CustomEvent(e,{detail:t}))},S("deleteAllNativeTag",{});var N=Object.freeze({invoke:S,invokeInsertNativeTag:C,invokeInsertNativeTagSingle:k}),I=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},R=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},L=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};function P(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(P.prototype,HTMLElement.prototype),Object.setPrototypeOf(P,HTMLElement);var M,j=function(e){function t(){I(this,t);var e=L(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.cachedAttributes=[],e}return R(t,e),A(t,[{key:"getProperty",value:function(e){var t=this.constructor.properties;return"function"==typeof t[e]?t[e](this):this.getAttribute(e)}}],[{key:"properties",get:function(){return{}}}]),t}(P);!function(e){e[e.Inited=0]="Inited",e[e.Insert=1]="Insert",e[e.Inserted=2]="Inserted",e[e.InsertError=3]="InsertError"}(M||(M={}));var U,H=(U=Date.now()%1e6,function(){return++U}),F=function(e){function t(){I(this,t);var e=L(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._id=H(),e.isInserted=!1,e.state=M.Inited,e.type=e.tagName.toLowerCase(),e.cachedStyleProperties={},e.counter=0,e.nativeTagActionListener=function(t){var n=t.detail,r=n.action;n.id===e._id&&e.dispatchEvent(new CustomEvent(r,{detail:t.detail}))},e}return R(t,e),A(t,[{key:"updateStyleProperties",value:function(){var e=getComputedStyle(this);return this.cachedStyleProperties={borderRadius:e.borderRadius,objectFit:e.objectFit||"fill",backgroundColor:e.backgroundColor},this.cachedStyleProperties}},{key:"insertToNative",value:function(){var e=this;this.state=M.Insert;var t=null!==this.getAttribute("single");this.updateStyleProperties();var n=Object.assign({},this.cachedStyleProperties),r=this.constructor.properties;Object.keys(r).forEach((function(t){n[t]=e.getProperty(t)}));var o=t?k:C;!function t(){o({id:e._id,type:e.type,data:n},(function(n){if(e.counter++,0===n.result)return e.isInserted=!0,e.state=M.Inserted,void e.dispatchEvent(new CustomEvent("insertsuccess",{detail:Object.assign(Object.assign({},n),{counter:e.counter})}));if(e.counter>10)return e.isInserted=!1,e.state=M.InsertError,void e.dispatchEvent(new CustomEvent("inserterror",{detail:Object.assign(Object.assign({},n),{counter:e.counter})}));var r=40*h(e.counter);setTimeout(t,r)}))}(),this.cachedAttributes=[]}},{key:"updateToNative",value:function(){var e=this;if(!(this.state<M.Inserted||this.state===M.InsertError)&&this.cachedAttributes.length){var t=!1,n={};this.cachedAttributes.forEach((function(r){if(["class","style"].indexOf(r)>-1)t=!0;else{var o=u(r);n[o]=e.getProperty(o)}})),t&&this.updateStyleProperties(),S("updateNativeTag",{data:[{id:this._id,type:this.type,data:Object.assign(Object.assign({},n),this.cachedStyleProperties)}]},(function(t){var n=t.respTime,r=t.recvTime;t.data&&t.data[0]?e.dispatchEvent(new CustomEvent("updatesuccess",{detail:Object.assign(Object.assign({},t.data[0]),{respTime:n,recvTime:r})})):e.dispatchEvent(new CustomEvent("updateerror",{detail:{respTime:n,recvTime:r}}))})),this.cachedAttributes=[]}}},{key:"deleteToNative",value:function(){var e=this;S("deleteNativeTag",{data:[{id:this._id,type:this.type}]},(function(t){var n=t.respTime,r=t.recvTime;t.data&&t.data[0]?e.dispatchEvent(new CustomEvent("deletesuccess",{detail:Object.assign(Object.assign({},t.data[0]),{respTime:n,recvTime:r})})):e.dispatchEvent(new CustomEvent("deleteerror",{detail:{respTime:n,recvTime:r}}))})),this.state=M.Inited,this.cachedAttributes=[]}},{key:"connectedCallback",value:function(){var e=this;this.buildInnerHTML(),p((function(){return e.insertToNative()})),v.addEventListener("nativeTagAction",this.nativeTagActionListener)}},{key:"disconnectedCallback",value:function(){this.isInserted=!1,this.innerHTML="",this.deleteToNative(),v.removeEventListener("nativeTagAction",this.nativeTagActionListener)}},{key:"attributeChangedCallback",value:function(e){var t=this;this.firstChild&&(this.cachedAttributes.push(e),p((function(){return t.updateToNative()})))}},{key:"buildInnerHTML",value:function(){c()?this.innerHTML=['<native-element-inner style="-webkit-overflow-scrolling:touch;overflow:scroll;width:100%;height:100%;display:block;user-select:none;">','<div style="width:100%;height:100%;"></div>','<div style="width:100%;height:'+this._id+'px;"></div>',"</native-element-inner>"].join(""):this.innerHTML='<div tt-render-in-browser="'+this._id+'" style="width:100%;height:100%;user-select:none;"></div>'}},{key:"dispatchAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];S("dispatchAction",{data:{id:this._id,methodName:e,data:t}},n)}}],[{key:"properties",get:function(){return{}}},{key:"observedAttributes",get:function(){var e=Object.keys(this.properties).map(d);return["style","class"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}}]),t}(j),B=function(e){function t(){I(this,t);var e=L(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.naturalWidth=0,e.naturalHeight=0,e}return R(t,e),A(t,[{key:"connectedCallback",value:function(){var e=this;D(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.addEventListener("imageLoadFinish",(function(t){var n=t.detail;if(n&&n.params){var r=n.params;0===r.code?(e.naturalWidth=r.width||0,e.naturalHeight=r.height||0,e.dispatchEvent(new CustomEvent("load",{detail:n}))):e.dispatchEvent(new CustomEvent("error"))}}))}}],[{key:"properties",get:function(){return{src:function(e){return e.getAttribute("src")},dataExtra:function(e){return e.getAttribute("data-extra")}}}}]),t}(F),V=function(e){function t(){I(this,t);var e=L(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._id=0,e.isInserted=!1,e}return R(t,e),A(t,[{key:"connectedCallback",value:function(){var e=this;this.buildInnerHTML();var t=this.constructor.properties;Object.keys(t).forEach((function(t){var n=e.getProperty(t);"boolean"==typeof n?n?e.firstChild.setAttribute(t,t):e.firstChild.removeAttribute(t):e.firstChild.setAttribute(t,""+n)}))}},{key:"disconnectedCallback",value:function(){this.isInserted=!1,this.innerHTML=""}},{key:"attributeChangedCallback",value:function(e,t,n){this.firstChild&&this.firstChild.setAttribute(e,n)}},{key:"dispatchAction",value:function(){}}],[{key:"properties",get:function(){return{}}},{key:"observedAttributes",get:function(){return Object.keys(this.properties)}}]),t}(j),q=m(B,function(e){function t(){I(this,t);var e=L(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.naturalWidth=0,e.naturalHeight=0,e}return R(t,e),A(t,[{key:"buildInnerHTML",value:function(){this.innerHTML='<img style="width:100%;height:100%;"></img>'}},{key:"connectedCallback",value:function(){var e=this;D(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this);var n=this.firstChild;n.addEventListener("load",(function(){e.naturalHeight=n.naturalHeight,e.naturalWidth=n.naturalWidth,e.dispatchEvent(new CustomEvent("load"))})),n.addEventListener("error",(function(){return e.dispatchEvent(new CustomEvent("error"))}))}},{key:"attributeChangedCallback",value:function(e,n,r){c()&&"src"===e&&(r=(r=(r=r.replace(/\.heic/,".jpg")).replace(/\.webp/,".jpg")).replace(/\.awebp/,".gif")),D(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attributeChangedCallback",this).call(this,e,n,r)}}],[{key:"properties",get:function(){return{src:function(e){return e.getAttribute("src")||""}}}}]),t}(V)),W=m(function(e){function t(){return I(this,t),L(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,e),A(t,[{key:"play",value:function(){this.dispatchAction("play")}},{key:"pause",value:function(){this.dispatchAction("pause")}},{key:"stop",value:function(){this.dispatchAction("stop")}}],[{key:"properties",get:function(){return{src:function(e){return e.getAttribute("src")},vid:function(e){return e.getAttribute("vid")},vertical:function(e){return parseInt(e.getAttribute("vertical")||"0",10)},autoplay:function(e){return null!=e.getAttribute("autoplay")},controls:function(e){return null!=e.getAttribute("controls")},loop:function(e){return null!=e.getAttribute("loop")},muted:function(e){return null!=e.getAttribute("muted")},poster:function(e){return e.getAttribute("poster")||""},initialTime:function(e){var t=e.getAttribute("initial-time");return null==t?0:parseInt(t,10)}}}}]),t}(F),function(e){function t(){I(this,t);var e=L(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.initiaTime=0,e}return R(t,e),A(t,[{key:"buildInnerHTML",value:function(){this.innerHTML='<video style="width:100%;height:100%;"></video>'}},{key:"connectedCallback",value:function(){var e=this;D(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this);var n=this.video=this.firstChild;this.initiaTime&&(n.currentTime=this.initiaTime),n.addEventListener("canplay",(function(t){return e.dispatchEvent(new CustomEvent("canplay"))})),n.addEventListener("loadeddata",(function(t){return e.dispatchEvent(new CustomEvent("loadeddata"))})),n.addEventListener("loadstart",(function(t){return e.dispatchEvent(new CustomEvent("loadstart"))})),n.addEventListener("ended",(function(t){return e.dispatchEvent(new CustomEvent("ended"))})),n.addEventListener("error",(function(t){return e.dispatchEvent(new CustomEvent("error"))})),n.addEventListener("pause",(function(t){return e.dispatchEvent(new CustomEvent("pause"))})),n.addEventListener("play",(function(t){return e.dispatchEvent(new CustomEvent("play"))})),n.addEventListener("playing",(function(t){return e.dispatchEvent(new CustomEvent("playing"))})),n.addEventListener("seeked",(function(t){return e.dispatchEvent(new CustomEvent("seeked"))})),n.addEventListener("seeking",(function(t){return e.dispatchEvent(new CustomEvent("seeking"))}))}},{key:"play",value:function(){return this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"stop",value:function(){this.video.pause(),this.video.currentTime=0}}],[{key:"properties",get:function(){return{src:function(e){return e.getAttribute("src")},vid:function(e){return e.getAttribute("vid")},vertical:function(e){return null!=e.getAttribute("vertical")},autoplay:function(e){return null!=e.getAttribute("autoplay")},controls:function(e){return null!=e.getAttribute("controls")},loop:function(e){return null!=e.getAttribute("loop")},muted:function(e){return null!=e.getAttribute("muted")},poster:function(e){return e.getAttribute("poster")||""},initialTime:function(e){var t=e.getAttribute("initial-time");return null==t?0:parseInt(t,10)}}}}]),t}(V));t.NativeElement=F,t.NativeImage=q,t.NativeVideo=W,t.WebElement=V,t.event=v,t.jsbridge=N,t.utils=_},function(e,t){var n=document.body,r=document.createElement("div");r.id="empty",n.appendChild(r)},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){n(265),e.exports=n(9).Object.entries},function(e,t,n){var r=n(12),o=n(266)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){var r=n(16),o=n(34),i=n(23),a=n(42).f;e.exports=function(e){return function(t){for(var n,s=i(t),c=o(s),l=c.length,u=0,d=[];l>u;)n=c[u++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},function(e,t,n){var r=n(37);r(r.P,"Function",{bind:n(129)})},function(e,t,n){"use strict";var r=n(37),o=n(269)(1);r(r.P+r.F*!n(273)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(124),o=n(78),i=n(133),a=n(55),s=n(270);e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,d=6==e,p=5==e||d,f=t||s;return function(t,s,h){for(var m,_,v=i(t),g=o(v),y=r(s,h,3),w=a(g.length),E=0,b=n?f(t,w):c?f(t,0):void 0;w>E;E++)if((p||E in g)&&(_=y(m=g[E],E,v),e))if(n)b[E]=_;else if(_)switch(e){case 3:return!0;case 5:return m;case 6:return E;case 2:b.push(m)}else if(u)return!1;return d?-1:l||u?u:b}}},function(e,t,n){var r=n(271);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(29),o=n(272),i=n(45)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(53);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(37);r(r.S+r.F,"Object",{assign:n(276)})},function(e,t,n){"use strict";var r=n(38),o=n(125),i=n(277),a=n(278),s=n(133),c=n(78),l=Object.assign;e.exports=!l||n(30)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=s(e),l=arguments.length,u=1,d=i.f,p=a.f;l>u;)for(var f,h=c(arguments[u++]),m=d?o(h).concat(d(h)):o(h),_=m.length,v=0;_>v;)f=m[v++],r&&!p.call(h,f)||(n[f]=h[f]);return n}:l},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(280),o=n(281),i=n(282);e.exports=function(e){return r(e)||o(e)||i()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";n(56),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(286),n(293);var r=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n={},r={};return(e=(t=t.toLowerCase()).match(/android;?[\s/]+([\d.]+)?/))?(n.android=!0,e[1]&&(n.version=e[1])):((e=t.match(/ipod(?:.*os\s([\d_]+))?/))?(n.ipod=!0,e[1]&&(n.version=e[1].split("_").join("."))):(e=t.match(/ipad.*os\s([\d_]+)/))?(n.ipad=!0,n.version=e[1].split("_").join(".")):(e=t.match(/iphone\sos\s([\d_]+)/))&&(n.iphone=!0,n.version=e[1].split("_").join(".")),n.ios=n.ipad||n.iphone||n.ipod),(e=t.match(/micromessenger[\s/]+([\d.]+)/))?(r.weixin=!0,r.version=e[1]):(e=t.match(/\sqq[\s/]+([\d.]+)/))?(r.qq=!0,r.version=e[1]):(e=t.match(/weibo[\s_]+([\d.]+)/))&&(r.weibo=!0,r.version=e[1]),{browser:r,os:n}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";var r=n(287),o=n(25),i=n(288),a=n(139),s=n(55),c=n(140),l=n(84),u=n(30),d=Math.min,p=[].push,f=!u((function(){RegExp(4294967295,"y")}));n(141)("split",2,(function(e,t,n,u){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,f=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,u+"g");(i=l.call(h,o))&&!((a=h.lastIndex)>d&&(c.push(o.slice(d,i.index)),i.length>1&&i.index<o.length&&p.apply(c,i.slice(1)),s=i[0].length,d=a,c.length>=f));)h.lastIndex===i.index&&h.lastIndex++;return d===o.length?!s&&h.test("")||c.push(""):c.push(o.slice(d)),c.length>f?c.slice(0,f):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):h.call(String(o),n,r)},function(e,t){var r=u(h,e,this,t,h!==n);if(r.done)return r.value;var l=o(e),p=String(this),m=i(l,RegExp),_=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(f?"y":"g"),g=new m(f?l:"^(?:"+l.source+")",v),y=void 0===t?4294967295:t>>>0;if(0===y)return[];if(0===p.length)return null===c(g,p)?[p]:[];for(var w=0,E=0,b=[];E<p.length;){g.lastIndex=f?E:0;var S,x=c(g,f?p:p.slice(E));if(null===x||(S=d(s(g.lastIndex+(f?0:E)),p.length))===w)E=a(p,E,_);else{if(b.push(p.slice(w,E)),b.length===y)return b;for(var T=1;T<=x.length-1;T++)if(b.push(x[T]),b.length===y)return b;E=w=S}}return b.push(p.slice(w)),b}]}))},function(e,t,n){var r=n(29),o=n(53),i=n(45)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(25),o=n(52),i=n(45)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r=n(79),o=n(54);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(53),o=n(45)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";var r=n(25);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(84);n(37)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){"use strict";var r=n(25),o=n(55),i=n(139),a=n(140);n(141)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=r(e),l=String(this);if(!c.global)return a(c,l);var u=c.unicode;c.lastIndex=0;for(var d,p=[],f=0;null!==(d=a(c,l));){var h=String(d[0]);p[f]=h,""===h&&(c.lastIndex=i(l,o(c.lastIndex),u)),f++}return 0===f?null:p}]}))},function(e,t,n){"use strict";var r=n(83),o=n(132);n(56),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(134)),a=o(n(135)),s=o(n(136)),c=o(n(137)),l=o(n(138)),u=r(n(0)),d=function(e){var t=e.touches[0];return t?{x:t.screenX,y:t.screenY}:{x:0,y:0}},p=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,s.default)(this,(0,c.default)(t).apply(this,arguments))).x=0,e.y=0,e.isSwipeX=!1,e.isSwipeY=!1,e.moveX=!1,e.moveY=!1,e.touchstartHandler=function(t){var n=d(t),r=n.x,o=n.y;if(e.currentTouches++,!(e.currentTouches>1)){var i=e.props,a=i.action,s=i.onStart;e.x=r,e.y=o,e.isSwipeX=!1,e.isSwipeY=!1,e.moveX=!0,e.moveY=!0,s&&s({x:r,y:o})&&("X"===a?e.moveX=!1:e.moveY=!1),window.__isTouchMove__=!1}},e.touchmoveHandler=function(t){if(!(e.currentTouches>1)){var n=d(t),r=n.x,o=n.y,i=e.props,a=i.onMoveX,s=i.onMoveY;if(window.__isTouchMove__=!1,e.isSwipeX||e.isSwipeY||(Math.abs(e.y-o)>5?(e.isSwipeY=!0,e.action=e.y-o>0?"up":"down"):Math.abs(e.x-r)>5&&(e.isSwipeX=!0,e.action=e.x-r>0?"left":"right")),e.isSwipeX&&!e.isSwipeY){if(e.endX=r,a&&a({X:r,action:e.action,moveX:e.moveX,x:e.x})&&(e.moveX=!1),e.moveX)return!1}else if(!e.isSwipeX&&e.isSwipeY&&(e.endY=o,s&&s({Y:o,action:e.action,moveY:e.moveY,y:e.y})&&(e.moveY=!1),e.moveY))return!1}},e.touchendHandler=function(){var t=e.props,n=t.onEndX,r=t.onEndY;e.currentTouches--,e.currentTouches>0||(e.currentTouches<0?e.currentTouches=0:e.moveX&&e.isSwipeX&&!e.isSwipeY?n&&n({X:e.endX,action:e.action,moveX:e.moveX,x:e.x}):e.moveY&&!e.isSwipeX&&e.isSwipeY&&r&&r({Y:e.endY,action:e.action,moveY:e.moveY,y:e.y}))},e}return(0,l.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.currentTouches=0,this.target&&(this.target.addEventListener("touchstart",this.touchstartHandler),this.target.addEventListener("touchmove",this.touchmoveHandler),this.target.addEventListener("touchend",this.touchendHandler),this.target.addEventListener("touchcancel",this.touchendHandler))}},{key:"componentWillUnmount",value:function(){this.target&&(this.target.removeEventListener("touchstart",this.touchstartHandler),this.target.removeEventListener("touchmove",this.touchmoveHandler),this.target.removeEventListener("touchend",this.touchendHandler),this.target.removeEventListener("touchcancel",this.touchendHandler))}},{key:"render",value:function(){var e=this,t=this.props.children;return u.createElement("div",null,u.cloneElement(t,{targetRef:function(t){e.target=t}}))}}]),t}(u.Component);p.defaultProps={onEndX:!1,onEndY:!1,onMoveX:!1,onMoveY:!1,onStart:!1};var f=p;t.default=f,e.exports=t.default},function(e,t,n){"use strict";var r=n(83);n(56),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(0)),i=function(e){var t=e.children,n=e.size,r=e.targetRef,i=e.transitionDuration,a=e.vertical,s=e.transition,c=e.translate,l=e.sizeUnit,u={};return a?(u.transform="translateY(".concat(c).concat(l,")"),u.WebkitTransform="translateY(".concat(c).concat(l,")")):(u.width="".concat(t.length*n).concat(l),u.transform="translateX(".concat(c).concat(l,")"),u.WebkitTransform="translateX(".concat(c).concat(l,")")),s&&(u.transition="".concat(i,"ms")),o.createElement("div",{className:"lego-carousel-list",ref:function(e){r&&r(e)},style:u},t)};t.default=i,e.exports=t.default},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(31).__exportStar(n(316),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CONTENT="content",e.ITEM="item"}(t.ECommentType||(t.ECommentType={})),function(e){e.SMART_HOT="smart_hot"}(t.ECommentSort||(t.ECommentSort={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31);r.__exportStar(n(142),t),r.__exportStar(n(318),t),r.__exportStar(n(319),t),r.__exportStar(n(320),t),r.__exportStar(n(321),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatTime=function(e,t,n,r,o){var i;void 0===t&&(t=!0),void 0===n&&(n="-"),void 0===r&&(r=!0),void 0===o&&(o=!0);var a=(i="string"==typeof e?new Date(e.replace(/-/g,"/")):"number"==typeof e?new Date(1e3*e):e).getFullYear();if(isNaN(a))return"--";var s=i.getMonth()+1,c=i.getDate(),l=i.getHours(),u=i.getMinutes(),d=i.getSeconds(),p=s>9||"CN"===n?s:"0"+s,f=l>9||"CN"===n?l:"0"+l,h=c>9||"CN"===n?c:"0"+c,m=u>9?u:"0"+u,_=o?m+":"+(d>9?d:"0"+d):""+m;if("CN"===n){var v=r?a+"年":"";return t?""+v+p+"月"+h+"日 "+f+":"+_:""+v+p+"月"+h+"日"}var g=r?""+a+n:"";return t?""+g+p+n+h+" "+f+":"+_:""+g+p+n+h},t.formatDuration=function(e,t){void 0===t&&(t=!1);var n=e/60,r=Math.floor(n),o=""+r;r<10&&(o="0"+r);var i=e%60,a=Math.floor(i),s=""+a;return a<10&&(s="0"+a),t?o+"分"+s+"秒":o+":"+s},t.formatRelativeTime=function(e,n){var r;void 0===n&&(n="-"),r="string"==typeof e?new Date(e.replace(/-/g,"/")):"number"==typeof e?new Date(1e3*e):e;var o=new Date(r).getTime();if(o<=0)return"";var i=(new Date).getTime()-o,a=new Date(o).getFullYear();return i<864e5?i<6e4?"刚刚":i<36e5?Math.floor(i/6e4)+"分钟前":Math.floor(i/36e5)+"小时前":a===(new Date).getFullYear()?t.formatTime(o/1e3,!0,n,!1,!1):t.formatTime(o/1e3,!0,n,!0,!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(142);t.formatImage=function(e,t,n,r,o,i){if(void 0===t&&(t="png"),!e)return"";if(!t)return"";if(!(n||r||o||i))return e+"~noop."+t;var a="";return n&&(a+=n),(r||o)&&(a=(a?a+"_":"")+(r&&Math.ceil(r)||0)+"x"+(o&&Math.ceil(o)||0)),i&&(a=(a?a+"_":"")+i),e+"~"+a+"."+t},t.formatMoney=function(e,t){void 0===t&&(t=2);var n=t;return t<0&&(n=0),((Number(e)||0)/100).toFixed(n)};var o="";t.parseUrlParam=function(e,t){void 0===t&&(t=o||window.location.href);var n=new RegExp("(\\?|&|#)"+e+"=([^#&]*)(#|&|$)"),r=t.match(n);return null!==r?decodeURIComponent(r[2]):null},t.setReplaceUrl=function(e){o=e},t.formatCount=function(e){if(!e)return 0;if(e<1e3)return e;if(e<1e4)return e.toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,");var t=(Math.floor(e/1e3)/10).toFixed(1).toString().split(".");return t[0]=t[0].replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,"),t[1]=t[1].replace(/0+$/,""),t.join(".").replace(/\.+$/,"")+"万"},t.sliceCount=function(e){return e?e.toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,"):e},t.isPhoneNumber=function(e){return/^(13[0-9]|14[0-9]|15[0-9]|166|17[0-9]|18[0-9]|19[8|9])\d{8}$/.test(e)},t.formatPriceUnit=function(e,n,o){void 0===n&&(n=2);var i=r.getBrowserVersions().ios?"币":"元";return o?""+Number(e)/100+i:""+t.formatMoney(e,n)+i},t.parseJsonData=function(e){var t=null;if(e&&"string"==typeof e)try{t=JSON.parse(e)}catch(e){console.log("parse error",e)}return t},t.stringifyData=function(e){if(!e)return"";if("string"!=typeof e)try{return JSON.stringify(e)}catch(e){return""}return e},t.formatLearningPrice=function(e,t){void 0===t&&(t=!0);var n=r.getBrowserVersions().ios,o=Number(e/100).toFixed(2);return t?n?o+"币":"¥"+o:""+o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildOpenUrl=function(e){var t=e.path,n=e.params,r=e.schema,o=void 0===r?"sslocal":r,i=Object.keys(n),a="";return i.length>0&&(a="?"+i.map((function(e){return e+"="+encodeURIComponent(""+n[e])})).join("&")),o+"://"+t+a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareVersions=function(e,t){for(var n=e.split("."),r=t.split("."),o=Math.max(n.length,r.length),i=0;i<o;i++){if(void 0===n[i])return-1;if(void 0===r[i])return 1;var a=Number(n[i]),s=Number(r[i]);if(a!==s)return a-s}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),o=n(143);t.isRequestNeedLogin=function(e){return e===o.EResponseCode.ERROR_EXPIRED||e===o.EResponseCode.ERROR_LOGIN_IN_OTHER_DEVICE||e===o.EResponseCode.ERROR_NOT_LOGIN},t.delayPromise=function(e){return new Promise((function(t){setTimeout(t,e)}))},t.retry=function(e,n,o,i){return void 0===n&&(n=1),void 0===o&&(o=1e3),void 0===i&&(i=!1),r.__awaiter(void 0,void 0,void 0,(function(){var a,s,c;return r.__generator(this,(function(r){switch(r.label){case 0:a=0,r.label=1;case 1:if(!(a<n))return[3,7];a++,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,e()];case 3:return(s=r.sent())?[2,s]:[3,5];case 4:if(c=r.sent(),i&&a===n)throw c;return[3,5];case 5:return[4,t.delayPromise(o)];case 6:return r.sent(),[3,1];case 7:return[2,!1]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(87),o=n(144);t.isItemFree=function(e){return"boolean"==typeof e?e:e===r.EItemFree.FREE},t.isItemHasMedia=function(e){return o.hasAudio(e)||o.hasVideo(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(145),o=n(146);t.convertCouponWayEnumToContentWayDesc=function(e){return o.couponWayDescMap[e]},t.isVipGoodsItem=function(e){return e===r.EGoodsRule.VIP_MONTH||e===r.EGoodsRule.VIP_HALF_YEAR||e===r.EGoodsRule.VIP_YEAR}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.PARAM_ERROR=1001]="PARAM_ERROR",e[e.TRANSACTION_TYPE_ERROR=1002]="TRANSACTION_TYPE_ERROR",e[e.CREATE_TRADE_ERROR=1003]="CREATE_TRADE_ERROR",e[e.TRADE_ORDER_NOT_EXIST=1004]="TRADE_ORDER_NOT_EXIST",e[e.IAP_RECEIPT_FAIL=1005]="IAP_RECEIPT_FAIL",e[e.THIRD_PARTY_PARAMS_ERROR=1006]="THIRD_PARTY_PARAMS_ERROR",e[e.THIRD_PARTY_USED=1007]="THIRD_PARTY_USED",e[e.TRADE_INFO_FAIL=1008]="TRADE_INFO_FAIL",e[e.NOT_SUFFICIENT_BALANCE=1009]="NOT_SUFFICIENT_BALANCE",e[e.REPEAT_PURCHASE=1010]="REPEAT_PURCHASE",e[e.INVALID_LIST_ERROR=1011]="INVALID_LIST_ERROR",e[e.SUCCESS=0]="SUCCESS"}(t.ETTIosPayCheckStatus||(t.ETTIosPayCheckStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DRAFT=5]="DRAFT",e[e.TO_VERIFY=10]="TO_VERIFY",e[e.PASSED=20]="PASSED",e[e.FAILED=25]="FAILED",e[e.DELETED=30]="DELETED",e[e.WAITING_TO_VERIFY=40]="WAITING_TO_VERIFY",e[e.VERIFIED_FAILED=45]="VERIFIED_FAILED",e[e.VERIFIED_PASSED=50]="VERIFIED_PASSED"}(t.EContentStatus||(t.EContentStatus={})),function(e){e[e.CASH=1]="CASH",e[e.PERCENTAGE=2]="PERCENTAGE",e[e.REACH=3]="REACH",e[e.NULL=-1]="NULL"}(t.ECouponDiscountType||(t.ECouponDiscountType={})),function(e){e.FINANCE="finance",e.HEALTH="health"}(t.ECategoryTypeTitle||(t.ECategoryTypeTitle={})),function(e){e.MENTAL_HEALTH="6658870735685026315",e.CHILD_HEALTH="6658871731886752269",e.MEDICAL="6659990922937238024",e.HEALTH_MAINTENANCE="6659990923587355143",e.NUTRITION="6595372294351094280"}(t.ECategoryLabelId||(t.ECategoryLabelId={})),function(e){e[e.NOT_RESERVED=0]="NOT_RESERVED",e[e.RESERVED=1]="RESERVED"}(t.ILiveItemReserveState||(t.ILiveItemReserveState={})),function(e){e.COMMON="0",e.SENIOR="1",e.ENTERPRISE="2"}(t.EAuthorAuthType||(t.EAuthorAuthType={})),function(e){e.COMMON="0",e.SENIOR="1",e.NoVerified="3"}(t.EUserVerified||(t.EUserVerified={})),function(e){e[e.EMPTY=0]="EMPTY",e[e.PREVIEW=1]="PREVIEW",e[e.PLAYING=2]="PLAYING",e[e.PAUSED=3]="PAUSED",e[e.FINISHED=4]="FINISHED",e[e.PLAY_BACK=5]="PLAY_BACK"}(t.ELiveBroadcastStatus||(t.ELiveBroadcastStatus={})),function(e){e[e.ORIGIN=0]="ORIGIN",e[e.TEST_A=1]="TEST_A",e[e.TEST_B=2]="TEST_B"}(t.ECashierType||(t.ECashierType={})),function(e){e[e.CATALOG=1]="CATALOG",e[e.INFO=2]="INFO"}(t.EContentDetailTabType||(t.EContentDetailTabType={})),function(e){e[e.EXPERIMENTAL_GROUP=1]="EXPERIMENTAL_GROUP",e[e.CONTRASTED_GROUP=0]="CONTRASTED_GROUP"}(t.EContentDetailAbTestVersion||(t.EContentDetailAbTestVersion={})),function(e){e[e.NOT_KNOW=-1]="NOT_KNOW",e[e.EXPERIMENTAL_GROUP=1]="EXPERIMENTAL_GROUP",e[e.CONTRASTED_GROUP=2]="CONTRASTED_GROUP"}(t.EContentBtnAbtestVersion||(t.EContentBtnAbtestVersion={})),function(e){e[e.EXPERIMENTAL_GROUP=1]="EXPERIMENTAL_GROUP",e[e.CONTRASTED_GROUP=0]="CONTRASTED_GROUP"}(t.ETTABTestVersion||(t.ETTABTestVersion={})),function(e){e[e.BIG_IMAGE=1]="BIG_IMAGE",e[e.SMALL_IMAGE_A=2]="SMALL_IMAGE_A",e[e.SMALL_IMAGE_B=3]="SMALL_IMAGE_B"}(t.EHeadABTestDisplayType||(t.EHeadABTestDisplayType={})),function(e){e[e.YEAR=1]="YEAR",e[e.MONTH=2]="MONTH",e[e.QUARTER=3]="QUARTER",e[e.FOREVER=10]="FOREVER"}(t.ECommunityPeriod||(t.ECommunityPeriod={})),function(e){e[e.CONNECTONLY=1]="CONNECTONLY",e[e.FREEGIFT=2]="FREEGIFT"}(t.EColumnAndCommunityBindType||(t.EColumnAndCommunityBindType={})),function(e){e[e.NOT_JOINED=0]="NOT_JOINED",e[e.HAS_JOINED=1]="HAS_JOINED",e[e.EXITED=2]="EXITED"}(t.ECommunityRight||(t.ECommunityRight={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CONTENT=1]="CONTENT",e[e.ITEM_LIST=2]="ITEM_LIST",e[e.BANNER=3]="BANNER",e[e.CONTENT_CARD=4]="CONTENT_CARD",e[e.SMALL_BANNER=5]="SMALL_BANNER",e[e.UPGRADE_CONTENT_CARD=6]="UPGRADE_CONTENT_CARD",e[e.CHALLENGE=7]="CHALLENGE",e[e.MY_CHALLENGE=8]="MY_CHALLENGE",e[e.COMMON_CHALLENGE_CARD=9]="COMMON_CHALLENGE_CARD",e[e.COMMON_CONTENT_CARD=10]="COMMON_CONTENT_CARD",e[e.YOU_MAY_LIKE_CARD=11]="YOU_MAY_LIKE_CARD",e[e.BOOK_CARD=12]="BOOK_CARD",e[e.CONTENT_PLAN_B=10001]="CONTENT_PLAN_B",e[e.CHALLENGE_PLAN_B=70001]="CHALLENGE_PLAN_B"}(t.ECellType||(t.ECellType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.OLD_USER_VIP_DURATION_GIFT=1]="OLD_USER_VIP_DURATION_GIFT",e[e.HALF_YEAR_VIP_COUPON=2]="HALF_YEAR_VIP_COUPON"}(t.EPromotionType||(t.EPromotionType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CAN_DRAW=0]="CAN_DRAW",e[e.ACTIVITY_NOT_BEGIN=1]="ACTIVITY_NOT_BEGIN",e[e.ACTIVITY_END=2]="ACTIVITY_END",e[e.EMPTY=3]="EMPTY",e[e.DRAWED=4]="DRAWED",e[e.NOT_LOGINED=5]="NOT_LOGINED",e[e.NOT_NEW=6]="NOT_NEW",e[e.NOT_VIP=7]="NOT_VIP",e[e.CAN_NOT_DRAW=8]="CAN_NOT_DRAW"}(t.EActivityCouponStatusNum||(t.EActivityCouponStatusNum={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.HIDDEN=0]="HIDDEN",e[e.SHOW_PURCHASE_ALL=1]="SHOW_PURCHASE_ALL",e[e.SHOW_PURCHASE_ALL_WITH_HINT=2]="SHOW_PURCHASE_ALL_WITH_HINT"}(t.ESubjectPurchaseStatus||(t.ESubjectPurchaseStatus={})),function(e){e[e.HIDDEN=0]="HIDDEN",e[e.SHOW_BORROW_ALL=1]="SHOW_BORROW_ALL",e[e.SHOW_OPEN_VIP=2]="SHOW_OPEN_VIP"}(t.ESubjectBorrowStatus||(t.ESubjectBorrowStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.WALLET=12]="WALLET",e[e.LEARNING=7]="LEARNING",e[e.COLUMN=100]="COLUMN",e[e.NOVEL=110]="NOVEL",e[e.COMMUINITY=120]="COMMUINITY",e[e.DOUYIN_MP_LEARNIG=121]="DOUYIN_MP_LEARNIG",e[e.XIGUA=122]="XIGUA",e[e.CHECKIN=123]="CHECKIN",e[e.PAY_WENDA=124]="PAY_WENDA",e[e.PAY_LIVE=125]="PAY_LIVE",e[e.COMIC=140]="COMIC",e.NULL=""}(t.EBizId||(t.EBizId={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(85);t.convertGoodsTypeStringToGoodsTypeDesc=function(e){return r.goodsTypeMap[e]},t.convertContentTypeToGoodsType=function(e){return r.contentTypeNumToGoodsTypeMap[e]},t.hasPurchased=function(e){return e===r.EUserPermType.NORMAL_BUYED||e===r.EUserPermType.VIP_BORROWED}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(334);t.cavelPriceUnit="¥",t.unitTextForIOS=function(e){return void 0===e&&(e=!1),r.isInXigua()?"西瓜糖":e?"头条币":"币"},t.formatTTPrice=function(e,n){void 0===n&&(n=!0);var o=r.getBrowserVersions().ios,i=Number((e/100).toFixed(2));return n?o?""+i+t.unitTextForIOS():""+t.cavelPriceUnit+i:""+i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(31).__exportStar(n(335),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31);r.__exportStar(n(148),t),r.__exportStar(n(336),t),r.__exportStar(n(337),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(148);t.isIOSFringeScreen=function(){return o.getBrowserVersions().iPhoneX||o.getBrowserVersions().iPhoneXSMax||o.getBrowserVersions().iPhoneXR},t.getAppVersion=function(){return o.isInToutiao()?o.getAppVersionByUa():o.isInToutiaoLite()?o.getLiteAppVersionByUa():o.isInXigua()?o.getXiguaAppVersionByUa():o.isInToutiaoPro()?o.getTTProAppVersionByUa():""},function(e){e.TOUTIAO="toutiao",e.TOUTIAO_LITE="lite",e.TOUTIAO_SOCIAL="pro",e.XIGUA="xigua",e.UNKNOWN="unknown"}(r=t.EAppName||(t.EAppName={})),function(e){e.TOUTIAO="13",e.TOUTIAO_LITE="35",e.TOUTIAO_SOCIAL="19",e.XIGUA="32",e.UNKNOWN=""}(t.EAppId||(t.EAppId={})),t.getAppName=function(){return o.isInToutiao()?r.TOUTIAO:o.isInToutiaoLite()?r.TOUTIAO_LITE:o.isInXigua()?r.XIGUA:o.isInToutiaoPro()?r.TOUTIAO_SOCIAL:r.UNKNOWN},t.getAppCNName=function(){return o.isInXigua()?"西瓜视频":o.isInToutiaoLite()?"今日头条极速版":"今日头条"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageName=function(e){var t=e.match(/([^/]+?)\.html/);return t?(t[1]||"").replace(/-/g,"_"):""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCaseToUnderscore=function(e){return e.replace(/([A-Z])/g,(function(e){return"_"+e.toLowerCase()}))},t.underscoreToCamelCase=function(e){return e.replace(/(_([a-z]))/g,(function(e){return e.toUpperCase()[1]}))},t.formatResponseData=function(e){var n=null;if("object"==typeof e&&null!==e)for(var r in n=(e.length&&e.length)>=0?[]:{},e)n["number"==typeof r?r:t.underscoreToCamelCase(r)]=t.formatResponseData(e[r]);else n=e;return n},t.formatRequestData=function(e){var n=null;if("object"==typeof e&&null!==e)for(var r in n=(e.length&&e.length)>=0?[]:{},e)n["number"==typeof r?r:t.camelCaseToUnderscore(r)]=t.formatRequestData(e[r]);else n=e;return n}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){n(110),n(68),n(105),n(344),n(352),n(353),e.exports=n(9).Promise},function(e,t,n){"use strict";var r,o,i,a,s=n(40),c=n(13),l=n(36),u=n(116),d=n(12),p=n(20),f=n(48),h=n(345),m=n(346),_=n(149),v=n(150).set,g=n(348)(),y=n(88),w=n(151),E=n(349),b=n(152),S=c.TypeError,x=c.process,T=x&&x.versions,O=T&&T.v8||"",C=c.Promise,k="process"==u(x),N=function(){},I=o=y.f,A=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[n(15)("species")]=function(e){e(N,N)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(N)instanceof t&&0!==O.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),D=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var n=e._c;g((function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(o||(2==e._h&&M(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?l(S("Promise-chain cycle")):(i=D(n))?i.call(n,c,l):c(n)):l(r)}catch(e){u&&!a&&u.exit(),l(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){v.call(c,(function(){var t,n,r,o=e._v,i=P(e);if(i&&(t=w((function(){k?x.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=k||P(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){v.call(c,(function(){var t;k?x.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=D(e))?g((function(){var r={_w:n,_d:!1};try{t.call(e,l(U,r,1),l(j,r,1))}catch(e){j.call(r,e)}})):(n._v=e,n._s=1,R(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};A||(C=function(e){h(this,C,"Promise","_h"),f(e),r.call(this);try{e(l(U,this,1),l(j,this,1))}catch(e){j.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(350)(C.prototype,{then:function(e,t){var n=I(_(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=l(U,e,1),this.reject=l(j,e,1)},y.f=I=function(e){return e===C||e===a?new i(e):o(e)}),d(d.G+d.W+d.F*!A,{Promise:C}),n(50)(C,"Promise"),n(351)("Promise"),a=n(9).Promise,d(d.S+d.F*!A,"Promise",{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!A),"Promise",{resolve:function(e){return b(s&&this===a?C:this,e)}}),d(d.S+d.F*!(A&&n(117)((function(e){C.all(e).catch(N)}))),"Promise",{all:function(e){var t=this,n=I(t),r=n.resolve,o=n.reject,i=w((function(){var n=[],i=0,a=1;m(e,!1,(function(e){var s=i++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=I(t),r=n.reject,o=w((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(36),o=n(113),i=n(114),a=n(19),s=n(61),c=n(115),l={},u={};(t=e.exports=function(e,t,n,d,p){var f,h,m,_,v=p?function(){return e}:c(e),g=r(n,d,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(f=s(e.length);f>y;y++)if((_=t?g(a(h=e[y])[0],h[1]):g(e[y]))===l||_===u)return _}else for(m=v.call(e);!(h=m.next()).done;)if((_=o(m,g,h.value,t))===l||_===u)return _}).BREAK=l,t.RETURN=u},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(13),o=n(150).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(39)(a);e.exports=function(){var e,t,n,l=function(){var r,o;for(c&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(l)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){o.call(r,l)};else{var d=!0,p=document.createTextNode("");new i(l).observe(p,{characterData:!0}),n=function(){p.data=d=!d}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var r=n(13).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(27);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t,n){"use strict";var r=n(13),o=n(9),i=n(18),a=n(16),s=n(15)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(12),o=n(9),i=n(13),a=n(149),s=n(152);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(12),o=n(88),i=n(151);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";n.r(t);var r,o,i=n(6),a=n.n(i),s=n(58),c=n.n(s);r=window,o=function(e){var t=function(){var t,n,r,o,i,s=[],l=s.concat,u=s.filter,d=s.slice,p=e.document,f={},h={},m={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},_=/^\s*<(\w+|!)[^>]*>/,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,y=/^(?:body|html)$/i,w=/([A-Z])/g,E=["val","css","html","text","data","width","height","offset"],b=p.createElement("table"),S=p.createElement("tr"),x={tr:p.createElement("tbody"),tbody:b,thead:b,tfoot:b,td:S,th:S,"*":p.createElement("div")},T=/complete|loaded|interactive/,O=/^[\w-]*$/,C={},k=C.toString,N={},I=p.createElement("div"),A={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},D=Array.isArray||function(e){return e instanceof Array};function R(e){return null==e?String(e):C[k.call(e)]||"object"}function L(e){return"function"==R(e)}function P(e){return null!=e&&e==e.window}function M(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function j(e){return"object"==R(e)}function U(e){return j(e)&&!P(e)&&c()(e)==Object.prototype}function H(e){var t=!!e&&"length"in e&&e.length,r=n.type(e);return"function"!=r&&!P(e)&&("array"==r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function F(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function B(e){return e in h?h[e]:h[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function V(e,t){return"number"!=typeof t||m[F(e)]?t:t+"px"}function q(e){return"children"in e?d.call(e.children):n.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function W(e,t){var n,r=e?e.length:0;for(n=0;n<r;n++)this[n]=e[n];this.length=r,this.selector=t||""}function G(e,n,r){for(t in n)r&&(U(n[t])||D(n[t]))?(U(n[t])&&!U(e[t])&&(e[t]={}),D(n[t])&&!D(e[t])&&(e[t]=[]),G(e[t],n[t],r)):void 0!==n[t]&&(e[t]=n[t])}function z(e,t){return null==t?n(e):n(e).filter(t)}function Y(e,t,n,r){return L(t)?t.call(e,n,r):t}function X(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function J(e,t){var n=e.className||"",r=n&&void 0!==n.baseVal;if(void 0===t)return r?n.baseVal:n;r?n.baseVal=t:e.className=t}function K(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?n.parseJSON(e):e):e}catch(t){return e}}function $(e,t){t(e);for(var n=0,r=e.childNodes.length;n<r;n++)$(e.childNodes[n],t)}return N.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,o=e.parentNode,i=!o;return i&&(o=I).appendChild(e),r=~N.qsa(o,t).indexOf(e),i&&I.removeChild(e),r},o=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},i=function(e){return u.call(e,(function(t,n){return e.indexOf(t)==n}))},N.fragment=function(e,t,r){var o,i,a;return v.test(e)&&(o=n(p.createElement(RegExp.$1))),o||(e.replace&&(e=e.replace(g,"<$1></$2>")),void 0===t&&(t=_.test(e)&&RegExp.$1),t in x||(t="*"),(a=x[t]).innerHTML=""+e,o=n.each(d.call(a.childNodes),(function(){a.removeChild(this)}))),U(r)&&(i=n(o),n.each(r,(function(e,t){E.indexOf(e)>-1?i[e](t):i.attr(e,t)}))),o},N.Z=function(e,t){return new W(e,t)},N.isZ=function(e){return e instanceof N.Z},N.init=function(e,t){var r,o;if(!e)return N.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&_.test(e))r=N.fragment(e,RegExp.$1,t),e=null;else{if(void 0!==t)return n(t).find(e);r=N.qsa(p,e)}else{if(L(e))return n(p).ready(e);if(N.isZ(e))return e;if(D(e))o=e,r=u.call(o,(function(e){return null!=e}));else if(j(e))r=[e],e=null;else if(_.test(e))r=N.fragment(e.trim(),RegExp.$1,t),e=null;else{if(void 0!==t)return n(t).find(e);r=N.qsa(p,e)}}return N.Z(r,e)},(n=function(e,t){return N.init(e,t)}).extend=function(e){var t,n=d.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach((function(n){G(e,n,t)})),e},N.qsa=function(e,t){var n,r="#"==t[0],o=!r&&"."==t[0],i=r||o?t.slice(1):t,a=O.test(i);return e.getElementById&&a&&r?(n=e.getElementById(i))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:d.call(a&&!r&&e.getElementsByClassName?o?e.getElementsByClassName(i):e.getElementsByTagName(t):e.querySelectorAll(t))},n.contains=p.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},n.type=R,n.isFunction=L,n.isWindow=P,n.isArray=D,n.isPlainObject=U,n.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},n.isNumeric=function(e){var t=Number(e),n=void 0===e?"undefined":a()(e);return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},n.inArray=function(e,t,n){return s.indexOf.call(t,e,n)},n.camelCase=o,n.trim=function(e){return null==e?"":String.prototype.trim.call(e)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(e,t){var r,o,i,a,s=[];if(H(e))for(o=0;o<e.length;o++)null!=(r=t(e[o],o))&&s.push(r);else for(i in e)null!=(r=t(e[i],i))&&s.push(r);return(a=s).length>0?n.fn.concat.apply([],a):a},n.each=function(e,t){var n,r;if(H(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},n.grep=function(e,t){return u.call(e,t)},e.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){C["[object "+t+"]"]=t.toLowerCase()})),n.fn={constructor:N.Z,length:0,forEach:s.forEach,reduce:s.reduce,push:s.push,sort:s.sort,splice:s.splice,indexOf:s.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=N.isZ(t)?t.toArray():t;return l.apply(N.isZ(this)?this.toArray():this,n)},map:function(e){return n(n.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return n(d.apply(this,arguments))},ready:function(e){return T.test(p.readyState)&&p.body?e(n):p.addEventListener("DOMContentLoaded",(function(){e(n)}),!1),this},get:function(e){return void 0===e?d.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){return s.every.call(this,(function(t,n){return!1!==e.call(t,n,t)})),this},filter:function(e){return L(e)?this.not(this.not(e)):n(u.call(this,(function(t){return N.matches(t,e)})))},add:function(e,t){return n(i(this.concat(n(e,t))))},is:function(e){return this.length>0&&N.matches(this[0],e)},not:function(e){var t=[];if(L(e)&&void 0!==e.call)this.each((function(n){e.call(this,n)||t.push(this)}));else{var r="string"==typeof e?this.filter(e):H(e)&&L(e.item)?d.call(e):n(e);this.forEach((function(e){r.indexOf(e)<0&&t.push(e)}))}return n(t)},has:function(e){return this.filter((function(){return j(e)?n.contains(this,e):n(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!j(e)?e:n(e)},last:function(){var e=this[this.length-1];return e&&!j(e)?e:n(e)},find:function(e){var t=this;return e?"object"==(void 0===e?"undefined":a()(e))?n(e).filter((function(){var e=this;return s.some.call(t,(function(t){return n.contains(t,e)}))})):1==this.length?n(N.qsa(this[0],e)):this.map((function(){return N.qsa(this,e)})):n()},closest:function(e,t){var r=[],o="object"==(void 0===e?"undefined":a()(e))&&n(e);return this.each((function(n,i){for(;i&&!(o?o.indexOf(i)>=0:N.matches(i,e));)i=i!==t&&!M(i)&&i.parentNode;i&&r.indexOf(i)<0&&r.push(i)})),n(r)},parents:function(e){for(var t=[],r=this;r.length>0;)r=n.map(r,(function(e){if((e=e.parentNode)&&!M(e)&&t.indexOf(e)<0)return t.push(e),e}));return z(t,e)},parent:function(e){return z(i(this.pluck("parentNode")),e)},children:function(e){return z(this.map((function(){return q(this)})),e)},contents:function(){return this.map((function(){return this.contentDocument||d.call(this.childNodes)}))},siblings:function(e){return z(this.map((function(e,t){return u.call(q(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return n.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){var e,t,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,f[e]||(t=p.createElement(e),p.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),f[e]=n),f[e]))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=L(e);if(this[0]&&!t)var r=n(e).get(0),o=r.parentNode||this.length>1;return this.each((function(i){n(this).wrapAll(t?e.call(this,i):o?r.cloneNode(!0):r)}))},wrapAll:function(e){if(this[0]){var t;for(n(this[0]).before(e=n(e));(t=e.children()).length;)e=t.first();n(e).append(this)}return this},wrapInner:function(e){var t=L(e);return this.each((function(r){var o=n(this),i=o.contents(),a=t?e.call(this,r):e;i.length?i.wrapAll(a):o.append(a)}))},unwrap:function(){return this.parent().each((function(){n(this).replaceWith(n(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var t=n(this);(void 0===e?"none"==t.css("display"):e)?t.show():t.hide()}))},prev:function(e){return n(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return n(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each((function(t){var r=this.innerHTML;n(this).empty().append(Y(this,e,t,r))})):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each((function(t){var n=Y(this,e,t,this.textContent);this.textContent=null==n?"":""+n})):0 in this?this.pluck("textContent").join(""):null},attr:function(e,n){var r;return"string"!=typeof e||1 in arguments?this.each((function(r){if(1===this.nodeType)if(j(e))for(t in e)X(this,t,e[t]);else X(this,e,Y(this,n,r,this.getAttribute(e)))})):0 in this&&1==this[0].nodeType&&null!=(r=this[0].getAttribute(e))?r:void 0},removeAttr:function(e){return this.each((function(){1===this.nodeType&&e.split(" ").forEach((function(e){X(this,e)}),this)}))},prop:function(e,t){return e=A[e]||e,1 in arguments?this.each((function(n){this[e]=Y(this,t,n,this[e])})):this[0]&&this[0][e]},removeProp:function(e){return e=A[e]||e,this.each((function(){delete this[e]}))},data:function(e,t){var n="data-"+e.replace(w,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?K(r):void 0},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each((function(t){this.value=Y(this,e,t,this.value)}))):this[0]&&(this[0].multiple?n(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each((function(e){var r=n(this),o=Y(this,t,e,r.offset()),i=r.offsetParent().offset(),a={top:o.top-i.top,left:o.left-i.left};"static"==r.css("position")&&(a.position="relative"),r.css(a)}));if(!this.length)return null;if(p.documentElement!==this[0]&&!n.contains(p.documentElement,this[0]))return{top:0,left:0};var r=this[0].getBoundingClientRect();return{left:r.left+e.pageXOffset,top:r.top+e.pageYOffset,width:Math.round(r.width),height:Math.round(r.height)}},css:function(e,r){if(arguments.length<2){var i=this[0];if("string"==typeof e){if(!i)return;return i.style[o(e)]||getComputedStyle(i,"").getPropertyValue(e)}if(D(e)){if(!i)return;var a={},s=getComputedStyle(i,"");return n.each(e,(function(e,t){a[t]=i.style[o(t)]||s.getPropertyValue(t)})),a}}var c="";if("string"==R(e))r||0===r?c=F(e)+":"+V(e,r):this.each((function(){this.style.removeProperty(F(e))}));else for(t in e)e[t]||0===e[t]?c+=F(t)+":"+V(t,e[t])+";":this.each((function(){this.style.removeProperty(F(t))}));return this.each((function(){this.style.cssText+=";"+c}))},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&s.some.call(this,(function(e){return this.test(J(e))}),B(e))},addClass:function(e){return e?this.each((function(t){if("className"in this){r=[];var o=J(this);Y(this,e,t,o).split(/\s+/g).forEach((function(e){n(this).hasClass(e)||r.push(e)}),this),r.length&&J(this,o+(o?" ":"")+r.join(" "))}})):this},removeClass:function(e){return this.each((function(t){if("className"in this){if(void 0===e)return J(this,"");r=J(this),Y(this,e,t,r).split(/\s+/g).forEach((function(e){r=r.replace(B(e)," ")})),J(this,r.trim())}}))},toggleClass:function(e,t){return e?this.each((function(r){var o=n(this);Y(this,e,r,J(this)).split(/\s+/g).forEach((function(e){(void 0===t?!o.hasClass(e):t)?o.addClass(e):o.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),r=this.offset(),o=y.test(t[0].nodeName)?{top:0,left:0}:t.offset();return r.top-=parseFloat(n(e).css("margin-top"))||0,r.left-=parseFloat(n(e).css("margin-left"))||0,o.top+=parseFloat(n(t[0]).css("border-top-width"))||0,o.left+=parseFloat(n(t[0]).css("border-left-width"))||0,{top:r.top-o.top,left:r.left-o.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||p.body;e&&!y.test(e.nodeName)&&"static"==n(e).css("position");)e=e.offsetParent;return e}))}},n.fn.detach=n.fn.remove,["width","height"].forEach((function(e){var t=e.replace(/./,(function(e){return e[0].toUpperCase()}));n.fn[e]=function(r){var o,i=this[0];return void 0===r?P(i)?i["inner"+t]:M(i)?i.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each((function(t){(i=n(this)).css(e,Y(this,r,t,i[e]()))}))}})),["after","prepend","before","append"].forEach((function(t,r){var o=r%2;n.fn[t]=function(){var t,i,a=n.map(arguments,(function(e){var r=[];return"array"==(t=R(e))?(e.forEach((function(e){return void 0!==e.nodeType?r.push(e):n.zepto.isZ(e)?r=r.concat(e.get()):void(r=r.concat(N.fragment(e)))})),r):"object"==t||null==e?e:N.fragment(e)})),s=this.length>1;return a.length<1?this:this.each((function(t,c){i=o?c:c.parentNode,c=0==r?c.nextSibling:1==r?c.firstChild:2==r?c:null;var l=n.contains(p.documentElement,i);a.forEach((function(t){if(s)t=t.cloneNode(!0);else if(!i)return n(t).remove();i.insertBefore(t,c),l&&$(t,(function(t){if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src)){var n=t.ownerDocument?t.ownerDocument.defaultView:e;n.eval.call(n,t.innerHTML)}}))}))}))},n.fn[o?t+"To":"insert"+(r?"Before":"After")]=function(e){return n(e)[t](this),this}})),N.Z.prototype=W.prototype=n.fn,N.uniq=i,N.deserializeValue=K,n.zepto=N,n}();return e.Zepto=t,void 0===e.$&&(e.$=t),function(t){var n=1,r=Array.prototype.slice,o=t.isFunction,i=function(e){return"string"==typeof e},a={},s={},c="onfocusin"in e,l={focus:"focusin",blur:"focusout"},u={mouseenter:"mouseover",mouseleave:"mouseout"};function d(e){return e._zid||(e._zid=n++)}function p(e,t,n,r){if((t=f(t)).ns)var o=(i=t.ns,new RegExp("(?:^| )"+i.replace(" "," .* ?")+"(?: |$)"));var i;return(a[d(e)]||[]).filter((function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||o.test(e.ns))&&(!n||d(e.fn)===d(n))&&(!r||e.sel==r)}))}function f(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function h(e,t){return e.del&&!c&&e.e in l||!!t}function m(e){return u[e]||c&&l[e]||e}function _(e,n,r,o,i,s,c){var l=d(e),p=a[l]||(a[l]=[]);n.split(/\s/).forEach((function(n){if("ready"==n)return t(document).ready(r);var a=f(n);a.fn=r,a.sel=i,a.e in u&&(r=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return a.fn.apply(this,arguments)}),a.del=s;var l=s||r;a.proxy=function(t){if(!(t=b(t)).isImmediatePropagationStopped()){t.data=o;var n=l.apply(e,null==t._args?[t]:[t].concat(t._args));return!1===n&&(t.preventDefault(),t.stopPropagation()),n}},a.i=p.length,p.push(a),"addEventListener"in e&&e.addEventListener(m(a.e),a.proxy,h(a,c))}))}function v(e,t,n,r,o){var i=d(e);(t||"").split(/\s/).forEach((function(t){p(e,t,n,r).forEach((function(t){delete a[i][t.i],"removeEventListener"in e&&e.removeEventListener(m(t.e),t.proxy,h(t,o))}))}))}s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",t.event={add:_,remove:v},t.proxy=function(e,n){var a=2 in arguments&&r.call(arguments,2);if(o(e)){var s=function(){return e.apply(n,a?a.concat(r.call(arguments)):arguments)};return s._zid=d(e),s}if(i(n))return a?(a.unshift(e[n],e),t.proxy.apply(null,a)):t.proxy(e[n],e);throw new TypeError("expected function")},t.fn.bind=function(e,t,n){return this.on(e,t,n)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var g=function(){return!0},y=function(){return!1},w=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,E={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function b(e,n){if(n||!e.isDefaultPrevented){n||(n=e),t.each(E,(function(t,r){var o=n[t];e[t]=function(){return this[r]=g,o&&o.apply(n,arguments)},e[r]=y}));try{e.timeStamp||(e.timeStamp=Date.now())}catch(e){}(void 0!==n.defaultPrevented?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=g)}return e}function S(e){var t,n={originalEvent:e};for(t in e)w.test(t)||void 0===e[t]||(n[t]=e[t]);return b(n,e)}t.fn.delegate=function(e,t,n){return this.on(t,e,n)},t.fn.undelegate=function(e,t,n){return this.off(t,e,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,a,s,c){var l,u,d=this;return e&&!i(e)?(t.each(e,(function(e,t){d.on(e,n,a,t,c)})),d):(i(n)||o(s)||!1===s||(s=a,a=n,n=void 0),void 0!==s&&!1!==a||(s=a,a=void 0),!1===s&&(s=y),d.each((function(o,i){c&&(l=function(e){return v(i,e.type,s),s.apply(this,arguments)}),n&&(u=function(e){var o,a=t(e.target).closest(n,i).get(0);if(a&&a!==i)return o=t.extend(S(e),{currentTarget:a,liveFired:i}),(l||s).apply(a,[o].concat(r.call(arguments,1)))}),_(i,e,s,a,n,u||l)})))},t.fn.off=function(e,n,r){var a=this;return e&&!i(e)?(t.each(e,(function(e,t){a.off(e,n,t)})),a):(i(n)||o(r)||!1===r||(r=n,n=void 0),!1===r&&(r=y),a.each((function(){v(this,e,r,n)})))},t.fn.trigger=function(e,n){return(e=i(e)||t.isPlainObject(e)?t.Event(e):b(e))._args=n,this.each((function(){e.type in l&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)}))},t.fn.triggerHandler=function(e,n){var r,o;return this.each((function(a,s){(r=S(i(e)?t.Event(e):e))._args=n,r.target=s,t.each(p(s,e.type||e),(function(e,t){if(o=t.proxy(r),r.isImmediatePropagationStopped())return!1}))})),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}})),t.Event=function(e,t){i(e)||(e=(t=e).type);var n=document.createEvent(s[e]||"Events"),r=!0;if(t)for(var o in t)"bubbles"==o?r=!!t[o]:n[o]=t[o];return n.initEvent(e,r,!0),b(n)}}(t),function(t){var n,r,o=+new Date,i=e.document,a=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,c=/^(?:text|application)\/xml/i,l=/^\s*$/,u=i.createElement("a");function d(e,n,r,o){if(e.global)return function(e,n,r){var o=t.Event(n);return t(e).trigger(o,r),!o.isDefaultPrevented()}(n||i,r,o)}function p(e,t){var n=t.context;if(!1===t.beforeSend.call(n,e,t)||!1===d(t,n,"ajaxBeforeSend",[e,t]))return!1;d(t,n,"ajaxSend",[e,t])}function f(e,t,n,r){var o=n.context;n.success.call(o,e,"success",t),r&&r.resolveWith(o,[e,"success",t]),d(n,o,"ajaxSuccess",[t,n,e]),m("success",t,n)}function h(e,t,n,r,o){var i=r.context;r.error.call(i,n,t,e),o&&o.rejectWith(i,[n,t,e]),d(r,i,"ajaxError",[n,r,e||t]),m(t,n,r)}function m(e,n,r){var o=r.context;r.complete.call(o,n,e),d(r,o,"ajaxComplete",[n,r]),function(e){e.global&&!--t.active&&d(e,null,"ajaxStop")}(r)}function _(){}function v(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function g(e,n,r,o){return t.isFunction(n)&&(o=r,r=n,n=void 0),t.isFunction(r)||(o=r,r=void 0),{url:e,data:n,success:r,dataType:o}}u.href=e.location.href,t.active=0,t.ajaxJSONP=function(n,r){if(!("type"in n))return t.ajax(n);var a,s,c=n.jsonpCallback,l=(t.isFunction(c)?c():c)||"Zepto"+o++,u=i.createElement("script"),d=e[l],m=function(e){t(u).triggerHandler("error",e||"abort")},_={abort:m};return r&&r.promise(_),t(u).on("load error",(function(o,i){clearTimeout(s),t(u).off().remove(),"error"!=o.type&&a?f(a[0],_,n,r):h(null,i||"error",_,n,r),e[l]=d,a&&t.isFunction(d)&&d(a[0]),d=a=void 0})),!1===p(_,n)?(m("abort"),_):(e[l]=function(){a=arguments},u.src=n.url.replace(/\?(.+)=\?/,"?$1="+l),i.head.appendChild(u),n.timeout>0&&(s=setTimeout((function(){m("timeout")}),n.timeout)),_)},t.ajaxSettings={type:"GET",beforeSend:_,success:_,error:_,complete:_,context:null,global:!0,xhr:function(){return new e.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:_},t.ajax=function(o){var a,m,g=t.extend({},o||{}),y=t.Deferred&&t.Deferred();for(n in t.ajaxSettings)void 0===g[n]&&(g[n]=t.ajaxSettings[n]);!function(e){e.global&&0==t.active++&&d(e,null,"ajaxStart")}(g),g.crossDomain||((a=i.createElement("a")).href=g.url,a.href=a.href,g.crossDomain=u.protocol+"//"+u.host!=a.protocol+"//"+a.host),g.url||(g.url=e.location.toString()),(m=g.url.indexOf("#"))>-1&&(g.url=g.url.slice(0,m)),function(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()&&"jsonp"!=e.dataType||(e.url=v(e.url,e.data),e.data=void 0)}(g);var w=g.dataType,E=/\?.+=\?/.test(g.url);if(E&&(w="jsonp"),!1!==g.cache&&(o&&!0===o.cache||"script"!=w&&"jsonp"!=w)||(g.url=v(g.url,"_="+Date.now())),"jsonp"==w)return E||(g.url=v(g.url,g.jsonp?g.jsonp+"=?":!1===g.jsonp?"":"callback=?")),t.ajaxJSONP(g,y);var b,S=g.accepts[w],x={},T=function(e,t){x[e.toLowerCase()]=[e,t]},O=/^([\w-]+:)\/\//.test(g.url)?RegExp.$1:e.location.protocol,C=g.xhr(),k=C.setRequestHeader;if(y&&y.promise(C),g.crossDomain||T("X-Requested-With","XMLHttpRequest"),T("Accept",S||"*/*"),(S=g.mimeType||S)&&(S.indexOf(",")>-1&&(S=S.split(",",2)[0]),C.overrideMimeType&&C.overrideMimeType(S)),(g.contentType||!1!==g.contentType&&g.data&&"GET"!=g.type.toUpperCase())&&T("Content-Type",g.contentType||"application/x-www-form-urlencoded"),g.headers)for(r in g.headers)T(r,g.headers[r]);if(C.setRequestHeader=T,C.onreadystatechange=function(){if(4==C.readyState){C.onreadystatechange=_,clearTimeout(b);var e,n=!1;if(C.status>=200&&C.status<300||304==C.status||0==C.status&&"file:"==O){if(w=w||function(e){return e&&(e=e.split(";",2)[0]),e&&("text/html"==e?"html":"application/json"==e?"json":s.test(e)?"script":c.test(e)&&"xml")||"text"}(g.mimeType||C.getResponseHeader("content-type")),"arraybuffer"==C.responseType||"blob"==C.responseType)e=C.response;else{e=C.responseText;try{e=function(e,t,n){if(n.dataFilter==_)return e;var r=n.context;return n.dataFilter.call(r,e,t)}(e,w,g),"script"==w?(0,eval)(e):"xml"==w?e=C.responseXML:"json"==w&&(e=l.test(e)?null:t.parseJSON(e))}catch(e){n=e}if(n)return h(n,"parsererror",C,g,y)}f(e,C,g,y)}else h(C.statusText||null,C.status?"error":"abort",C,g,y)}},!1===p(C,g))return C.abort(),h(null,"abort",C,g,y),C;var N=!("async"in g)||g.async;if(C.open(g.type,g.url,N,g.username,g.password),g.xhrFields)for(r in g.xhrFields)C[r]=g.xhrFields[r];for(r in x)k.apply(C,x[r]);return g.timeout>0&&(b=setTimeout((function(){C.onreadystatechange=_,C.abort(),h(null,"timeout",C,g,y)}),g.timeout)),C.send(g.data?g.data:null),C},t.get=function(){return t.ajax(g.apply(null,arguments))},t.post=function(){var e=g.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=g.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var o,i=this,s=e.split(/\s/),c=g(e,n,r),l=c.success;return s.length>1&&(c.url=s[0],o=s[1]),c.success=function(e){i.html(o?t("<div>").html(e.replace(a,"")).find(o):e),l&&l.apply(i,arguments)},t.ajax(c),this};var y=encodeURIComponent;t.param=function(e,n){var r=[];return r.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(y(e)+"="+y(n))},function e(n,r,o,i){var a,s=t.isArray(r),c=t.isPlainObject(r);t.each(r,(function(r,l){a=t.type(l),i&&(r=o?i:i+"["+(c||"object"==a||"array"==a?r:"")+"]"),!i&&s?n.add(l.name,l.value):"array"==a||!o&&"object"==a?e(n,l,o,r):n.add(r,l)}))}(r,e,n),r.join("&").replace(/%20/g,"+")}}(t),function(e){e.fn.serializeArray=function(){var t,n,r=[];return this[0]&&e.each(this[0].elements,(function(o,i){n=i.type,(t=i.name)&&"fieldset"!=i.nodeName.toLowerCase()&&!i.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||i.checked)&&function e(n){if(n.forEach)return n.forEach(e);r.push({name:t,value:n})}(e(i).val())})),r},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach((function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))})),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(t),function(){try{getComputedStyle(void 0)}catch(n){var t=getComputedStyle;e.getComputedStyle=function(e,n){try{return t(e,n)}catch(e){return null}}}}(),t},"function"==typeof define&&n(118)?define((function(){return o(r)})):o(r)},,function(e,t,n){"use strict";n.r(t);var r=n(14),o=n.n(r),i=n(8),a=n.n(i),s=n(7),c=n.n(s),l=n(2),u=n.n(l),d=n(3),p=n.n(d),f=n(4),h=n.n(f),m=(n(187),n(111),n(17)),_=n.n(m),v=n(0),g=n.n(v),y=n(10),w=n.n(y),E=n(11),b=n.n(E),S=(n(224),n(238),n(22)),x=(n(240),{empty:function(){x={}}});x.appVersion=window.APP_VERSION,x.system="iphone";var T=[],O="v55"===window.APP_VERSION&&!0,C=console.info;O&&(console.info=function(){T.push(arguments),C.apply(console,arguments)},x.init=!0),x.showConsoleInfo=function(){console.info=C,T.forEach((function(e,t){console.info.apply(console,e)})),T=[]},window.G=x;var k=x,N=n(6),I=n.n(N),A=function(e){var t={},n=[];return{getState:function(){return t},dispatch:function(r){t=e(t,r),n.forEach((function(e){return e()}))},subscribe:function(e){return n.push(e),function(){n=[],t={}}}}}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if("object"===(void 0===t?"undefined":I()(t))){var n=t.type,r=t.data;e[n]=r}return e})),D=function(){return{width:document.body.offsetWidth||window.innerWidth,height:window.innerHeight}},R=function(e,t){var n=e.querySelectorAll(t);return n=Array.prototype.slice.call(n)},L=function(e,t){var n,r=[],o="?";for(n in t)t.hasOwnProperty(n)&&r.push(n+"="+encodeURIComponent(t[n]));return-1!==e.indexOf("?")&&(o="&"),[e,o,r.join("&")].join("")},P=(Array.prototype.slice,function(e,t,n){for(var r=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(r.call(e,t))return e;if(n)return null;e=e.parentElement}return null}),M=n(1),j=n(5),U=n.n(j),H={},F=[],B=[],V=[],q={},W="undefined"!=typeof document&&(document.documentElement.clientHeight||document.body.clientHeight);function z(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=!1,o=0;o<t.length;o++){r=!1;for(var i=0;i<e.length;i++)if(t[o].imp_item_id===e[i].imp_item_id){r=!0;break}r||n.push(t[o])}return n}function Y(){if(0!==V.length){for(var e=V.length-1;e>=0;e--){var t=V[e],n=t.el.getBoundingClientRect();n.bottom<=W&&!t.hasShow&&(a=t.id,q[a]||(t.hasShow=!0,q[t.id]=1,"function"==typeof t.callback&&t.callback()));for(var r=n.bottom<=W&&n.top>=0,o=!1,i=0;i<B.length;i++)if(B[i].imp_item_id===t.impressItemInfo.imp_item_id){o=!0;break}r&&!o&&B.push(t.impressItemInfo)}var a,s=z(F,B),l=z(B,F);(s.length||l.length)&&(U.a.invoke("impression",c()({},H,{impressions_in:s,impressions_out:l})),F=B,B=[])}}var X={show:[],header:[]};G.scrollStore=X;var J=function(e,t){var n=D(),r=n.height||window.innerHeight,o=n.width||window.innerWidth;try{var i=e.getBoundingClientRect();return i.bottom>0&&i.top<r&&i.right>0&&i.left<o}catch(e){return console.info(e,t,"判断DOM是否在屏幕之内出错, 并将这个展示埋点去除"),!0}},K=function(e,t){var n=D();try{var r=n.height||window.innerHeight,o=n.width||window.innerWidth,i=e.getBoundingClientRect();return i.height<r&&i.width<o?i.top>=0&&i.top<=r&&i.bottom>=0&&i.bottom<=r&&i.left>=0&&i.left<=o&&i.right>=0&&i.right<=o:i.height<r&&i.width>=o?i.top>=0&&i.top<=r&&i.bottom>=0&&i.bottom<=r&&i.left<=0&&i.right>=o:i.height>=r&&i.width<o?i.top<=0&&i.bottom>=r&&i.left>=0&&i.left<=o&&i.right>=0&&i.right<=o:i.top<=0&&i.bottom>=r&&i.left<=0&&i.right>=o}catch(e){return console.info(e,t,"判断DOM是否在屏幕之内出错, 并将这个展示埋点去除"),!0}},Z=function(e){var t=e.dom?e.dom:document.querySelector(e.domSelector),n=(e.isTotallyShown?K:J)(t,e);return n&&(e.label?M.statistics.sendUmengEvent(e.tag,e.label,e.params):M.statistics.sendUmengEventV3(e.value,e.obj),"function"==typeof e.callback&&e.callback()),n},Q=function(){var e=function(e){var t=X[e];t.length>0&&(t=t.filter((function(t){switch(e){case"show":return!Z(t);case"header":return function(e){var t,n=e.dom?e.dom:document.querySelector(e.domSelector);if(!n)return null;(t=n.getBoundingClientRect().bottom)<0&&!e.NativeShowHeader?(U.a.invoke(e.JsBridge,{show:!0}),e.NativeShowHeader=!0):t>0&&e.NativeShowHeader&&(U.a.invoke(e.JsBridge,{show:!1}),e.NativeShowHeader=!1)}(t),!0;default:return!0}}))),X[e]=t};for(var t in X)e(t);!function(){try{Y()}catch(e){}}()},ee=function(e,t){if("object"===(void 0===t?"undefined":I()(t)))if(X[e])switch(e){case"show":Z(t)||X.show.push(t);break;case"header":X.header.push(t);break;default:return}else console.error("scrollStore 不存在 "+e+" 这个属性");else console.error("data 不是一个对象")},te=function(){X={show:[],header:[]},G.scrollStore=X},ne=n(32),re=n.n(ne),oe=n(21),ie=n.n(oe),ae=n(57),se=n.n(ae).a,ce=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;function ue(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var de=function(){try{if(!ie.a)return!1;var e=new String("abc");if(e[5]="de","5"===re()(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==re()(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===o()(ie()({},r)).join("")}catch(e){return!1}}()?ie.a:function(e,t){for(var n,r,o=ue(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))ce.call(n,a)&&(o[a]=n[a]);if(se){r=se(n);for(var s=0;s<r.length;s++)le.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o},pe=function(e,t){var n=!1;return n=(n=(n=n||0==e.book_free_status||0==e.need_pay)||1==e.pay_status||3==e.pay_status)||1==e.recommend_limited_free&&["__all__","fake","ugc_fake"].indexOf(t.category_name)>-1&&!1!==t.isLogin&&!1!==window.isLogin},fe=function(e){var t="",n=0;for(var r in e)t+=(0===n?"":"&")+r+"="+("object"===I()(e[r])?a()(e[r]):e[r]),n++;return t},he={},me={};function _e(e){var t=e.h5_extra||{};return{font_size:t.font_size||"m",image_type:t.image_type||"thumb",is_daymode:void 0===e.h5_extra||!!t.is_daymode,use_lazyload:!!t.use_lazyload,url_prefix:t.url_prefix||"content://com.ss.android.article.base.ImageProvider/"}}var ve={v55:{android:function(){return{font_size:Object(M.getMeta)("font_size")||"m",image_type:Object(M.getMeta)("load_image")||"thumb",is_daymode:!Object(M.getMeta)("night_mode"),use_lazyload:void 0===window.close_lazyload,url_prefix:void 0===window.url_prefix?"content://com.ss.android.article.base.ImageProvider/":window.url_prefix}},iphone:function(){return{font_size:Object(M.hash)("tt_font")||"m",image_type:Object(M.hash)("tt_image")||"thumb",is_daymode:"1"==Object(M.hash)("tt_daymode"),use_lazyload:!!parseInt(Object(M.getMeta)("lazy_load")),url_prefix:""}}},v60:{iphone:_e,android:_e}};function ge(e,t){var n={},r=e.h5_extra||{};try{"object"===I()(r.h5_settings)?n.h5_settings=r.h5_settings:n.h5_settings=JSON.parse(r.h5_settings)}catch(e){n.h5_settings={}}if(n.h5_settings.is_liteapp=!!r.is_lite,n.h5_settings.user_verify_info_conf){if("string"==typeof n.h5_settings.user_verify_info_conf)try{n.h5_settings.user_verify_info_conf=JSON.parse(n.h5_settings.user_verify_info_conf)}catch(e){n.h5_settings.user_verify_info_conf={}}n.h5_settings.user_verify_info_conf=function(e){var t={};if(Array.isArray(e.type_config))for(var n=0;n<e.type_config.length;n++){var r=e.type_config[n];t[r.type]=r}return t}(n.h5_settings.user_verify_info_conf),n.h5_settings.useServerV=!0,n.useServerV=!0}else n.h5_settings.useServerV=!1,n.useServerV=!1;try{n.isRedFocusButton="red"===n.h5_settings.tt_follow_button_template.color_style,n.h5_settings.isRedFocusButton=n.isRedFocusButton}catch(e){n.isRedFocusButton=!1,n.h5_settings.isRedFocusButton=!1}n.hasExtraSpace=!n.h5_settings.is_liteapp&&M.client.isSeniorAndroid,n.hideFollowButton=!!r.hideFollowButton,n.statistics={group_id:r.str_group_id||r.group_id||"",item_id:r.str_item_id||r.item_id||"",category_name:r.category_name||"",enter_from:r.enter_from||"",log_pb:r.log_pb||"",g_source:r.g_source||"",g_composition:r.g_composition||""};try{n.pageSettings=ve[window.APP_VERSION].iphone(e)}catch(e){console.error("设置pageSettings报错",e),b.a.captureException(e)}return n.titleBarHeight=r.title_bar_height||0,n.foldArticle=r.article_fold||!1,n.longVideoData=r.long_video,n.articleWebContentUrl=r.article_web_content_url,n.ttImageList=r.tt_image_list,n.videoNativeEnable=r.video_native_enable&&S.utils.supportNativeView(),n.isTop=r.is_top,n}var ye={zhuanma:function(e,t){var n=e.h5_extra||{};t.article={title:n.title,publishTime:n.publish_time||"0000-00-00 00:00"},t.author.name=n.source,t.author.show=!0},wenda:function(e,t){var n=e.wenda_extra,r=n.user||{};e.wenda_extra.title=Object(M.escape)(e.wenda_extra.title),t.article={title:n.title,publishTime:n.publish_stamp?M.fmt.formatTime(1e3*n.publish_stamp):"",tagType:n.article_tag_type,showArticleTopTag:n.show_article_top_tag},t.author={userId:r.user_id,name:r.user_name,link:t.h5_settings.is_liteapp?"javascript:;":r.schema+"&from_page=answer_detail_top_card&group_source=10&group_id="+n.ansid+"&enter_from="+n.enter_from,intro:r.user_intro,avatar:r.user_profile_image_url,isAuthorSelf:!1,verifiedContent:r.is_verify?"PLACE_HOLDER":"",medals:r.medals,show:!0};var o={auth_type:"",auth_info:""};try{o=JSON.parse(r.user_auth_info)}catch(e){}if(t.author.auth_type=r.user_auth_info?o.auth_type||0:"",t.author.auth_info=o.auth_info,r.user_decoration){var i={};try{i=JSON.parse(r.user_decoration)}catch(e){}t.author.user_decoration=i}if("is_following"in n&&(t.author.followState=n.is_following?"following":""),t.hideFollowButton=!!n.hidden_follow_button,t.wenda_extra=n,t.wenda_extra.aniok=M.client.isSeniorAndroid,t.wenda_extra.headerFollowButtonStyle=n.question&&n.question.is_pay_wenda?"list":"",t.hasExtraSpace=t.hasExtraSpace&&!(n.question&&n.question.is_pay_wenda),n.question&&n.question.is_pay_wenda&&(4!=n.question.pay_status&&(t.author.show=!1),n.question.is_refuse&&(t.author.show=!1)),t.statistics.group_id=n.ansid,n.gd_ext_json)try{var a=JSON.parse(n.gd_ext_json);t.statistics.category_name=a.category_name,t.statistics.enter_from=a.enter_from}catch(e){console.error(e)}},pgc:function(e,t){var n=e.h5_extra,r=n.media||{},o={};try{o="object"===I()(n.h5_settings)?n.h5_settings:JSON.parse(n.h5_settings)}catch(e){o={}}var i={};n.bottom_banner_type&&o.bottom_banner_type&&(i=n.bottom_banner_link?de(o.bottom_banner_type[n.bottom_banner_type],{link:n.bottom_banner_link}):o.bottom_banner_type[n.bottom_banner_type]),t.article={title:n.title,publishTime:n.publish_stamp?M.fmt.formatTime(1e3*n.publish_stamp):n.publish_time,showArticleTopTag:(void 0!==n.show_article_top_tag?n.show_article_top_tag:n.high_quality_flag)&&!n.is_lite,tagType:n.article_tag_type,tagServerLink:n.article_tag_link,showBottomBanner:n.show_bottom_banner||!1,bottomBanner:i},t.author={userId:n.media_user_id,mediaId:r.id,name:r.name,link:"sslocal://profile?refer=all&source=article_top_author&uid="+n.media_user_id+"&group_id="+t.statistics.group_id+"&from_page=detail_article"+(n.category_name?"&category_name="+n.category_name:""),intro:r.description,avatar:r.avatar_url,isAuthorSelf:!!n.is_author,show:!0},!t.h5_settings.is_liteapp&&n.media_user_id||(t.author.link="bytedance://media_account?refer=all&media_id="+r.id+"&loc=0&entry_id="+r.id+"&group_id="+t.statistics.group_id+"&from_page=detail_article"+(n.category_name?"&category_name="+n.category_name:""));var a={auth_type:"",auth_info:""};try{a=JSON.parse(r.user_auth_info)}catch(e){}if(t.author.auth_type=r.user_auth_info?a.auth_type||0:"",t.author.auth_info=a.auth_info,t.author.verifiedContent=r.user_verified&&t.author.auth_info||"",r.user_decoration){var s={};try{s=JSON.parse(r.user_decoration)}catch(e){}t.author.user_decoration=s}"is_subscribed"in n&&(t.author.followState=n.is_subscribed?"following":""),t.hideFollowButton=!!n.hideFollowButton,n.is_original&&(t.article.isOriginal=n.is_original),n.category_name&&(t.category_name=n.category_name),n.log_pb&&(t.log_pb=n.log_pb),n.enter_from&&(t.enter_from=n.enter_from),n.audio_info&&(t.audio_info=n.audio_info),t.styles={image_marginless:n.image_marginless||!1}},fiction:function(e,t){var n=e.h5_extra,r=n.media||{};t.article={title:n.title,publishTime:n.publish_stamp?M.fmt.formatTime(1e3*n.publish_stamp):n.publish_time,showArticleTopTag:(void 0!==n.show_article_top_tag?n.show_article_top_tag:n.high_quality_flag)&&!n.is_lite,tagType:n.article_tag_type},t.author={userId:n.media_user_id,mediaId:r.id,name:r.name,link:"sslocal://profile?refer=all&source=article_top_author&uid="+n.media_user_id+"&group_id="+t.statistics.group_id+"&from_page=detail_article"+(n.category_name?"&category_name="+n.category_name:""),intro:r.description,avatar:r.avatar_url,isAuthorSelf:!!n.is_author,show:!0},!t.h5_settings.is_liteapp&&n.media_user_id||(t.author.link="bytedance://media_account?refer=all&media_id="+r.id+"&loc=0&entry_id="+r.id+"&group_id="+t.statistics.group_id+"&from_page=detail_article"+(n.category_name?"&category_name="+n.category_name:""));var o={auth_type:"",auth_info:""};try{o=JSON.parse(r.user_auth_info)}catch(e){}if(t.author.auth_type=r.user_auth_info?o.auth_type||0:"",t.author.auth_info=o.auth_info,t.author.verifiedContent=r.user_verified&&t.author.auth_info||"",r.user_decoration){var i={};try{i=JSON.parse(r.user_decoration)}catch(e){}t.author.user_decoration=i}if("is_subscribed"in n&&(t.author.followState=n.is_subscribed?"following":""),t.hideFollowButton=!!n.hideFollowButton,n.is_original&&(t.article.isOriginal=n.is_original),"object"===I()(n.novel_data))t.novel_data=n.novel_data;else if("string"==typeof n.novel_data)try{t.novel_data=JSON.parse(n.novel_data)}catch(e){}"pay_status"in n&&(t.novel_data.pay_status=he&&he.pay_status&&-1!=he.pay_status&&-1==n.pay_status.status?he.pay_status:n.pay_status.status,t.novel_data.auto_pay_status=n.pay_status.auto_pay_status),t.novel_data.is_story=n.is_story,t.credible_content=n.credible_content,t.novel_data.can_read=pe(t.novel_data,n),t.author.show=t.novel_data.can_read||t.novel_data.is_story,n.category_name&&(t.category_name=n.category_name),n.log_pb&&(t.log_pb=n.log_pb),n.enter_from&&(t.enter_from=n.enter_from)}};function we(e){void 0===e?(e=window,me=window,console.info("build,page,undefined")):"object"===I()(e.h5_extra)||"object"===I()(e.wenda_extra)?(me=e,console.info("build,page,object")):(console.info("build,page,2cd"),M.client.isIOS?e.wenda_extra||e.h5_extra?(e.wenda_extra&&(me.wenda_extra=e.wenda_extra),e.h5_extra&&(me.h5_extra=e.h5_extra)):me.h5_extra=e:M.client.isAndroid&&(e.wenda_extra||e.h5_extra?(e.wenda_extra&&(me.wenda_extra=Object(M.extend)(!0,me.wenda_extra,e.wenda_extra)),e.h5_extra&&(me.h5_extra=Object(M.extend)(!0,me.h5_extra,e.h5_extra))):me.h5_extra=Object(M.extend)(!0,me.h5_extra,e))),console.info("page",me);var t={article:{},author:{},tags:""},n=function(e){var t="zhuanma";if("object"===I()(e.wenda_extra))t="wenda";else if("object"===I()(e.h5_extra)){var n=e.h5_extra.media;"object"===(void 0===n?"undefined":I()(n))&&null!==n&&0!==n.id&&(t=e.h5_extra.novel_data?"fiction":"pgc")}return t}(me);t.article.type=n,t=de("pageSettings"in he?he:ge(me),t),ye[n](me,t),t.article.type=n,he=t,G.page=t}function Ee(e,t){if("string"!=typeof e)return he;try{e=e.split(".");var n=he;return e.forEach((function(e){n=n[e]})),n||t||n}catch(e){return t}}function be(e,t){if("string"!=typeof e)return!1;try{e=e.split(".");var n=he,r=e.length;return e.forEach((function(e,o){void 0===n[e]&&(n[e]=null),o===r-1&&(n[e]=t),n=n[e]})),!0}catch(e){return!1}}var Se={},xe={},Te=document&&document.body;function Oe(e){var t,n={originalEvent:e},r=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/;for(t in e)r.test(t)||void 0===e[t]||(n[t]=e[t]);return function(e,t){if(t||!e.isDefaultPrevented){t||(t=e);var n=function(n){var r=Ne[n],o=t[n];e[n]=function(){return this[r]=Ce,o&&o.apply(t,arguments)},e[r]=ke};for(var r in Ne)n(r);try{e.timeStamp||(e.timeStamp=Date.now())}catch(e){}(void 0!==t.defaultPrevented?t.defaultPrevented:"returnValue"in t?!1===t.returnValue:t.getPreventDefault&&t.getPreventDefault())&&(e.isDefaultPrevented=Ce)}return e}(n,e)}var Ce=function(){return!0},ke=function(){return!1},Ne={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};var Ie=function(e,t){var n=Se[t],r=e.target,o=void 0;n.forEach((function(t){var n=t.selector,i=t.callback,a=function(e,t){for(var n=R(document,t),r=document.body,o=0;o<n.length;o++)for(var i=e,a=n[o];i&&i!==r;){if(a===i)return a;i=i.parentNode}return!1}(r,n);a&&r!==Te&&((o=Oe(e)).currentTarget=a,o.liveFired=Te,i.call(r,o))}))},Ae=function(e,t,n){Te=Te||document&&document.body,e.split(/\s/).forEach((function(e){Se[e]?Se[e].push({selector:t,callback:n}):(Se[e]=[{selector:t,callback:n}],xe[e]=function(t){Ie(t,e)},Te.addEventListener(e,xe[e]))}))},De=function(e,t){e.split(/\s/).forEach((function(e){Se[e]&&(Se[e]=Se[e].filter((function(e){return e.selector!==t})))}))},Re=function(){for(var e in Se)Te.removeEventListener(e,xe[e]);Se={},xe={}},Le=n(46),Pe=n.n(Le);var Me={config:function(e,t,n,r){Pe.a.config(e,t,r),U.a.invoke("TTNetwork.commonParams",{},(function(r){var o=r.data||r;o&&o.device_id&&b.a.config("http://key@m.toutiao.com/log/sentry/v2/183",{tags:{bid:"article_app",pid:"article_new",ac:o.ac,aid:o.aid,channel:o.channel,device_brand:o.device_brand,device_id:o.device_id,device_platform:o.device_platform,device_type:o.device_type,os_version:o.os_version,resolution:o.resolution,uuid:o.uuid,version_name:o.version_name||o.version_code,js_version:e,gid:"",service:t},ignoreErrors:["ReferenceError: Can't find variable: getElementPosition","Unexpected token ')'","Can't find variable: performance","null is not an object (evaluating 'el.tagName')","window._setbackXML_ is not a function"],dataCallback:function(t){window.globalErrors||(window.globalErrors=[]),window.globalErrors.push(t);var r=["lib.js","iphone.js","android.js"],o=["js"],i=["v55","v60","shared"],a="http://s3.pstatp.com/toutiao/app_web_article_online_updates/";return t&&t.exception&&Array.isArray(t.exception.values)&&t.exception.values.forEach((function(t){t&&t.stacktrace&&Array.isArray(t.stacktrace.frames)&&t.stacktrace.frames.forEach((function(t){var s=t.filename.split("/"),c=s.length;r.indexOf(s[c-1])>=0&&o.indexOf(s[c-2])>=0&&i.indexOf(s[c-3])>=0?t.filename=a+e+"/"+n+"/"+s[c-3]+"/"+s[c-2]+"/"+s[c-1]:r.indexOf(s[c-1])>=0&&o.indexOf(s[c-2])>=0&&(t.filename=a+e+"/"+n+"/"+s[c-2]+"/"+s[c-1])}))})),t.tags.gid=Ee("statistics.group_id")||"",t}}).install()}))}},je=(n(250),function(e){return function(t){function n(e){u()(this,n);var r=p()(this,t.call(this,e));return r.state={hasError:!1,error:null,errorInfo:null},r}return h()(n,t),n.prototype.componentDidCatch=function(e,t){this.setState({hasError:!0,error:e,errorInfo:t}),b.a.captureException(e,{extra:t}),console.error(e,t,this.props)},n.prototype.render=function(){return this.state.hasError?null:g.a.createElement(e,this.props)},n}(g.a.Component)}),Ue=(n(251),function(e){function t(n){u()(this,t),console.info("wdtitle",n);var r=p()(this,e.call(this,n));return r.state={totalAnswerCount:"",displayTotalAnswerCount:!1},r.wendaStatisticsParams={value:n.wendaExtra.qid,ext_value:n.wendaExtra.nice_ans_count,extra:{enter_from:n.wendaExtra.enter_from,ansid:n.wendaExtra.ansid,parent_enterfrom:n.wendaExtra.parent_enterfrom||"",group_id:n.wendaExtra.ansid}},r}return h()(t,e),t.prototype.updateWendaInfoAction=function(e,t){"ans_count"in t&&this.setState({totalAnswerCount:t.ans_count+"个回答",displayTotalAnswerCount:!0}),"nice_ans_count"in t&&(this.wendaStatisticsParams.ext_value=t.nice_ans_count)},t.prototype.goToAnswerAction=function(e){M.statistics.sendUmengEvent("answer_detail",e,this.wendaStatisticsParams)},t.prototype.ruleTipClickAction=function(){var e=this.props,t=(e.statistic,e.author),n=e.wendaContext;M.statistics.sendUmengEventV3("answer_detail_guide_click",{group_id:M.statistics.group_id,user_id:t.userId,tips_from:n.tips_data.tips_from||"",tips_type:n.tips_data.tips_type||""})},t.prototype.urlAddQueryParams=function(e,t){var n,r=[],o="?";for(n in t)t.hasOwnProperty(n)&&r.push(n+"="+encodeURIComponent(t[n]));return-1!==e.indexOf("?")&&(o="&"),[e,o,r.join("&")].join("")},t.prototype.renderAnswer=function(){var e=this.props,t=e.wendaExtra,n=e.wendaContext,r=e.isLiteApp,o=t.show_post_answer_strategy||{},i="show_top"in o&&!r,a="show_default"in o&&!r,s=this.state,c=s.totalAnswerCount,l=s.displayTotalAnswerCount,u=(t.wd_version,"ft "+(n&&n.tips_data&&n.tips_data.show_tips&&n.tips_data.text&&n.tips_data.schema?"hide-border":""));return i?(M.statistics.sendUmengEvent("answer_detail","top_write_answer_show",this.wendaStatisticsParams),g.a.createElement("div",null,g.a.createElement("div",{className:u},l?g.a.createElement("span",{className:"see-all-answers",id:"total-answer-count"},c):null,g.a.createElement("span",{className:"hide-placeholder"}," ")),g.a.createElement("a",{className:"big-answer-buttoon go-to-answer",href:this.urlAddQueryParams(o.show_top.schema,{source:"answer_detail_top_write_answer"}),onClick:this.goToAnswerAction.bind(this,"top_write_answer")},o.show_top.text),g.a.createElement("div",{className:"big-answer-buttoon-gap"}))):a?g.a.createElement("div",{className:u},g.a.createElement("a",{className:"go-to-answer go-to-answer-small",href:this.urlAddQueryParams(o.show_default.schema,{source:"answer_detail_top_write_answer"}),onClick:this.goToAnswerAction.bind(this,"wirte_answer")},"回答"),l?g.a.createElement("span",{className:"see-all-answers",id:"total-answer-count"},c):null):g.a.createElement("div",{className:u},l?g.a.createElement("span",{className:"see-all-answers",id:"total-answer-count"},c):null,g.a.createElement("span",{className:"hide-placeholder"}," "),"s")},t.prototype.renderRuleTip=function(){var e=this.props,t=e.wendaContext,n=e.wendaExtra,r=e.statistic,o=e.author,i=t&&t.tips_data;return console.log("fhuh",t),i&&i.show_tips&&i.text&&i.schema?(M.statistics.sendUmengEventV3("answer_detail_guide_show",Object(M.extend)(!0,{group_id:r.group_id,user_id:o.userId,tips_from:t.tips_data.tips_from||"",tips_type:t.tips_data.tips_type||""},n.gd_ext_json)),g.a.createElement("div",{className:"answer-tips"},g.a.createElement("div",{className:"line-gap"}),g.a.createElement("p",{className:"tip-text"},g.a.createElement("a",{className:"tip-link",href:i.schema,onClick:this.ruleTipClickAction.bind(this)},i.text)),g.a.createElement("div",{className:"line-border"}))):null},t.prototype.titleClickAction=function(e){if(!(e.target.className.indexOf("go-to-answer")>-1)){var t=this.props.wendaExtra;"wenda_title_handle"in t&&t.wenda_title_handle?U.a.invoke("clickWendaDetailHeader"):"need_return"in t?t.need_return?U.a.invoke("close"):t.list_schema&&(window.location.href=t.list_schema):["click_answer","click_answer_fold"].indexOf(t.enter_from)>-1?U.a.invoke("close"):t.list_schema&&(window.location.href=t.list_schema)}},t.prototype.render=function(){this.props;var e=this.props,t=e.wendaExtra,n=(e.wendaContext,e.isLiteApp),r=t.wd_version||0,o=t.show_post_answer_strategy||{},i="show_top"in o&&!n?"bigans":"show_default"in o&&!n?"smlans":"noans";return r<1||r>=3&&1==t.showMode?null:g.a.createElement(v.Fragment,null,g.a.createElement("div",{className:"wenda-title "+i+" title-type"+(t.answer_detail_type||0),onClick:this.titleClickAction.bind(this)},g.a.createElement("div",{className:r>=13?"wt no-icon":"wt"},t.title),this.renderAnswer()),this.renderRuleTip())},t}(g.a.Component)),He=(n(252),function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.articleTopTagClickHandler=function(e){var t=this.props,n=t.statistic,r=t.articleType;M.statistics.sendUmengEventV3("click_icon",{group_id:n.group_id,icon_name:e,position:"detail",article_type:r})},t.prototype.renderRight=function(e){var t=this,n=e.right.text;return g.a.createElement("a",{className:"tag-right-content",href:e.link,onClick:function(){return t.articleTopTagClickHandler(e.icon_name)}},g.a.createElement("span",null,n),g.a.createElement("i",{className:"arrow-icon"}))},t.prototype.render=function(){var e=this,t=this.props,n=t.type,r=void 0===n?"1":n,o=t.tagSetting,i=void 0===o?{}:o,a=t.position,s=t.link;if(!r||!i||!i[r])return null;var c=i[r];return s&&(c=de(i[r],{link:s})).right&&(c.right.link=s),g.a.createElement("span",{className:"high-quality "+a},g.a.createElement("a",{href:c.link,onClick:function(){return e.articleTopTagClickHandler(c.icon_name)}},g.a.createElement("i",{className:"icon",style:{background:'url("'+c.icon+'") center center no-repeat',backgroundSize:"contain"}}),g.a.createElement("span",null,c.text),g.a.createElement("i",{className:"split"}),g.a.createElement("span",{className:"sub-desc"},c.high_quality_text)),c.right?this.renderRight(c):null)},t}(g.a.PureComponent));n(253);var Fe=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.clickTitle=r.clickTitle.bind(r),r.isReportedAudioShow=!1,r}return h()(t,e),t.prototype.handleTitleHtml=function(e,t){var n,r,o=t.statistic,i=t.audioInfo,a=t.setting,s="",c=e;if(i&&M.client.isNewsArticleVersionNoLessThan("7.3.3")){var l=(n=a.audio_icon_type||2,r=a.audio_icon_conf,n&&r?r[n].icon:"");if(!l)return c;var u=e[e.length-1];s='<i class="audio-tag" style="background-image:url('+l+");margin-left:"+(!/。|！|？|》/.test(u)?"10px":0)+';"></i>',this.isReportedAudioShow||(M.statistics.sendUmengEventV3("show_play_toutiao",{is_audio:1,group_id:o.group_id,to_group_id:i.audio_id,category_name:o.category_name,enter_from:o.enter_from,log_pb:o.log_pb}),this.isReportedAudioShow=!0),c=e.slice(0,-1)+'<span style="white-space: nowrap; display: inline-block;">'+u+s+"</span>"}return c},t.prototype.clickTitle=function(e){var t=this.props,n=t.statistic,r=t.audioInfo;e.target.classList.contains("audio-tag")&&(U.a.invoke("playAudioByFloatView",{item_id:r.audio_id,query:"groupid="+r.audio_id+"&enter_from=click_tingtoutiao&parent_enterfrom="+n.enter_from+"&feed_group_id="+n.group_id+"&parent_gid="+n.group_id+"&category_name="+n.category_name,play_list_params:a()({category_name:n.category_name})}),M.statistics.sendUmengEventV3("click_play_toutiao",{is_audio:1,group_id:n.group_id,to_group_id:r.audio_id,category_name:n.category_name,enter_from:n.enter_from,log_pb:n.log_pb}))},t.prototype.render=function(){var e=this.props,t=e.article,n=e.setting,r=void 0===n?{}:n,o=e.statistic;switch(t.type){case"fiction":return g.a.createElement("div",{className:"tt-title",dangerouslySetInnerHTML:{__html:t.title}});case"pgc":return g.a.createElement(v.Fragment,null,t.showArticleTopTag?g.a.createElement(He,{type:t.tagType,link:t.tagServerLink,tagSetting:r.article_tag_type,position:"before-title",statistic:o,articleType:t.type}):null,g.a.createElement("div",{className:"tt-title",onClick:this.clickTitle,dangerouslySetInnerHTML:{__html:this.handleTitleHtml(t.title,this.props)}}));case"wenda":return g.a.createElement(Ue,this.props);case"zhuanma":return g.a.createElement("div",{className:"tt-title",onClick:this.clickTitle,dangerouslySetInnerHTML:{__html:this.handleTitleHtml(t.title,this.props)}});default:return null}},t}(g.a.Component),Be=(n(254),function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.clickAvaterAction=function(){"pgc"===this.props.articleType&&M.statistics.sendUmengEvent("detail","click_pgc_header",{value:this.props.authorInfo.mediaId,extra:{item_id:this.props.statistic.item_id}})},t.prototype.renderVIcon=function(){if(this.props.useServerV&&this.props.authorInfo.auth_info&&null!=this.props.authorInfo.auth_type){var e=Object(M.buildServerVIcon)(this.props.authorInfo.auth_type,"avatar_icon",this.props.setting.user_verify_info_conf);if(e)return g.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})}return""},t.prototype.render=function(){var e=this.props;return g.a.createElement("div",{className:"avatar"},g.a.createElement("a",{className:"author-avatar-link",href:e.authorInfo.link,onClick:this.clickAvaterAction.bind(this),"aria-label":"个人主页"},g.a.createElement("div",{className:"author-avatar"},e.authorInfo.avatar?g.a.createElement("img",{className:"author-avatar-img",src:e.authorInfo.avatar,alt:""}):null),this.renderVIcon()),e.authorInfo.user_decoration&&e.authorInfo.user_decoration.url?g.a.createElement("div",{className:"avatar-decoration","aria-hidden":"true",style:{backgroundImage:"url("+e.authorInfo.user_decoration.url+")"}}):null,g.a.createElement("a",{className:"avatar-decoration avatar-night-mask pgc-link","aria-hidden":"true",href:e.authorInfo.link,onClick:this.clickAvaterAction.bind(this)}))},t}(g.a.Component));function Ve(e){this.id=e,this.eventMap={}}Ve.prototype.on=function(e,t){e&&"string"==typeof e&&"function"==typeof t&&(Array.isArray(this.eventMap[e])?-1===this.eventMap[e].indexOf(t)&&this.eventMap[e].push(t):this.eventMap[e]=[t])},Ve.prototype.off=function(e,t){if(e&&"string"==typeof e)if(t){if("function"==typeof t&&Array.isArray(this.eventMap[e])){var n=this.eventMap[e].indexOf(t);n>-1&&this.eventMap[e].splice(n,1)}}else delete this.eventMap[e]},Ve.prototype.broadcast=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];e&&"string"==typeof e&&Array.isArray(this.eventMap[e])&&this.eventMap[e].forEach((function(n){try{n.call.apply(n,[t].concat(r))}catch(t){console.error("event广播错误",e,t),b.a.captureException(t)}}))};var qe=Ve,We=new qe("pgc"),Ge=new qe("card"),ze=new qe("page");function Ye(e,t){var n=this,r=function(){try{n.broadcast&&n.broadcast.apply(n,e),t&&t()}catch(e){console.error(e),b.a.captureException(e)}};window.cardScriptInited?r():ze.on("card-script-inited",r)}We.cardSafeBroadcast=Ye,Ge.cardSafeBroadcast=Ye;n(255);var Xe=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.followDisabled=!1,r.followSource={pgc:30,wenda:28},r.followFrom={pgc:"article_detail",wenda:"answer_detail_top_card"},r}return h()(t,e),t.prototype.followActionHandler=function(e){if(!this.followDisabled){this.props.updateFollowDisabledState(!0),this.followDisabled=!0;var t=this,n=this.props,r=n.author,o=n.article,i=n.followState,a=n.statistic,s=n.wendaExtra,c=i,l={id:r.userId,action:c?"unfollow":"dofollow",source:this.followSource[o.type],from:this.followFrom[o.type]},u={to_user_id:r.userId,media_id:r.mediaId,follow_type:"from_group",group_id:a.group_id,item_id:a.item_id,category_name:a.category_name,enter_from:a.enter_from,log_pb:a.log_pb,source:"pgc"===o.type?"article_detail":"answer_detail_top_card",server_source:this.followSource[o.type],position:"pgc"===o.type?"title_below":"detail"};if(document.querySelector(".article-fold-wrap")&&!c){ze.broadcast("showArticleFoldWrap",null,!1),document.documentElement.classList.contains("noscroll")&&document.documentElement.classList.remove("noscroll");var d=document.documentElement.offsetHeight||document.body.offsetHeight||document.documentElement.scrollHeight;U.a.invoke("article_open",{height:d})}"wenda"==o.type&&(u=Object(M.extend)(!0,u,s.gd_ext_json||{})),U.a.invoke("user_follow_action",l,(function(e){t.followDisabled=!1,console.info("user_follow_action",c,e),e&&1==+e.code?t.props.updateFollowState(c?"":"following",!0):t.props.updateFollowState(c?"following":"",!0)})),M.statistics.sendUmengEventV3(c?"rt_unfollow":"rt_follow",u),c||t.props.initMediasugState&&t.props.initMediasugState()}},t.prototype.sugstateChangeAction=function(){M.statistics.sendUmengEvent("detail","click_arrow_down",{extra:{source:"article_detail"}}),this.props.updateSugstate&&this.props.updateSugstate()},t.prototype.componentDidMount=function(){var e=this;ze.on("pageStateChange",(function(t){switch(t.type){case"user_action":t.id==e.props.author.userId&&"status"in t&&(e.props.updateFollowState(t.status?"following":"",e.followDisabled),e.followDisabled=!1);break;case"pgc_action":t.id==e.props.author.mediaId&&"status"in t&&(e.props.updateFollowState(t.status?"following":"",e.followDisabled),e.followDisabled=!1)}}))},t.prototype.componentWillUnmount=function(){ze.off("pageStateChange")},t.prototype.render=function(){var e=this.props;console.info("followButton",e);var t=e.author.isAuthorSelf||e.wendaContext&&e.wendaContext.is_author,n=e.redPack&&e.redPack.token&&e.redPack.redpack_id>0,r=(e.setting.tt_follow_button_template&&e.setting.tt_follow_button_template.color_style,"subscribe-button follow-button "+e.followState+(this.props.followDisabled?" disabled ":" ")+e.followButtonStyle),o="open"!==e.sugState&&"close"!==e.sugState;return t||"wenda"===e.article.type&&e.setting.is_liteapp||e.hideFollowButton?null:g.a.createElement("div",{className:n?"author-function-buttons redpack-button-just-word follow-button-large":"author-function-buttons","extra-space":e.hasExtraSpace?"":"no"},g.a.createElement("button",{className:"mediasug-arrow-button iconfont","aria-hidden":o,onClick:this.sugstateChangeAction.bind(this)}),g.a.createElement("button",{className:r,id:"subscribe",onClick:this.followActionHandler.bind(this)},g.a.createElement("i",{className:"iconfont focusicon"}," ")))},t}(g.a.Component),Je=(n(256),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={browCount:n.wendaContext.brow_count,diggCount:n.wendaContext.digg_count,showCount:n.wendaContext.show_count,showText:n.wendaContext.show_text||"阅读"},r}return h()(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=(e.wendaContext,e.wendaExtra),n=this;ze.on("pageStateChange",(function(e){"wenda_digg"===e.type&&t&&e.id==t.ansid&&"status"in e&&(1==e.status?n.setState({diggCount:M.fmt.formatCount(parseInt(n.state.diggCount)+1,"0")}):n.state.diggCount>0&&n.setState({diggCount:M.fmt.formatCount(parseInt(n.state.diggCount)-1,"0")}))}))},t.prototype.componentWillUnmount=function(){ze.off("pageStateChange")},t.prototype.render=function(){var e=M.fmt.formatCount(this.state.showCount,"0"),t=M.fmt.formatCount(this.state.diggCount,"0"),n=this.state.showText;return g.a.createElement("div",{className:"wenda-info"},g.a.createElement("span",{className:"readtext"},n),g.a.createElement("span",{className:"read-info brow-count"},e),g.a.createElement("span",{className:"like-info digg-count-special"},t))},t}(g.a.Component)),Ke=(n(257),function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.renderMedals=function(){var e=this.props.authorInfo.medals,t=this.props.setting.ugc_user_medal;return e&&t?g.a.createElement("div",{className:"article-medal"},e.map((function(e){if(t[e])return g.a.createElement("img",{src:t[e]})}))):null},t.prototype.renderTags=function(){return this.props.article.isOriginal?g.a.createElement("div",{className:"article-tags"},g.a.createElement("div",{className:"article-tag-original"})):null},t.prototype.renderSubTitle=function(){var e=this.props,t=e.article,n=e.authorInfo;switch(t.type){case"pgc":case"wenda":return g.a.createElement("span",{className:"sub-title"},t.publishTime,t.publishTime&&n.auth_info?" · ":"",n.auth_info);default:return g.a.createElement("span",{className:"sub-title"},n.intro)}},t.prototype.render=function(){var e=this.props;return g.a.createElement("div",{className:"author-bar"},g.a.createElement("div",{className:"name-link-wrap"},g.a.createElement("div",{className:"wenda"!==e.article.type||e.authorInfo.intro||e.article.publishTime||e.article.isOriginal?"name-link-w":"name-link-w no-intro"},this.renderMedals(),g.a.createElement("a",{className:"author-name-link pgc-link",href:e.authorInfo.link},e.authorInfo.name))),g.a.createElement("a",{className:"sub-title-w",href:e.authorInfo.link},g.a.createElement("div",{className:"article-tags"},this.renderTags()),this.renderSubTitle()))},t}(g.a.Component)),$e=0;function Ze(){return null}var Qe=function(e,t,n,r){"function"==typeof t&&(n=t,t={}),t||(t={});var o,i,s=t.prefix||"__jp",c=t.name||s+$e++,l=t.param,u=t.timeout,d=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head;function f(){o.parentNode&&o.parentNode.removeChild(o),window[c]=Ze,i&&clearTimeout(i)}return u&&(i=setTimeout((function(){f(),r&&r({error:"TIMEOUT"})}),u)),window[c]=function(e){f(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+function(e){if(!e)return"";var t=[];for(var n in e)if(e.hasOwnProperty(n)&&"function"!=typeof e[n]){var r=e[n];"[object Object]"==Object.prototype.toString.call(r)&&(r=a()(r)),n=encodeURIComponent(n),r=encodeURIComponent(r),t.push(n+"="+r)}return t.join("&")}(l)+"&callback="+d(c)).replace("?&","?"),(o=document.createElement("script")).src=e,p.parentNode.insertBefore(o,p),function(){window[c]&&f()}};var et=(new(function(){function e(){u()(this,e),this.bridgeScheme="nativeapp://",this.dispatchMsgPath="dispatch_message/",this.setResultPath="private/setresult/",this.fetchQueue="SCENE_FETCHQUEUE",this.jsBridgeKey="JSBridge",this.callbackId=1e3,this.callbackMap={},this.eventHookMap={},this.sendMessageQueue=[],this.fallbackCheckFunction=null,this.jsbridge={}}return e.prototype._fetchQueue=function(){var e=a()(this.sendMessageQueue);return this.sendMessageQueue.length>0&&this._dispatchUrlMsg(""+this.bridgeScheme+this.setResultPath+this.fetchQueue+"&"+btoa(encodeURIComponent(e).replace(/%(..)/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))})))),this.sendMessageQueue=[],e},e.prototype._dispatchUrlMsg=function(e){if("undefined"!=typeof document){var t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),t.src=e,setTimeout((function(){document.body.removeChild(t)}),300)}},e.prototype._handleMessageFromApp=function(e){var t=e.__params,n={__err_code:"cb404"},r=e.__callback_id;return"string"==typeof r&&"function"==typeof this.callbackMap[r]?(n=this.callbackMap[r](t),delete this.callbackMap[r]):"string"==typeof r&&Array.isArray(this.eventHookMap[r])&&this.eventHookMap[r].forEach((function(e){"function"==typeof e&&(n=e(t))})),a()(n)},e.prototype._call=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e&&"string"==typeof e){var i=void 0;o?i=e:(this.callbackId+=1,i=this.callbackId.toString());var s=t&&t.jsb_sync,c=n;"function"==typeof c?this.callbackMap[i]=c:s||o||(this.callbackMap[i]=c);var l={JSSDK:r,func:e,params:t,__msg_type:o?"event":"call",__callback_id:i};s&&delete t.jsb_sync;var u=void 0;try{s&&window.JS2NativeBridge&&window.JS2NativeBridge.callSync?(l.currentUrl=window.location.href,u=window.JS2NativeBridge.callSync(e,a()(l))):window.JS2NativeBridge&&window.JS2NativeBridge.call?u=window.JS2NativeBridge.call(e,a()(l)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callMethodParams?u=window.webkit.messageHandlers.callMethodParams.postMessage(l):window.callMethodParams?u=window.callMethodParams(e,l):(this.sendMessageQueue.push(l),this._dispatchUrlMsg(""+this.bridgeScheme+this.dispatchMsgPath))}catch(e){console.error(e)}return c&&c.promise||u}},e.prototype._on=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(e&&"string"==typeof e&&"function"==typeof t){this.eventHookMap[e]?this.eventHookMap[e].push(t):this.eventHookMap[e]=[t];var r={JSSDK:n,__msg_type:"event",__callback_id:e,func:e};try{window.JS2NativeBridge&&window.JS2NativeBridge.on?window.JS2NativeBridge.on(e,a()(r)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.onMethodParams?window.webkit.messageHandlers.onMethodParams.postMessage(r):window.onMethodParams?window.onMethodParams(e,r):window.JS2NativeBridge||this._call(e,{},null,n,1)}catch(e){console.error(e)}}},e.prototype._off=function(e,t){e&&"string"==typeof e&&"function"==typeof t&&this.eventHookMap[e]&&(this.eventHookMap[e]=this.eventHookMap[e].filter((function(e){return e!==t})))},e.prototype._trigger=function(e,t){var n=this.eventHookMap[e],r=!1;if(n)for(var o=0,i=n.length;o<i;o++){var a=n[o];"function"==typeof a&&(r=!0,a(t))}return r},e.prototype.init=function(){var e=this;return this.jsbridge={call:function(){return e._call.apply(e,arguments)},on:function(){return e._on.apply(e,arguments)},off:function(){return e._off.apply(e,arguments)},trigger:function(){return e._trigger.apply(e,arguments)}},window.Native2JSBridge={_fetchQueue:function(){return e._fetchQueue.apply(e,arguments)},_handleMessageFromApp:function(){return e._handleMessageFromApp.apply(e,arguments)}},window.JSBridge=this.jsbridge,this.jsbridge},e}())).init(),tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TTNetwork.commonParams",t=void 0;function n(n){et.call(e,{},(function(e){t=e.data.data||e.data||e,"function"==typeof n&&n(t)}))}return n(),function(e){t?"function"==typeof e&&e(t):e&&n(e)}},nt=tt("TTNetwork.commonParams"),rt=tt("appInfo"),ot=nt,it=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.followSource={pgc_sug:34,pgc_sug_supplement:133,wenda_sug:71,wenda_sug_supplement:138},r.state={followDisabled:!1},r}return h()(t,e),t.prototype.handleFollowAction=function(e){e.stopPropagation(),this.state.followDisabled||this.props.followAction(this.props.item,this.followActionCallback.bind(this))},t.prototype.followActionCallback=function(e){var t=this.props,n=t.item,r=t.profileId,o=n.is_following;"pgc"===this.props.articleType&&"object"===(void 0===e?"undefined":I()(e))&&1===e.code&&M.statistics.sendUmengEvent("detail",o?"sub_rec_unsubscribe":"sub_rec_subscribe",{value:n.user_id,extra:{source:"article_detail",profile_user_id:r}})},t.prototype.cardClickAction=function(e){if("ms-subs"!==e.target.className){var t=this.props,n=t.item,r=t.statistic,o=t.articleType,i=t.profileId,a=n.is_following;M.statistics.sendUmengEventV3("follow_card",{action_type:"click_avatar",category_name:r.category_name,is_direct:0,is_follow:a,source:n.is_supplement?"detail_follow_card_related":"detail_follow_card",to_user_id:n.user_id,order:this.props.index,server_extra:n.server_extra}),window.location.href="sslocal://profile?uid="+n.user_id+("wenda"===o?"&refer=wenda":"")+"&group_id="+r.group_id+"&from_page="+r.from_page+"&profile_user_id="+i+(r.category_name?"&category_name="+r.category_name:"")}},t.prototype.dislikeItem=function(e){e.stopPropagation();var t=this.props,n=t.item,r=t.statistic,o=n.is_following;U.a.invoke("fetch",{url:"https://api.snssdk.com/user/relation/user_recommend/v1/dislike_user/",method:"POST",data:{dislike_user_id:n.user_id},needCommonParams:!0},(function(e){if(e.code&&e.response){try{JSON.parse(e.response)}catch(e){console.error(e)}}})),M.statistics.sendUmengEventV3("follow_card",{action_type:"delete",category_name:r.category_name,is_direct:0,is_follow:o,source:n.is_supplement?"detail_follow_card_related":"detail_follow_card",to_user_id:n.userId,order:this.props.index,server_extra:n.server_extra}),this.props.deleteItem(this.props.index)},t.prototype.renderVIcon=function(){var e=this.props,t=e.item,n=e.useServerV,r=e.setting;if(n&&t.user_verified&&t.user_auth_info&&t.user_auth_info.auth_type)return{__html:Object(M.buildServerVIcon)(t.user_auth_info.auth_type,"avatar_icon",r.user_verify_info_conf)}},t.prototype.render=function(){var e=this.props,t=e.item,n=e.setting,r="ms-subs ";r+=n.tt_follow_button_template&&"red"===n.tt_follow_button_template.color_style?" ms-red-btn ":"",r+=t.is_following?" isfollowing":"",r+=t.followDisabled?" disabled":"";var o="ms-item"+(t.is_supplement?" supplement":"");return g.a.createElement("div",{className:o,onClick:this.cardClickAction.bind(this)},g.a.createElement("div",{className:"ms-item-wrapper"},g.a.createElement("div",{className:"ms-close",onClick:this.dislikeItem.bind(this)}),g.a.createElement("div",{className:"ms-avatar"},g.a.createElement("div",{className:"ms-avatar-wrap"},g.a.createElement("img",{className:"ms-avatar-image",src:t.avatar_url,alt:"头像"})),g.a.createElement("div",{dangerouslySetInnerHTML:this.renderVIcon()})),t.user_decoration&&t.user_decoration.url?g.a.createElement("div",{className:"avatar-decoration","aria-hidden":"true",style:{backgroundImage:"url("+t.user_decoration.url+")"}}):null,g.a.createElement("div",{className:"avatar-decoration avatar-night-mask","aria-hidden":"true"}),g.a.createElement("div",{className:"ms-name-wrap"},g.a.createElement("div",{className:"ms-name"},t.name)),g.a.createElement("div",{className:"ms-desc"},t.reason_description),g.a.createElement("button",{className:r,onClick:this.handleFollowAction.bind(this)},g.a.createElement("span",{className:"focus-icon"}," "))))},t}(g.a.Component),at=function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.cardClickAction=function(e){M.statistics.sendUmengEventV3("followcard_more_button",{action_type:"click",category_name:this.props.statistic.category_name,source:"detail_follow_card",server_extra:this.props.server_extra}),window.location.href=this.props.action_schema},t.prototype.render=function(){return g.a.createElement("div",{className:"ms-more",onClick:this.cardClickAction.bind(this)},g.a.createElement("div",{className:"ms-more-icon"}),g.a.createElement("div",{className:"ms-more-title"},this.props.action_card_title))},t}(g.a.Component),st=[];G.imageStore=st;var ct=D(),lt=function(e){var t=function(e,t){ct.height||(ct.height=D().height);try{var n=e.getBoundingClientRect().top;return n<0||n<2*ct.height}catch(e){return console.error("在函数名为belowNextScreen",e,t),!1}}(e.dom?e.dom:document.querySelectorAll(".image-wrap")[e.index],e);return t&&(console.info("第"+e.index+"个图片加载成功","imageLoad"),e.successFn()),t},ut=function(){var e=0,t=st.length,n=t;if(st.length>0)for(;e<t;e++)lt(st[e])||(n=e,e=t);st=st.slice(n)},dt=function(){st=[]};function pt(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(n.call(e,t))return e;e=e.parentElement}return null}function ft(e,t){for(var n in t)e[n]=t[n];return e}function ht(){var e;G.imgArr.every((function(e){return"origin"===e.params.state}))&&(e=document.getElementById("toggle-img"))&&(e.style.visibility="hidden")}function mt(e){return e?e.change_rate&&e.change_rate.indexOf("-")>-1?"#2FC94E":"#FF4442":""}function _t(e){return!e||"object"!==(void 0===e?"undefined":I()(e))||(!e.cur_price||!e.change_rate)}var vt=function(){function e(t,n,r){u()(this,e),this.setting=t,this.params=n,this.isNativeImage=r,this.reshapeImageWrapNodes(),this.appendImageRelatedNodes(),this.correctImgHolder()}return e.prototype.addIdentify=function(e){var t=document.createElement("div");t.innerHTML=e,t.style.cssText="\n            display: inline-block;\n            position: absolute;\n            top: 0px;\n            left: 0px;\n            padding: 0 12px 0 5px;\n            background: #eee;\n            border-radius: 0 0 10px 0;\n            opacity: 0.8;\n            color: #333;\n            font-size: 14px;\n        ",this.params.holder.appendChild(t)},e.prototype.reshapeImageWrapNodes=function(){var e=this.params,t=e.holder,n=e.index,r=t.parentNode,o=function(e,t,n){var r=document.createElement(n);return e.insertBefore(r,t),r.appendChild(t),r};(function(e,t){var r=void 0;return"P"===e.tagName?""!==e.textContent?(console.info("["+n+"]所在段落有文本，应当分割"),r=o(e,t,"span")):e.querySelectorAll(".image").length>1?(console.info("["+n+"]所在段落有其他图片，应当分割"),r=o(e,t,"span")):(console.info("["+n+"]正确"),r=e):(console.info("["+n+"]直接加包裹"),r=o(e,t,"p")),console.info(r,"newParent",n),r}(r,t)).className="image-wrap",t.setAttribute("index",n)},e.prototype.appendImageRelatedNodes=function(){var e=this,t=this.params,n=this.setting,r=document.createDocumentFragment(),o=t.holder;this.fragmentAppendCarTipDOM(),this.fragmentAppendStockTipDOM(),this.fragmentAppendStockTrendTipDOM(),this.fragmentAppendLoadingDOM(t.state,r),o.appendChild(r),function(t,n){var r;n.isLazyLoad&&"none"!==t.state&&("object"===(void 0===(r={index:t.index,successFn:function(){e.loadImage()}})?"undefined":I()(r))?st.push(r):console.error("data 不是一个对象"))}(t,n)},e.prototype.correctImgHolder=function(){var e=this.params,t=this.setting,n=e.holder,r=function(e,t,n,r){var o=200,i=200,a=r.aW/2,s=e/t,c=void 0,l=void 0;return c=e?e>a?r.aW:e:o,l=s?parseInt(c/s):i,console.info("[adjustOriginImageScale]",arguments,c,l),{width:c,height:l}}(e.width,e.height,"none"===e.state,t),o=r.width,i=r.height;n.style.width=o+"px",n.style.height=i+"px",n.setAttribute("bg",o>140&&i>44),n.setAttribute("state",e.state)},e.prototype.fragmentAppendLoadingDOM=function(e,t){if("origin"!==e){var n=document.createElement("i");n.classList.add("spinner"),t.appendChild(n)}},e.prototype.fragmentAppendCarTipDOM=function(){var e=this.params,t=e.holder,n=e.index;if(e.carTipData&&"object"===I()(e.carTipData)){var r="autoscript"+n,o=Ee("statistics").group_id,i=document.createElement("i");i.setAttribute("class","image-subscript autoscript"),i.id=r;var a=e.carTipData.extra_tips||"查看详情";i.innerHTML='<span class="ovf">'+e.carTipData.series_name+"</span><span>"+e.carTipData.price+'</span><span class="sx">&#xe60a;</span><span>'+a+"</span>",i.dataset.href=e.carTipData.open_url,i.dataset.smallapp_abtest=e.carTipData.smallapp_abtest?"1":"0",i.dataset.sapp_sdk_enable=e.carTipData.sapp_sdk_enable?"1":"0",console.info(t,n,e,"fragmentAppendCarTipDOM");try{t.appendChild(i)}catch(e){console.info(e,this)}ee("show",{domSelector:"#"+r,tag:"detail",label:"pic_card_show",params:{value:o}}),ee("show",{domSelector:"#"+r,value:"web_show_event",obj:{obj_id:"page_detail_pic_tag",group_id:o,smallapp_abtest:i.dataset.smallapp_abtest,sapp_sdk_enable:i.dataset.sapp_sdk_enable}}),ee("show",{domSelector:"#"+r,value:"show_content_go_purchase",obj:{obj_id:"detail_scard_n_consultation",group_id:o,item_id:Ee("statistics").item_id||"",enter_from:Ee("statistics").enter_from||"",category_name:Ee("statistics").category_name||"",log_pb:Ee("statistics").log_pb||"",bookshelf_type:"motor"}})}},e.prototype.fragmentAppendStockTrendTipDOM=function(){var e=this.params,t=e.holder;if(e.stockTrendTipData&&"object"===I()(e.stockTrendTipData)){var n=e.stockTrendTipData,r=document.createElement("i");r.setAttribute("class","stock-trend-img");r.innerHTML='<span class="ovf">'+n.stock_name+'</span><span style="color: '+mt(n)+';">'+n.cur_price+" "+n.change_rate+'</span><span class="sx">&#xe60a;</span><span>查看详情</span>',r.dataset.href=n.open_url,r.dataset.stockCode=n.stock_code;try{t.appendChild(r)}catch(e){console.info(e,this)}M.statistics.sendUmengEventV3("news_trend_banner_show",{code:n.stock_code,group_id:Ee("statistics").group_id})}},e.prototype.fragmentAppendStockTipDOM=function(){var e=this.params,t=e.holder,n=e.index;if(e.stockTipData&&"object"===I()(e.stockTipData)){var r=this.setting.groupId,o=document.createElement("a");o.setAttribute("class","pgc-img-stock-caption"),o.setAttribute("data-gid",r),o.setAttribute("data-stock-id",e.stockTipData.stockId);o.innerHTML='<span class="ovf">'+e.stockTipData.desc+'</span><span>查看详情</span><span class="sx">&#xe6d8;</span>',o.href=e.stockTipData.schema,console.info(t,t.parentNode,n,e,"fragmentAppendStockTipDOM");try{t.parentNode.appendChild(o)}catch(e){console.info(e,this)}M.statistics.sendUmengWhenTargetShown(t,"news_kline_chart_show","",{group_id:r,code:e.stockTipData.stockId},!0,{version:3})}},e.prototype.sendLoadTime=function(){var e=Date.now()-this.startLoadTime,t=this.params,n=t.index,r=t.state,o=t.isGIF,i=Ee("statistics.group_id")||"",a={duration:e,image_state:r,is_gif:o+0,group_id:i,index:n,is_native:this.isNativeImage?1:0};if("1"===i[i.length-1]&&!this.hasSendLoadTime){if(this.nativeImageLoadDetail&&this.insertRecvTime){var s=this.nativeImageLoadDetail,c=s.respTime,l=s.params;c&&l&&l.startLoadTime&&(a.insert_jsb_duration=this.insertRecvTime-this.startLoadTime,a.load_duration=c-l.startLoadTime)}M.statistics.sendUmengEventV3("article_detail_nc_image_perf",a),this.hasSendLoadTime=1}},e.prototype.loadResultLog=function(e){Date.now(),this.startLoadTime,this.params.index,this.isNativeImage},e}(),gt=/\/details\/v1\/w640\/(.+?)\.awebp/,yt=function(e){function t(n,r){u()(this,t);var o=p()(this,e.call(this,n,r,S.utils.supportNativeView()));return o.init("native-image"),o}return h()(t,e),t.prototype.nativeFallback=function(){this.isNativeImage=!1,this.init("img"),this.loadImage()},t.prototype.init=function(e){var t=this;this._el&&this._el.parentNode.removeChild(this._el),this._el=document.createElement(e),this._isLoading=!1,this._el.addEventListener("load",this.onLoad.bind(this)),this._el.addEventListener("error",this.onError.bind(this)),this._el.addEventListener("inserterror",(function(){console.info("debug:inserterror"),t._insertFail||(t._insertFail=!0,t.log("insert_fail"),t.nativeFallback())})),this._el.addEventListener("insertsuccess",(function(e){e.detail&&e.detail.recvTime&&(t.insertRecvTime=e.detail.recvTime)}))},t.prototype.getIOSImageUrl=function(e){return this.isNativeImage?e:e=(e=(e=(e=e.replace(gt,(function(e,t){return"/img/"+t+"~tplv-resize:1080:0.gif"}))).replace(".webp",".jpg")).replace(".heic",".jpg")).replace(".awebp",".gif")},t.prototype.onLoad=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.params,n=this.setting,r=t.width,o=t.height,i=t.holder,a=this._el,s=a.naturalWidth,c=a.naturalHeight;if(this._isLoading=!1,i.classList.remove("animation"),s||c){r===s&&o===c||(t.width=s,t.height=c),this.correctImgHolder(),"origin"!==n.state&&ht(),i.classList.contains("no-transition")&&setTimeout((function(){return i.classList.remove("no-transition")}),100),this.loaded=!0,this.params.holder.classList.remove("error"),this.nativeImageLoadDetail=e.detail,this.sendLoadTime(),this.loadResultLog(!0);var l=this.params.imgDOM;l&&l.classList.contains("opacity-zero")&&l.parentNode.removeChild(l)}else this.onError()},t.prototype.onError=function(){var e=this.params.holder;(this._isLoading=!1,e.classList.add("error"),e.classList.remove("animation"),this.isNativeImage)?this._el.querySelector("img")?this.log("fallback_error"):(this.log("native_image_error"),this.nativeFallback()):this.log("insertfail_fallback_error");e.removeChild(this._el),this.loadResultLog(!1)},t.prototype.loadImage=function(){var e=this;console.info("[native loadimage]");var t=this.params,n=this.setting,r=t.holder;if(n.ttImageList&&n.ttImageList[t.index]){r.classList.contains("error")&&r.classList.remove("error");var o=n.ttImageList[t.index],i=o.large_cached,a=o.large_urls,s=o.thumb_urls,c=t.state||n.state,l=function(t){!e.isNativeImage&&/(\.webp|\.heic|\.awebp)/.test(t)&&e.log("fallback_with_webp")};this._isLoading=!0,"thumb"!==t.state&&r.classList.add("animation"),"thumb"!==c||i?(this._el.setAttribute("src",this.getIOSImageUrl(a[0])),this._el.setAttribute("data-extra",a.join(",")),l(a[0]),t.state="origin"):(this._el.setAttribute("src",this.getIOSImageUrl(s[0])),this._el.setAttribute("data-extra",s.join(",")),l(s[0]),t.state="thumb"),this._el.isConnected||r.appendChild(this._el),this.startLoadTime=Date.now()}},t.prototype.log=function(e){var t=this.params.index,n=this._el.getAttribute("src"),r=Ee("statistics").group_id||"",o=Ee("isTop",!1);M.statistics.sendUmengEventV3("article_detail_nc_image",{err_type:e,group_id:r,index:t,image_url:n}),o&&M.statistics.sendBytedanceRequest("app_monitor?event=tt_sticky_article_error&params="+encodeURIComponent(a()({type:"fe_"+e,image_url:n,group_id:r,index:t})))},t}(vt),wt=/url=([^&]*)/,Et=function(e){return"origin"===e.state&&""===e.url&&e.width&&e.height},bt=function(e){return"origin"===e.state&&""!==e.url&&"boolean"==typeof e.width&&"function"==typeof e.height},St={willStart:function(e){e()},clean:function(){console.info("NativePlayGif.clean")},ended:function(){},tellNativeImagesPosition:function(){},setUseNativePlayGif:function(){}},xt=S.utils.supportNativeView()?St:{gifArr:[],NativePlayGifMovingCount:0,useNativePlayGif:!1,setUseNativePlayGif:function(e){xt.useNativePlayGif=e},willStart:function(e){xt.useNativePlayGif?xt.tellNativeGetFrames((function(){xt.tellNativeAnimationWillStart(),"function"==typeof e&&e()})):"function"==typeof e&&e()},clean:function(){console.info("NativePlayGif.clean"),xt.positions={},xt.NativePlayGifMovingCount=0},tellNativeImagesPosition:function(){if(xt.useNativePlayGif){var e={};xt.gifArr.forEach((function(t){var n=t.params.holder.getBoundingClientRect();e[t.params.index]={x:n.left+window.pageXOffset,y:n.top+window.pageYOffset,width:n.width,height:n.height}})),console.info("updateGIFPositions ",e),U.a.invoke("updateGIFPositions",e)}},tellNativeAnimationWillStart:function(){xt.useNativePlayGif&&(xt.NativePlayGifMovingCount++,console.info("tellNativeAnimationWillStart",xt.NativePlayGifMovingCount),1===xt.NativePlayGifMovingCount&&(console.info("animationWillStart",xt.NativePlayGifMovingCount),U.a.invoke("NativePlayGif",{action:"animationWillStart"})))},tellNativeGetFrames:function(e){xt.useNativePlayGif&&U.a.invoke("NativePlayGif",{action:"getFrames"},(function(t){if(Array.isArray(t.frames)){console.info("tellNativeGetFrames",t.frames);var n=t.frames.length;n>0?t.frames.forEach((function(t,r){var o=Array.prototype.slice.call(t);r>=n-1?o.push(!0,e):o.push(!0),window.appendLocalImage.apply(this,o)})):"function"==typeof e&&e()}}))},te:function(e){console.info("transitionend",e.target,this.getAttribute("index")),this.classList.remove("animation"),this.removeEventListener("transitionend",xt.te),xt.ended()},ended:function(){xt.useNativePlayGif&&setTimeout((function(){xt.tellNativeImagesPosition(),xt.tellNativeAnimationDidEnd((function(){xt.cleanFrames()}))}),100)},tellNativeAnimationDidEnd:function(e){xt.useNativePlayGif&&(xt.NativePlayGifMovingCount--,console.info("tellNativeAnimationDidEnd",xt.NativePlayGifMovingCount),0===xt.NativePlayGifMovingCount?(console.info("tellNativeAnimationDidEnd",xt.NativePlayGifMovingCount),U.a.invoke("NativePlayGif",{action:"animationDidEnd"},(function(){"function"==typeof e&&e()}))):xt.NativePlayGifMovingCount<0&&(xt.NativePlayGifMovingCount=0))},cleanFrames:function(){xt.useNativePlayGif&&(console.info("cleanFrames"),xt.gifArr.forEach((function(e){var t=e.params;t.nativePlayGifLoaded&&(t.holder.innerHTML="",t.url="")})))}},Tt=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.loadImage=function(){var e=this.params,t=this.setting,n=e.state||t.state;U.a.invoke("loadDetailImage",{type:n+"_image",index:e.index}),this.startLoadTime=Date.now()},t.prototype.appendImgToHolder=function(){var e=this.params,t=e.holder,n=e.imgDOM;if(!e.isGIF&&e.imgDOM)n.src=e.url;else if(e.url){var r=document.createElement("img");r.onload=this.onLoad.bind(this),r.onerror=this.onError.bind(this),r.src=e.url,t&&t.appendChild(r),e.imgDOM=r}},t.prototype.stopAnimation=function(){var e=this.params.holder;e.classList.remove("animation"),e.removeEventListener("transitionend",xt.te),console.info("stopAnimation",e)},t.prototype.loadedImageSource=function(e){console.info("loadedImageSource",e);var t=this.params;"origin"===e.state&&"thumb"===t.state&&t.hasTap&&(console.info("有一个动画过程"),xt.useNativePlayGif&&(xt.willStart(),t.holder.addEventListener("transitionend",xt.te,!1))),"origin"===e.state&&"none"===t.state&&(t.removeAnimation=!0),xt.useNativePlayGif||t.holder.addEventListener("transitionend",this.stopAnimation.bind(this),!1),t.hasTap&&(t.hasTap=!1),this.params=ft(t,e),this.appendImgToHolder()},t.prototype.onLoad=function(e){console.info("onLoad Image",this);var t=e.target,n=this.params,r=this.setting,o=n.frameCallback,i=n.width,a=n.height,s=n.holder,c=t.naturalHeight,l=t.naturalWidth;(l||c)&&(i===l&&a===c||(n.width=l,n.height=c),"origin"!==r.state&&"origin"===n.state&&ht(),this.correctImgHolder(),xt.tellNativeImagesPosition(),"function"==typeof o&&(console.info("frameCallback",o),o(),n.frameCallback=null),n.removeAnimation&&(n.removeAnimation=!1,s.classList.remove("animation")),s.classList.contains("no-transition")&&setTimeout((function(){return s.classList.remove("no-transition")}),100),this.loaded=!0,this.sendLoadTime())},t.prototype.onError=function(e){var t=e.target,n=t.src,r=this.params.tHrefurl,o=0;if(n&&n.indexOf("file://")>-1&&r){var i=decodeURIComponent(r.substr(4));t.src=i.replace(/(\.webp|\.heic)/,""),o=1,/(\.webp|\.heic|\.awebp)/.test(i)&&(o=4)}else n&&n.indexOf("http")>-1&&(o=2);M.statistics.sendUmengEventV3("article_detail_local_image_fail",{error_type:o})},t}(vt),Ot=(function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}h()(t,e),t.prototype.buildGetImageSource=function(){var e=this.params,t=this.setting;return t.urlPrefix+"getimage/"+e.state+"/"+e.zsp+"/"+t.groupId+"/"+e.index},t.prototype.buildImageSource=function(){var e=this.params;return this.setting.urlPrefix+"image/"+e.state+"/"+e.zsp},t.prototype.getLoadUrl=function(e){var t,n,r,o=this.params;return window.receivedEmptyExtra||o.downloadFail?(t=o.href,n=/url=(\S+)&/,(r=t.match(n))?decodeURIComponent(r[0].replace(n,"$1")):t):e?this.buildImageSource():this.buildGetImageSource()},t.prototype.loadImage=function(e){var t=this.params,n=this.getLoadUrl(e);!n||t.lastUrl&&t.lastUrl===n?this.params.url=n:(console.info("URL_NOT_EQUAL",t.lastUrl,n),this.params.url=this.params.lastUrl=n),this.params.imgDOM.src=n,e||(this.startLoadTime=Date.now())},t.prototype.onLoad=function(){console.info("[this.onLoad]",this);var e=this.params,t=e.imgDOM,n=e.holder,r=t.naturalWidth*t.naturalHeight,o=Math.abs(e.bigArea-r),i=Math.abs(e.smallArea-r);e.width=t.naturalWidth,e.height=t.naturalHeight,o>i?e.state="thumb":(e.state="origin",t.onload=null),"origin"!==this.setting.state&&"origin"===e.state&&ht(),this.correctImgHolder("natural"),t.classList.remove("opacity-zero"),n.classList.remove("animation"),n.classList.contains("no-transition")&&setTimeout((function(){return n.classList.remove("no-transition")}),100),this.sendLoadTime(),this.loadResultLog(!0)},t.prototype.onError=function(e){var t=e.target;t.classList.add("opacity-zero"),/getimage/.test(t.src)||(this.params.downloadFail=!0,this.loadImage(!0),M.statistics.sendUmengEventV3("load_image_error",{source:"detail_web",uri:t.src,err_msg:"Image load error (Android)"}),this.loadResultLog(!1))}}(vt),Tt),Ct=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t}(Ot),kt=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.fragmentAppendCarTipDOM=function(e){if(!e)return null;var t=document.createElement("i");t.setAttribute("class","image-subscript gif-subscript"),t.innerText="GIF",e.appendChild(t)},t.prototype.loadedImageSource=function(e){console.info("loadedImageSource",e);var t=this.params,n=t.width,r=t.height;if(Et(e)){var o=t.holder;t.nativePlayGifLoaded=!0,t.width=n,t.height=r,this.params=ft(t,e),o.innerHTML="",this.correctImgHolder(),ht(),xt.tellNativeImagesPosition()}else!function(e){return"thumb"===e.state&&""!==e.url}(e)&&bt?(t.notTellNativePosition=e.width,t.frameCallback=e.height,this.params=ft(t,e),this.appendImgToHolder()):(this.params=ft(t,e),this.appendImgToHolder());t.updateBackPos&&Et(e)&&(!function(e){console.info("[updateCarouselBackPosition]");var t=e.holder.getBoundingClientRect();U.a.invoke("updateCarouselBackPosition",{index:e.index,left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)},(function(){}))}(t),t.updateBackPos=!1)},t}(Ot),Nt=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.fragmentAppendCarTipDOM=function(){},t}(Ot),It=new(function(){function e(){u()(this,e),this.setting={},this.images=[],this.hrefArr={},this.onNativeImageLoaded=this.onNativeImageLoaded.bind(this)}return e.prototype.getSetting=function(e){var t=D(),n=Ee("pageSettings")||{},r=Ee("h5_settings")||{},o=Ee("statistics")||{},i=Ee("ttImageList");return{aW:t.width-30,iH:t.height,urlPrefix:n.url_prefix||"",state:n.image_type||"",isLazyLoad:n.use_lazyload||e.length>10,useNativePlayGif:r.is_use_native_play_gif,groupId:o.group_id,ttImageList:i}},e.prototype.initImages=function(e){var t=this.setting,n=this.hrefArr={};return xt.gifArr=[],e.map((function(e,r){var o=e.getAttribute("type")||"",i=+e.getAttribute("width")||0,a=+e.getAttribute("height")||0,s=+e.getAttribute("thumb_width")||0,c=+e.getAttribute("thumb_height")||0,l=e.getAttribute("zip_src_path")||"",u=e.getAttribute("href")||"",d=u.match(wt);d&&(d=d[0],n[d]?n[d].push(r):n[d]=[r]);var p={index:r,holder:e,url:"",state:t.state,lastUrl:"",zsp:l,href:u,tHrefurl:d||"",link:e.getAttribute("redirect-link")||"",isGIF:"gif"===o||"2"===o,isLONG:i>3*a||a>3*i,bigArea:i*a,smallArea:s*c,carTipData:null,stockTipData:null,stockTrendTipData:null,nativePlayGifLoaded:!1,notTellNativePosition:!1,frameCallback:null};if(e.classList.add("no-transition"),/origin|none/.test(p.state)||t.ttImageList&&t.ttImageList[r]&&t.ttImageList[r].large_cached?(p.width=i,p.height=a):(p.width=s,p.height=c),t.ttImageList)return e.innerHTML="",new yt(t,p);if(p.isGIF){var f=new kt(t,p);return xt.gifArr.push(f),f}return i>3*a||a>3*i?new Nt(t,p):new Ct(t,p)}))},e.prototype.onNativeImageLoadedByIOS=function(e,t,n,r,o){console.info("onNativeImageLoaded",arguments);var i=this.images,a=this.hrefArr;if(i[e]){var s=i[e],c=s.params,l=c.tHrefurl,u={};if(u.url=t,u.state=n,u.width=r,u.height=o,Et(u)&&!s.params.isGIF){var d=decodeURIComponent(l.substr(4));u.url=d.replace(/\.awebp/,""),M.statistics.sendUmengEventV3("article_detail_recognized_gif_fail",{href:u.url,group_id:Ee("statistics").group_id||""})}if(l&&a[l]&&a[l].length>1){var p=a[l],f=!1;for(var h in p){var m=p[h];console.info(h,p,m,"targetHrefArr"),i[m].loadedImageSource(u),e==m&&(f=!0)}f||s.loadedImageSource(u)}else s.loadedImageSource(u)}},e.prototype.onNativeImageLoadedByAndroid=function(e,t,n){console.info("[onNativeImageLoaded]",arguments);var r=this.images[e];if(r){if(!t)return r.params.downloadFail=!0,r.loadImage(!0),M.statistics.sendUmengEventV3("load_image_error",{source:"detail_web",uri:r.params.url,err_msg:"Image download error. (android, isOk="+t+", isLarge="+n+")"}),void r.loadResultLog(!1);r.params.state=n?"origin":"thumb",r.loadImage(!0)}},e.prototype.onNativeImageLoaded=function(){this.onNativeImageLoadedByIOS.apply(this,arguments)},e.prototype.getImprId=function(e){var t="";if("[object String]"===Object.prototype.toString.call(e))try{t=JSON.parse(e).impr_id}catch(e){}else"[object Object]"===Object.prototype.toString.call(e)&&(t=e.impr_id||"");return t},e.prototype.skipToAutoScript=function(e){console.info("[skipToAutoScript]");var t=this.setting;M.statistics.sendUmengEvent("detail","pic_card_click",{value:+t.groupId}),M.statistics.sendUmengEventV3("web_clk_event",{obj_id:"page_detail_pic_tag",group_id:Ee("statistics").group_id||"",smallapp_abtest:e.dataset.smallapp_abtest,sapp_sdk_enable:e.dataset.sapp_sdk_enable});var n=encodeURIComponent(a()({media_id:Ee("author").mediaId||"",item_id:Ee("statistics").item_id||"",category_name:Ee("statistics").category_name||"",log_pb:Ee("statistics").log_pb||"",present_start:Date.now(),group_id:Ee("statistics").group_id||""})),r={is_motor:1,enter_from:"click_motor_series",parent_enterfrom:"click_motor_series",parent_imprid:this.getImprId(Ee("statistics").log_pb),parent_gid:Ee("statistics").group_id||""};M.statistics.sendUmengEventV3("click_nextgroup_detail",{obj_id:"detail_scard_n_consultation_gotoCar",item_id:Ee("statistics").item_id||"",enter_from:Ee("statistics").enter_from||"",category_name:Ee("statistics").category_name||"",log_pb:Ee("statistics").log_pb||"",bookshelf_type:"motor",group_id:Ee("statistics").group_id||""});var o=e.dataset.href;/sslocal:\/\/webview/.test(o)?(o=o.replace("log_extra_placeholder%3D","log_extra%3D"+n),o+="&gd_ext_json="+encodeURIComponent(a()(r))):/sslocal:\/\/[acimopr]{8}/.test(o)&&(o=o.replace("log_extra_placeholder%3D","log_extra%3D"+n),o+="&extra="+encodeURIComponent(a()({event_extra:r}))),location.href=o},e.prototype.addShowAllOriginImgBtn=function(e){if(!(e.length<1)){var t=this.setting,n=t.state,r=e[0].params.holder;if("origin"!==n){var o=document.createElement("div");o.innerHTML='<div class="toggle-img" id="toggle-img">显示所有大图</div>',De("click",".toggle-img"),Ae("click",".toggle-img",(function(){t.ttImageList?e.forEach((function(e){e.params.state="origin",e.loadImage()})):(e.forEach((function(e){e.params.state="origin",e.loadImage()})),M.statistics.sendBytedanceRequest("toggle_image")),this.style.visibility="hidden"})),r.parentNode.insertBefore(o,r)}}},e.prototype.tapEventHandler=function(e){console.info("[tapEventHandler]",e);var t=this.setting,n=e.params||{},r=n.holder;if(r.classList.contains("error"))e.loadImage();else{if(n.stockTipData&&M.statistics.sendUmengEventV3("news_kline_chart_click",{group_id:t.groupId,code:n.stockTipData.stockId}),M.statistics.sendUmengEventV3("click_picture",{group_id:Ee("statistics").group_id||"",enter_from:Ee("statistics").enter_from||"",category_name:Ee("statistics").category_name||""}),n.link.indexOf("sslocal")>-1)return location.href=n.link,!1;if(/^http(s)?:\/\//i.test(n.href))return location.href=n.href,!1;if(e.isNativeImage&&/thumb|none/.test(n.state)){if(e.isLoading)return;return e.params.state="origin",void e.loadImage()}if(function(e){return"origin"!==e.state&&!e.isGIF}(n))r.classList.add("animation"),n.hasTap=!0,e.params.state="origin",e.loadImage();else{var i=n.holder.getBoundingClientRect(),a={index:+n.index,left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)},s=(l=a,o()(l).reduce((function(e,t){return e+"&"+t+"="+l[t]}),"").substr(1));n.updateBackPos=!0;var c="full_image?"+s;M.statistics.sendBytedanceRequest(c),"origin"!==n.state&&(e.params.state="origin",e.loadImage()),e.loaded||e._isLoading||(e.params.state="origin",e.loadImage())}var l}},e.prototype.bindAllEvt=function(e){var t=this;De("click","a.image"),Ae("click","a.image",(function(n){var r=n.target,o=n.currentTarget,i=parseInt(o.getAttribute("index"),10),a=e[i];n.preventDefault();var s,c,l,u=pt(r,".stock-trend-img");if(u)return c=(s=u).dataset.href,l=s.dataset.stockCode,M.statistics.sendUmengEventV3("news_trend_banner_click",{code:l,group_id:Ee("statistics").group_id}),void(c&&(window.location.href=c));var d=pt(r,".autoscript");d?t.skipToAutoScript(d):t.tapEventHandler(a)})),De("click","a.pgc-img-stock-caption"),Ae("click","a.pgc-img-stock-caption",(function(e){var t=e.currentTarget;M.statistics.sendUmengEventV3("news_kline_charact_click",{group_id:t.dataset.gid,code:t.dataset.stockId})}))},e.prototype.initImageProcess=function(){console.info("[IOSImage init]");var e=R(document,"a.image");if(!e.length)return null;this.setting=this.getSetting(e),this.images=this.initImages(e);var t=this.setting.ttImageList;t&&this.images.length&&M.statistics.sendUmengEventV3("article_detail_nc_image",{err_type:"insert_all",group_id:Ee("statistics").group_id||"",image_num:+this.images.length}),G.imgArr=this.images,G.hrefArr=this.hrefArr,G.gifArr=xt.gifArr,xt.setUseNativePlayGif(this.setting.useNativePlayGif),G.gifArr.length<1&&xt.setUseNativePlayGif(!1),"none"===this.setting.state&&t?this.images.forEach((function(e,n){t[n]&&t[n].large_cached&&(e.params.state="origin",e.loadImage())})):this.setting.isLazyLoad?ut():this.images.forEach((function(e){e.loadImage()})),t&&t.every((function(e){return e.large_cached}))||this.addShowAllOriginImgBtn(this.images),this.bindAllEvt(this.images)},e.prototype.fetchOneImage=function(e){for(var t=0,n=this.images.length;t<n;t++)this.images[t].params.index===e&&(this.images[t].params.state="origin",this.images[t].loadImage())},e.prototype.addCarTipDOM=function(e){var t=this.images;if(console.info("[addCarTipDOM]"),"object"===(void 0===e?"undefined":I()(e))&&Array.isArray(t)){var n=t.length;for(var r in e){var o=+r;o<n&&t[o]&&(t[o].params.carTipData=e[r],t[o].fragmentAppendCarTipDOM())}}},e.prototype.addStockTipDOM=function(e){console.info("[addStockTipDOM]",e);var t=this.images;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){console.info(e)}"object"===(void 0===e?"undefined":I()(e))&&Array.isArray(t)&&t.forEach((function(n,r){var o=pt(n.params.holder,".stock");if(o){var i=o.dataset.content;try{i=JSON.parse(i)}catch(e){i={}}if(i.stock_id)for(var a in e)a==i.stock_id&&(t[r].params.stockTipData=e[a]||{},t[r].params.stockTipData.stockId=a,t[r].fragmentAppendStockTipDOM())}}))},e.prototype.addStockTrendTipDOM=function(e){var t=this.images;if("object"===(void 0===e?"undefined":I()(e))&&Array.isArray(t))for(var n in e){var r=t[n],o=e[n];r&&!_t(o)&&(r.params.stockTrendTipData=o,r.fragmentAppendStockTrendTipDOM())}},e.prototype.resizeImage=function(e){var t=this.images;this.setting.aW=e;for(var n=0;n<t.length;n++)t[n].correctImgHolder()},e}());window.appendLocalImage=It.onNativeImageLoaded;n(258);var At=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={list:[],more:null,scrolling:!0},r.followSource={pgc_sug:34,pgc_sug_supplement:133,wenda_sug:71,wenda_sug_supplement:138},r.followFrom={pgc:"article_detail",wenda:"answer_detail_top_card"},r.baseWidth=150,r.cardsCount=0,r.totalNums=0,r.containerWidth=window.innerWidth,r.listWidth=0,r.imprcache={},r.imprlog=[],r.lastIndex=[],r.lastPos="in",r.lastMoreCellPos="out",r.source="pgc"===n.article.type?"article":"wenda",r.sendResult={imp_group_list_type:19,imp_group_key_name:"u11_recommend_user_"+r.source+"_detail_"+n.author.userId,imp_group_key:n.author.userId,imp_group_extra:{source:r.source,profile_user_id:n.author.userId},impressions_in:[],impressions_out:[]},r._pagescroll=r._pagescroll.bind(r),r}return h()(t,e),t.prototype.on=function(e,t,n){e&&e.addEventListener?e.addEventListener(t,n,!1):e&&e.attachEvent&&e.attachEvent("on"+t,(function(t){n.call(e,t||window.event)}))},t.prototype.off=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},t.prototype._updateList=function(e,t){var n=this.state.list;if(t)this._dealimpr([parseInt(e)],[]),n[e]=t,this.setState({list:n}),this._dealimpr([],[parseInt(e)]);else{this._dealimpr([parseInt(e)],[]),this.lastIndex.indexOf(e)>-1&&this.lastIndex.splice(this.lastIndex.length-1,1),n.splice(parseInt(e),1);var r=this.state.list.length,o=150*r+10+15+150;e==r&&o-150>window.innerWidth?$("#mediasug-list-html").css({textAlign:"right",width:o}):$("#mediasug-list-html").css({textAlign:"left",width:o}),this.setState({list:n}),this._handler()}},t.prototype._range=function(e){var t=Math.floor(e/this.baseWidth);t=Math.max(t,0),e+=this.containerWidth;var n=Math.ceil(e/this.baseWidth);n=Math.min(n,this.state.list.length)-1;for(var r=[];t<=n;)r[r.length]=t++;return r},t.prototype._pushimpr=function(e){this.sendResult.impressions_in=[];var t=this.props.profileId;if(o()(this.imprcache).length>0){for(var n in this.sendResult.impressions_out=[],this.imprcache){var r=this.imprcache[n];this.imprlog.push({uid:n,time:r,duration:(new Date).getTime()-r}),console.info("leave",n),this.sendResult.impressions_out.push({imp_item_type:51,imp_item_id:n,imp_item_extra:{}})}this.imprcache={},e&&U.a.invoke("impression",this.sendResult)}console.info("pushimpr",this.imprlog),this.imprlog.length>0&&(M.statistics.sendUmengEvent("detail","sub_reco_impression_v2",{value:t,extra:{group_id:this.props.groupId,impression:M.client.isIOS?encodeURIComponent(a()(this.imprlog)):this.imprlog,need_decode:M.client.isIOS?1:0,source:this.source}}),this.imprlog=[])},t.prototype._dealimpr=function(e,t){var n=this,r=[],o=this.state.list;if(e.forEach((function(e){var t=o[e].user_id;if(t in n.imprcache){var i=n.imprcache[t];n.imprlog.push({uid:t,time:i,duration:(new Date).getTime()-i}),delete n.imprcache[t],n.sendResult.impressions_in=n.sendResult.impressions_in.filter((function(e){return e.imp_item_id!==t})),r.push({imp_item_type:51,imp_item_id:t,imp_item_extra:{}}),console.info("leave",t)}})),t.forEach((function(e){var t=o[e].user_id;n.imprcache[t]=(new Date).getTime(),n.sendResult.impressions_in.push({imp_item_type:51,imp_item_id:t,imp_item_extra:{}}),console.info("enter",t)})),e.length>0||t.length>0){n.sendResult.impressions_out=r;var i={};ie()(i,n.sendResult),U.a.invoke("impression",i)}},t.prototype._moreCellShowHandler=function(e,t){if(t>this.listWidth-this.containerWidth-this.baseWidth||!t){var n=this.props,r=n.statistic,o=n.wendaExtra;(t&&"out"===this.lastMoreCellPos||e&&e.reopen&&"in"===this.lastMoreCellPos)&&(M.statistics.sendUmengEventV3("followcard_more_button",{action_type:"show",category_name:"article"==this.source?r.category_name:o&&o.gd_ext_json?o.gd_ext_json.category_name:"",source:"detail_follow_card",server_extra:this.state.more.server_extra}),this.lastMoreCellPos="in")}else this.lastMoreCellPos="out"},t.prototype._handler=function(e){for(var t=this._range(this.listDom.scrollLeft||0),n=[],r={},i=0;i<this.lastIndex.length;i++)r[this.lastIndex[i]]=!0;for(i=0;i<t.length;i++)t[i]in r?delete r[t[i]]:n.push(t[i]);var a=o()(r);this._dealimpr.bind(this)(a,n),this.lastIndex=t,this.state.more&&this._moreCellShowHandler({reopen:!1},this.listDom.scrollLeft)},t.prototype._pagescroll=function(e){var t="in",n=this.listDom.getBoundingClientRect();(n.bottom<=0||n.top>(window.innerHeight||document.body.clientHeight))&&(t="out"),"in"===t&&"out"===this.lastPos?this._dealimpr([],this.lastIndex):"out"===t&&"in"===this.lastPos&&this._pushimpr(!0),this.lastPos=t},t.prototype._webviewScroll=function(e){if("open"===this.props.sugstate&&e.rect&&!(document.querySelector("body").clientHeight>innerHeight+232)){var t,n,r=document.querySelector("body").clientHeight,o=document.querySelector("header").clientHeight,i=void 0;if((n=e.rect.substring(1,e.rect.length-1).split(","))[0],t=Math.abs(n[1]),n[2],n[3],r===innerHeight)i=t>=o?"out":"in";else i=t>=o-(r-innerHeight)?"out":"in";"out"===this.lastPos&&"in"===i?this._dealimpr([],this.lastIndex):"in"===this.lastPos&&"out"===i&&this._pushimpr(!0),this.lastPos=i}},t.prototype.enableSwipeState=function(e){console.log("bytedance://enable_swipe")},t.prototype.disableSwipeState=function(){console.log("bytedance://disable_swipe")},t.prototype.handleSupplement=function(e,t){var n=this;ot((function(r){var o={count:1,source:"wenda"===n.props.article.type?"wenda_detail_refresh":"article_detail_refresh",follow_user_id:e.user_id};o=Object(M.extend)(!0,o,r),Qe("https://api.snssdk.com/user/relation/user_recommend/v1/supplement_cards/",{param:o},(function(r,o){if("success"===o.message&&"object"===I()(o.data)&&Array.isArray(o.data.user_cards)){var i=o.data.user_cards[0],a=i.user.info;if((a=Object(M.extend)(!0,a,i.user.relation)).reason_description=i.recommend_reason,a.profile_user_id=i.profile_user_id,a.server_extra=i.stats_place_holder,a.user_verified=!0,a.user_auth_info&&"string"==typeof a.user_auth_info)try{a.user_auth_info=JSON.parse(a.user_auth_info)}catch(e){a.user_auth_info={}}if(a.user_decoration&&"string"==typeof a.user_decoration)try{a.user_decoration=JSON.parse(a.user_decoration)}catch(e){a.user_decoration={}}a.is_supplement=!0,n._updateList(t,a),M.statistics.sendUmengEventV3("follow_card",{action_type:"show",category_name:n.props.statistic.category_name,is_direct:0,source:"detail_follow_card_related",to_user_id:e.user_id,order:t,style_type:2,server_extra:i.stats_place_holder})}}),(function(e){}))}))},t.prototype.followActionHandler=function(e,t){var n=this,r=n.state.list;r.forEach((function(e){t.user_id===e.user_id&&(e.followDisabled=1)})),n.setState({list:r});var o=this.props,i=o.article,a=o.statistic,s=o.author,c=t.is_following,l=t.is_supplement,u={id:t.user_id,action:c?"unfollow":"dofollow",source:this.followSource[i.type+"sug"],from:this.followFrom[i.type]},d={source:l?"detail_follow_card_related":"detail_follow_card",to_user_id:t.user_id,order:e,profile_user_id:t.profile_user_id,follow_type:"from_recommend",category_name:a.category_name,server_source:this.followSource[i.type+"_sug"+(l?"_supplement":"")],server_extra:t.server_extra,enter_from:a.enter_from};"pgc"==i.type&&s.mediaId&&(d.media_id=s.mediaId),document.querySelector("native-video")&&d.source,U.a.invoke("user_follow_action",u,(function(e){if(1==e.code){var r=n.state.list;r.forEach((function(e){t.user_id===e.user_id&&(e.is_following=c?0:1,e.followDisabled=0)})),n.setState({list:r})}}));var p=n.state.list;p[e].need_supplement=!0,n.setState({list:p}),M.statistics.sendUmengEventV3(c?"rt_unfollow":"rt_follow",d)},t.prototype.deleteItem=function(e){this._updateList(e)},t.prototype.domPrepare=function(){var e=this,t=document.querySelector(".mediasug-outer-container"),n=document.querySelector(".mediasug-inner-container");t&&n&&t.addEventListener("transitionend",(function(t){xt.ended(),e.setState({scrolling:"open"===e.props.sugState}),e._handler()}),!1)},t.prototype.componentDidMount=function(){var e=this;e.on(document.querySelector("#mediasug-list"),"touchstart",e.disableSwipeState),e.on(document.querySelector("#mediasug-list"),"touchmove",e.disableSwipeState),e.on(document.querySelector("#mediasug-list"),"touchend",e.enableSwipeState),e.on(document.querySelector("#mediasug-list"),"touchcancel",e.enableSwipeState),e.on(document.querySelector("#mediasug-list"),"scroll",Object(M.throttle)(e._handler.bind(e),150)),ze.on("pageStateChange",(function(t){if("user_action"===t.type){var n=e.state.list;n.forEach((function(n,r){n.user_id==t.id&&(n.is_following=!!t.status,n.followDisabled=0,n.is_following&&n.need_supplement&&(n.need_supplement=!1,n.from_supplement=!1,e.handleSupplement(n,r)))})),e.setState({list:n})}}))},t.prototype.componentWillUnmount=function(){this.off(document,"scroll",this._pagescroll),this._pushimpr(!0),ze.off("pageStateChange"),this.off(document.querySelector("#mediasug-list"),"scroll",Object(M.throttle)(this._handler.bind(this),150))},t.prototype.componentDidUpdate=function(e){this.listWidth=this.baseWidth*this.state.list.length+25;var t=this.props.sugState;"open"===t&&"open"!==e.sugState?(this.lastIndex=[],this._handler(),this.on(document,"scroll",this._pagescroll),U.a.on("webviewScrollEvent",this._webviewScroll.bind(this))):"no"!==t&&"close"!==t||(console.info("SUG-HIDE"),this.off(document,"scroll",this._pagescroll),this._pushimpr(!0))},t.prototype.componentWillReceiveProps=function(e){if(e.init&&!this.props.init&&0===this.state.list.length){var t=this;ot((function(e){var n=Object(M.extend)(!0,{to_user_id:t.props.author.userId,page:34,source:"wenda"===t.props.article.type?"wenda_detail":"article_detail",group_id:t.props.statistic.group_id},e);Qe("http://ic.snssdk.com/api/2/relation/follow_recommends/",{param:n,timeout:1e4},(function(e,n){"success"===n.message&&"object"===I()(n.data)&&Array.isArray(n.data.recommend_users)&&n.data.recommend_users.length>=3&&(n.data.add_more.server_extra=n.data.recommend_users[0].stats_place_holder,n.data.recommend_users.forEach((function(e){if(e.user_auth_info&&"string"==typeof e.user_auth_info)try{e.user_auth_info=JSON.parse(e.user_auth_info)}catch(t){e.user_auth_info={}}if(e.user_decoration&&"string"==typeof e.user_decoration)try{e.user_decoration=JSON.parse(e.user_decoration)}catch(t){e.user_decoration={}}e.profile_user_id=t.props.author.userId,e.server_extra=e.stats_place_holder})),t.domPrepare(),t.setState({list:n.data.recommend_users,more:n.data.add_more}),t.props.updateSugstate("ready"))}),(function(e){console.warn("mediasug",e)}))}))}},t.prototype.render=function(){var e=this,t=this.state,n=t.list,r=t.more,o=150*n.length+10+15+(r?150:0),i=n.length>0||r?"ms-open":"",a="open"!==this.props.sugState&&"close"!==this.props.sugState;return g.a.createElement("div",{className:"mediasug-outer-container "+this.props.sugState+" "+i},g.a.createElement("div",{className:"mediasug-inner-container"},g.a.createElement("div",{className:"ms-pointer"}),g.a.createElement("div",{className:"ms-title","aria-hidden":a},"相关推荐"),g.a.createElement("div",{className:"ms-list"+(this.state.scrolling?"":" no-scrolling"),id:"mediasug-list",ref:function(t){e.listDom=t},onTouchStart:this.disableSwipeState,onTouchMove:this.disableSwipeState,onTouchEnd:this.enableSwipeState,onTouchCancel:this.enableSwipeState,onScroll:Object(M.throttle)(this._handler.bind(this),150)},g.a.createElement("div",{className:"ms-list-scroller",id:"mediasug-list-html",style:{width:o}},n.map((function(t,n){return g.a.createElement(it,{item:t,key:n,index:n,followAction:e.followActionHandler.bind(e,n),articleType:e.props.articleType,profileId:e.props.profileId,useServerV:e.props.useServerV,setting:e.props.setting,statistic:e.props.statistic,deleteItem:e.deleteItem.bind(e)})})),r?g.a.createElement(at,c()({},r,{statistic:this.props.statistic})):null))))},t}(g.a.Component),Dt=(n(259),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={followState:n.author.followState,mediasugInit:!1,sugstate:"no",followDisabled:!1},r.mediasugState=null,r.executing_target_state=null,r.follow_async_timer=null,r.followSource={pgc:30,pgc_sug:34,pgc_sug_supplement:133,wenda:28,wenda_sug:71,wenda_sug_supplement:138},r.followSyncFunc=r.followSyncFunc.bind(r),r.shouldShowMediasug=!document.querySelector(".custom-video")||Ee("videoNativeEnable"),r}return h()(t,e),t.prototype.followSyncFunc=function(e){console.info("followSyncFunc",e),this.executing_target_state=void 0;var t=this;"following"==e?"ready"==this.state.sugstate?xt.willStart((function(){t.setState({followState:e,sugstate:"open",followDisabled:!1})})):this.setState({followState:e,followDisabled:!1}):"open"==this.state.sugstate?xt.willStart((function(){t.setState({followState:e,sugstate:"no",followDisabled:!1})})):this.setState({followState:e,sugstate:"no",followDisabled:!1})},t.prototype.updateFollowState=function(e,t){this.setState({updateFollowStateFromUserAction:!0}),e!=this.executing_target_state&&(clearTimeout(this.follow_async_timer),this.executing_target_state=e,this.async_timer=setTimeout(this.followSyncFunc,450,e)),console.info("updateFollowState",e,t)},t.prototype.initMediasugState=function(){this.props.hasExtraSpace&&this.shouldShowMediasug&&"ready"==this.mediasugState?this.setState({mediasugInit:!0,sugstate:"ready"}):this.props.hasExtraSpace&&this.shouldShowMediasug&&this.setState({mediasugInit:!0})},t.prototype.updateSugstate=function(e){var t=this;"ready"==e?(this.mediasugState="ready","following"===t.state.followState?xt.willStart((function(){t.setState({sugstate:"open"})})):t.setState({sugstate:e})):"close"!==t.state.sugstate&&"open"!==t.state.sugstate||xt.willStart((function(){t.setState({sugstate:"close"===t.state.sugstate?"open":"close"})}))},t.prototype.updateButtonDisabledState=function(e){this.setState({followDisabled:e,updateFollowStateFromUserAction:!0})},t.getDerivedStateFromProps=function(e,t){if(e.wendaContext&&(void 0!==e.wendaContext.is_following||null!=e.wendaContext.is_concern_user)&&!t.followStateFromWendaContext){var n=void 0;return null!=e.wendaContext.is_concern_user&&(n=e.wendaContext.is_concern_user?"following":""),null!=e.wendaContext.is_following&&(n=e.wendaContext.is_following?"following":""),{followState:n,followStateFromWendaContext:!0}}return t.updateFollowStateFromUserAction||t.followStateFromWendaContext?{followState:t.followState}:{followState:e.author.followState}},t.prototype.render=function(){var e=this.props,t=e.author,n=e.useServerV,r=e.article,o=e.setting,i=e.statistic,a=e.hasExtraSpace,s=e.wendaContext,l=a&&this.shouldShowMediasug,u="wenda"===e.article.type;return t.link="sslocal://profile?refer=all&uid="+t.userId+"&from_page=detail","zhuanma"===e.article.type?t.show?g.a.createElement("div",{className:"zhuanma-wrapper"},g.a.createElement("span",{className:"zm-time"},e.article.publishTime),g.a.createElement("span",{className:"zm-author"},e.author.name)):null:(console.info("author",e),g.a.createElement(v.Fragment,null,g.a.createElement("div",{className:u?"authorbar wenda":"authorbar",id:"profile",sugstate:this.state.sugstate},g.a.createElement(Be,{authorInfo:t,useServerV:n,articleType:r.type,setting:o,statistic:i}),t.isAuthorSelf||"wenda"===e.article.type&&e.setting.is_liteapp||e.hideFollowButton?"":g.a.createElement(Xe,c()({},e,{followState:this.state.followState,sugState:this.state.sugstate,followDisabled:this.state.followDisabled,updateFollowState:this.updateFollowState.bind(this),updateSugstate:this.updateSugstate.bind(this),updateFollowDisabledState:this.updateButtonDisabledState.bind(this),initMediasugState:this.initMediasugState.bind(this),followButtonStyle:e.wendaExtra?e.wendaExtra.headerFollowButtonStyle:""})),s&&s.is_author&&"wenda"===r.type?g.a.createElement(Je,e):"",g.a.createElement(Ke,{authorInfo:t,article:r,setting:o})),l?g.a.createElement(At,c()({},e,{followState:this.state.followState,init:this.state.mediasugInit,sugState:this.state.sugstate,updateSugstate:this.updateSugstate.bind(this)})):null,"wenda"===e.article.type&&e.article.showArticleTopTag?g.a.createElement(He,{link:r.tagServerLink,type:r.tagType,tagSetting:o.article_tag_type,position:"after-author",statistic:i,articleType:r.type}):null))},t}(g.a.Component)),Rt=function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.tellNativeHeaderMess=function(){[{domSelector:"#profile",JsBridge:"showTitleBarPgcLayout"}].forEach((function(e,t){ee("header",e)}))},t.prototype.componentDidMount=function(){var e=this.props.data;if(e&&e.article&&"wenda"===e.article.type){var t=0,n=Object(y.findDOMNode)(this._author);n&&(t=n.getBoundingClientRect().height+20+0),U.a.invoke("onGetHeaderAndProfilePosition",{header_position:0,profile_position:t})}M.client.isAndroid&&this.tellNativeHeaderMess()},t.prototype.render=function(){var e=this,t=this.props.data;return t&&t.article&&t.article.type?g.a.createElement("div",{id:"header"},g.a.createElement(Fe,c()({},t,{ref:function(t){e._title=t}})),g.a.createElement(Dt,c()({},t,{ref:function(t){e._author=t}}))):null},t}(g.a.Component),Lt=(n(260),function(e){var t=e.parentNode,n=document.createElement("div");return t.insertBefore(n,e),n.appendChild(e),n}),Pt=function(){var e=document.querySelectorAll("table");(e=Array.prototype.slice.call(e)).forEach((function(e){e.classList.add("border");var t=Lt(e),n=void 0;t.className="table-wrap horizontal_scroll",setTimeout((function(){e.clientWidth>D().width-30&&(n=document.createElement("div"),t.appendChild(n),n.innerHTML="左滑查看更多",n.className="swipe_tip",t.addEventListener("touchstart",(function(){n.style.opacity=0})),t.addEventListener("touchend",(function(e){var t=e.currentTarget;console.info(t.scrollLeft),t.scrollLeft<=0&&(n.style.opacity=1)})))}),200)}))},Mt=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.videoData=r.getVideoData(),r.state={playStates:r.videoData.map((function(){return 0}))},r}return h()(t,e),t.prototype.componentDidMount=function(){var e=this;ze.on("pageDisappear",this.onPageDisappear),this.videoData.map((function(t,n){var r=t.videoDom.querySelector("native-video");r.addEventListener("play",(function(t){var r=e.state.playStates;r[n]=1,e.setState({playStates:[].concat(r)})})),r.addEventListener("ended",(function(t){var r=e.state.playStates;r[n]=0,e.setState({playStates:[].concat(r)})})),r.addEventListener("posterLoad",(function(e){var n=Ee("isTop",!1),r=Ee("statistics").group_id,o=e.detail,i=(void 0===o?{}:o).params;0!==(i=void 0===i?{}:i).code&&n&&M.statistics.sendBytedanceRequest("app_monitor?event=tt_sticky_article_error&params="+encodeURIComponent(a()({type:"fe_posterload_fail",image_url:t.poster,group_id:r})))}))}))},t.prototype.componentWillUnmount=function(){ze.off("pageDisappear",this.onPageDisappear)},t.prototype.adjustmentSizeByPoster=function(e,t,n){var r=document.createElement("img");r.onload=function(){var e=r.naturalWidth,o=r.naturalHeight,i=o/e;n&&o>e?i=1.36:i&&i>.75&&(i=.75),t.style.height=parseInt(t.clientWidth*i,10)+"px"},r.src=e},t.prototype.onPageDisappear=function(){R(document,"native-video").forEach((function(e){return e.pause()}))},t.prototype.getVideoData=function(){var e=this,t=R(document,".custom-video"),n=Ee("wenda_extra");function r(e){var t=n.gd_ext_json||{},r={value:n.ansid,extra:c()({position:"detail",video_id:e.vid,enter_from:n.enter_from||"",value:n.ansid,ansid:n.ansid,qid:n.qid,parent_enterfrom:n.parent_enterfrom||""},t)};return delete r.extra.log_pb,r.extra=de({},r.extra,t.log_pb),r}return t.map((function(t,o){var i=t.dataset||{},a=parseInt(i.width,10),s=parseInt(i.height,10),c={videoDom:t,vid:i.vid,poster:i.poster,objectFit:"contain"};a&&s&&s>a&&(c.vertical=1,n&&(c.objectFit="cover"));var l=a&&s?s/a:0;if(n&&s>a?l=1.36:l&&l>.75&&(l=.75),function(e,t,n){e.style.height=parseInt(e.clientWidth*t,10)+"px",e.id="video"+n,e.style.backgroundColor="#000"}(t,l,o),i.wendaSource&&n){c.duration=M.fmt.formatDuration(i.duration);var u=n.gd_ext_json||{};ee("show",{domSelector:"#video"+o,tag:"video_show",label:"click_"+u.category_name,params:r(i),isTotallyShown:!0})}return n&&(c.dataExtra={log_pb:n.gd_ext_json&&n.gd_ext_json.log_pb?n.gd_ext_json.log_pb:"",group_source:10,group_id:Ee("statistics").group_id,video_id:c.vid,category_id:n.gd_ext_json&&n.gd_ext_json.category_name?n.gd_ext_json.category_name:"question_and_answer",category_name:n.gd_ext_json&&n.gd_ext_json.category_name?n.gd_ext_json.category_name:"question_and_answer",qid:n.qid,ansid:n.ansid,value:n.ansid,enter_from:n.enter_from||"",position:"detail",parent_enterfrom:n.parent_enterfrom||"",article_type:n.article_type||n.gd_ext_json?n.gd_ext_json.article_type:""}),a&&s||e.adjustmentSizeByPoster(i.poster,t,!!n),c}))},t.prototype.render=function(){var e=this;return this.videoData.length?this.videoData.map((function(t,n){var r=e.state.playStates,o=t.vid,i=t.vertical,a=t.poster,s=t.dataExtra,c=t.videoDom,l=t.duration,u=t.objectFit;return g.a.createElement(v.Fragment,{key:"video"+n},Object(y.createPortal)(g.a.createElement(g.a.Fragment,null,g.a.createElement("native-video",{controls:!0,vid:o,"object-fit":u,style:{objectFit:u,backgroundColor:"#000"},vertical:i,poster:a,"data-extra":s}),l&&!r[n]?g.a.createElement("i",{className:"custom-video-duration"},l):null),c))})):null},t}(v.Component),jt=(n(261),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={showImage:!0},r.imgError=r.imgError.bind(r),r}return h()(t,e),t.prototype.imgError=function(){this.setState({showImage:!1})},t.prototype.render=function(){var e=this.props.data||{},t=e.duration,n=e.dataset,r=e.index;return g.a.createElement(v.Fragment,null,this.state.showImage?g.a.createElement("img",{"data-index":r,onLoad:e.imgLoad,onError:this.imgError,style:e.style,src:n.poster,alt:""}):null,g.a.createElement("i",{className:"custom-video-trigger"}),t?g.a.createElement("i",{className:"custom-video-duration"},t):null)},t}(v.Component)),Ut=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={videoPropsArr:[]},r.setCompVal(),r.enterLink=r.enterLink.bind(r),r.imgLoad=r.imgLoad.bind(r),r.playCallback=r.playCallback.bind(r),r.playVideo=r.playVideo.bind(r),r.renderHtml=r.renderHtml.bind(r),r}return h()(t,e),t.prototype.setCompVal=function(){var e=this,t=R(document,".custom-video");if(this.videoPropsArr=[],!(t.length<1)){this._wd=Ee("wenda_extra"),this.statisticsData=Ee("statistics",{});var n=this._wd;this.videoPropsArr=t.map((function(t,n){var o={},i=t.dataset||{},a=parseInt(i.width),s=parseInt(i.height),c=a&&s?s/a:0,l=.75;return o.videoWrap=t,o.dataset=i,a&&s&&(e._wd&&s>a&&M.client.isNewsArticleVersionNoLessThan("7.4.0")?l=1.36:c<=.75?l=c:o.style={height:"100%",width:"auto"}),function(e,t,n){var r=e.clientWidth;e.style.height=parseInt(r*t)+"px",e.id="video"+n}(t,l,n),o=r(o,i,n)}))}function r(e,t,r){if(t.wendaSource&&"object"===(void 0===n?"undefined":I()(n))){e.duration=M.fmt.formatDuration(t.duration);var o=n&&n.gd_ext_json||{},i=function(e){var t=(n=n||{}).gd_ext_json||{},r={value:n.ansid,extra:c()({position:"detail",video_id:e.vid,enter_from:n.enter_from||"",value:n.ansid,ansid:n.ansid,qid:n.qid,parent_enterfrom:n.parent_enterfrom||""},t)};return delete r.extra.log_pb,r.extra=de({},r.extra,t.log_pb),r}(t);ee("show",{domSelector:"#video"+r,tag:"video_show",label:"click_"+o.category_name,params:i,isTotallyShown:!0})}return e}},t.prototype.componentDidMount=function(){Ae("click",".custom-video",this.playVideo)},t.prototype.componentWillUnmount=function(){window.appCloseVideoNoticeWeb()},t.prototype.playVideo=function(e){var t=e.currentTarget;if(!t)return null;var n=t.getBoundingClientRect()||{},r=void 0,o=t.dataset||{},i=o.vid;r=[n.left+window.pageXOffset,n.top+window.pageYOffset,n.width,n.height];var a={sp:o.sp,vid:i,frame:r,status:0};if("object"===I()(this._wd)){var s=this._wd;a.extra={log_pb:s.gd_ext_json&&s.gd_ext_json.log_pb?s.gd_ext_json.log_pb:"",group_source:10,group_id:this.statisticsData.group_id,video_id:i,category_id:s.gd_ext_json&&s.gd_ext_json.category_name?s.gd_ext_json.category_name:"question_and_answer",category_name:s.gd_ext_json&&s.gd_ext_json.category_name?s.gd_ext_json.category_name:"question_and_answer",qid:s.qid,ansid:s.ansid,value:s.ansid,enter_from:s.enter_from||"",position:"detail",parent_enterfrom:s.parent_enterfrom||"",article_type:s.article_type||s.gd_ext_json?s.gd_ext_json.article_type:""}}"object"===I()(this._wd)&&(a.scaling_fill=1,o.height&&o.width&&parseInt(o.height)>parseInt(o.width)&&(a.play_vertical=1),M.client.isAndroid&&M.client.isNewsArticleVersionNoLessThan("7.4.0")&&(a.frame[2]=n.width,a.frame[3]=n.height)),U.a.invoke("playNativeVideo",a,null)},t.prototype.playCallback=function(e){var t=this;this.videoPropsArr.forEach((function(n){var r=n.videoWrap,o=t._wd;if(r.style.display="block",n._nes&&(n._nes.style.display="block"),1===e.code&&1!=e.disable_position_change){var i=document.querySelector('[data-vid="'+e.vid+'"]');if(i){var a=i.nextElementSibling;if(a){var s=a.firstChild;s&&P(s,".cv-wd-info-wrapper",!0)&&(a.style.display="none",n._nes=a)}i.style.display="none",o&&o.wd_version&&(e.height+=15),o&&1==o.use_native_header||(document.body.style.marginTop=e.height+"px")}}}))},t.prototype.enterLink=function(e){U.a.invoke("pauseVideo");var t=void 0,n=void 0;try{n=(t=e.currentTarget.parentNode.previousSibling).dataset}catch(e){console.error(e)}if(t&&void 0!==n.vid){var r=this._wd||{};M.statistics.sendUmengEvent("answer_detail","click_video_detail",{value:r.ansid,extra:{video_id:t.dataset.vid,enter_from:r.enter_from||"",ansid:r.ansid,qid:r.qid,parent_enterfrom:r.parent_enterfrom||""}})}},t.prototype.imgLoad=function(e){var t=e.target,n=t.parentNode,r=n.dataset;n.style.background="black";var o=0,i=n.clientWidth,s=n.clientHeight,c=s/i,l=t.naturalWidth,u=t.naturalHeight;this._wd&&s>i&&M.client.isNewsArticleVersionNoLessThan("7.4.0")?t.setAttribute("style","object-fit: cover;"):l&&u&&((o=u/l)<c?t.setAttribute("style","width: 100%; height: auto;"):o>c&&t.setAttribute("style","height: 100%; width: auto"),r.width||r.height||n.setAttribute("data-video-size",a()({normal:{h:u,w:l}})))},t.prototype.renderHtml=function(){var e=this,t=this.videoPropsArr;return t.length<1?null:t.map((function(t,n){var r={imgLoad:e.imgLoad,enterLink:e.enterLink,dataset:t.dataset,duration:t.duration,style:t.style,index:n},o=t.videoWrap;return g.a.createElement(v.Fragment,{key:"video"+n},Object(y.createPortal)(g.a.createElement(jt,{data:r}),o))}))},t.prototype.render=function(){return this.renderHtml()},t}(v.Component);var Ht=function(){return Ee("videoNativeEnable")?g.a.createElement(Mt,null):g.a.createElement(Ut,null)},Ft=(n(262),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.wrapDOM=null,r.readMore=r.readMore.bind(r),r.setCompVal(),r}return h()(t,e),t.prototype.setCompVal=function(){var e=document.querySelector("article");e&&(this.wrapDOM=document.createElement("p"),e.appendChild(this.wrapDOM))},t.prototype.readMore=function(){var e=this.props.data.statisticsData,t=+Ee("author").mediaId;M.statistics.sendUmengEvent("detail","click_landingpage",{value:t,extra:{item_id:+e.item_id}}),M.statistics.sendUmengEventV3("detail_click_landingpage",{enter_from:"click_landingpage",media_id:t,item_id:+e.item_id})},t.prototype.render=function(){var e=this.props.data.context,t=void 0;return t=e.native_know_more_url?e.native_know_more_url:/^sslocal/.test(e.know_more_url)?e.know_more_url:"sslocal://webview?url="+encodeURIComponent(e.know_more_url),this.wrapDOM?Object(y.createPortal)(g.a.createElement("a",{id:"know-more-url",onClick:this.readMore,href:t},"了解更多",g.a.createElement("i",{className:"icon-link"})),this.wrapDOM):null},t}(v.Component));function Bt(e,t){try{for(var n=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,(function(e){return e.textContent.match(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT})),r=[],o=n.nextNode();o;)o.nodeType===Node.TEXT_NODE&&r.push(o),o=n.nextNode();r.map((function(e){return function(e,t){var n=document.createElement("span");n.innerHTML=t.nodeValue.replace(e,'<br class="sysbr">$&'),t.parentElement.replaceChild(n,t)}(t,e)}))}catch(e){console.error(e)}}var Vt=function(){var e=/[\u2e80-\u2eff\u3000-\u303f\u3200-\u9fff\uf900-\ufaff\ufe30-\ufe4f]/,t=/[a-z0-9_:\-/.%~]{26,}/gi,n=/^<br>$/,r=document.querySelectorAll("article p");(r=Array.prototype.slice.call(r)).forEach((function(r,o){n.test(r.innerHTML)&&r.classList.add("article-br");var i=R(r,".image");r.classList.contains("pgc-img-caption")||!r.textContent||i.length>0||(e.test(r.textContent)?t.test(r.textContent)&&Bt(r,t):r.style.textAlign="left")}))},qt=(n(263),null),Wt=function(e){e.addEventListener("touchstart",(function(t){e.scrollLeft>0&&console.log("bytedance://disable_swipe")})),e.addEventListener("touchend",(function(e){console.log("bytedance://enable_swipe")})),e.addEventListener("touchcancel",(function(e){console.log("bytedance://enable_swipe")}))},Gt=function(e){var t=document.querySelectorAll("article pre");(t=Array.prototype.slice.call(t)).forEach((function(t){e&&e(t)}))},zt=function(e){Gt((function(t){var n=t.firstChild&&t.firstChild.tagName;n&&"code"===n.toLocaleLowerCase()&&(e||(t.classList.add("article-code"),Wt(t)),window.hljs&&window.hljs.highlightBlock(t))}))},Yt=function(){try{var e=!window.hljs;e?(Gt((function(e){var t=e.firstChild&&e.firstChild.tagName;t&&"code"===t.toLocaleLowerCase()&&(e.classList.add("article-code"),Wt(e))})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=arguments[2],r=arguments[3];qt||((qt=document.createElement("script")).setAttribute("id",t),qt.onerror=function(t){console.info("load "+e+" error"),r&&r(t)},qt.onload=function(t){console.info("load "+e+" success"),n&&n(t)},qt.src=e,document.head.appendChild(qt))}("https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/ttf/article/highlight.min.js","code-hl-script",(function(){zt(e)}),(function(){zt(e),M.statistics.sendUmengEventV3("article_web_init_error",{version:"1834",type:"code-highlight",error:"load-failed"})}))):zt(e)}catch(e){console.error("code highlight error: ",e)}},Xt=function(e){var t=document.querySelectorAll("a.pgc-commodity-link");(t=Array.prototype.slice.call(t)).forEach((function(t,n){var r=t.dataset.productid,o=t.dataset.price,i=t.href,a="other";i.indexOf("taobao.com")>=0||i.indexOf("tmall.com")>=0||i.indexOf("tmall.hk")>=0?a="taobao":i.indexOf("jd.com")>=0||i.indexOf("jd.hk")>=0||i.indexOf("360buy.com")>=0||i.indexOf("jd360.hk")>=0?a="jingdong":(i.indexOf("haohuo.snssdk.com")>-1||i.indexOf("haohuo.jinritemai.com")>-1)&&(a="fangxingou");var s={enter_from:e.enter_from,group_id:e.group_id,item_id:e.item_id,category_name:e.category_name,bookshelf_type:a,log_pb:e.log_pb,product_id:r,price:o};M.statistics.sendUmengWhenTargetShown(t,"show_nextgroup_detail","",s,1,{version:3})}))},Jt=function(e){if(!e.is_liteapp){var t=Ee("statistics")||{};R(document,".tteditor-mention").forEach((function(e){var t=e.dataset.uid;if(t){var n="sslocal://profile?uid="+t;e.setAttribute("href",n)}})),Ae("click",".tteditor-mention",(function(e){var n=e.target.dataset.uid;n&&M.statistics.sendUmengEventV3("click_article_at",{user_id:n,group_id:t.group_id})}));var n=document.querySelectorAll(".tteditor-forum");(n=Array.prototype.slice.call(n)).forEach((function(e){var t=e.dataset.concernId;if(t){var n="sslocal://concern?cid="+t;e.setAttribute("href",n)}})),Ae("click",".tteditor-forum",(function(e){var n=e.currentTarget.innerText.replace(/#/g,"");M.statistics.sendUmengEventV3("click_article_hashtag",{hashtag_name:n,gid:t.group_id})})),Ae("click","a.out-link",(function(e){e.preventDefault();var t=e.currentTarget;location.href="sslocal://webview?nightbackground_disable=1&url="+encodeURIComponent(t.getAttribute("href"))+"&title="+encodeURIComponent(t.innerText)})),Ae("click","a.link-at",(function(e){e.preventDefault();var t=e.currentTarget.dataset.uid;t&&(location.href="sslocal://profile?uid="+t+"&source=wenda_detail&refer=wenda")})),Ae("click",".toutiaopage",(function(){M.statistics.sendUmengEventV3("article_toutiaopage_click",{gid:t.group_id})})),R(document,"a[starhref]").forEach((function(n){var r=n.getAttribute("starhref"),o=n.dataset.uid;if(r){var i=n.dataset.authType;if(i){var a=Object(M.buildServerVIcon)(i,"avatar_icon",e.user_verify_info_conf);if(a){var s=document.createElement("div");s.className="star-v-icon-wrap",s.innerHTML=a,n.appendChild(s)}}r=r+"&from_page=star_words&group_id="+t.group_id+"&category_name="+t.category_name,n.setAttribute("href",r),M.statistics.sendUmengWhenTargetShown(n,"show_star_words","",{enter_from:t.enter_from,category_name:t.category_name,group_id:t.group_id,to_user_id:o,log_pb:t.log_pb},1,{version:3})}})),Ae("click","a[starhref]",(function(e){var n=e.currentTarget.dataset.uid;M.statistics.sendUmengEventV3("click_star_words",{enter_from:t.enter_from,category_name:t.category_name,group_id:t.group_id,to_user_id:n,log_pb:t.log_pb})})),R(document,"article a").forEach((function(e){try{if(-1===e.className.indexOf("pgc-commodity-link")&&-1===e.className.indexOf("out-link")){var t=e.getAttribute("href");if(t&&0===t.indexOf("http")){var n="sslocal://webview?disable_hash=1&url="+encodeURIComponent(t);e.setAttribute("data-origin-href",t),e.setAttribute("href",n)}}}catch(e){console.error(e)}}))}},Kt=n(158),$t=n.n(Kt),Zt=function(e){var t,n=Ee("statistics"),r=R(document,".stock-word"),o=(t={},r.forEach((function(e){var n=e.dataset.stockId;t[n]?t[n].push(e):t[n]=[e]})),t),i=e.article_stocks;i&&$t()(o).forEach((function(e){var t=e[0],r=function(e){if(!e)return null;var t=window.innerHeight;return e.filter((function(e){var n=e.getBoundingClientRect().top;return n>0&&n-t>0}))[0]}(e[1]);if(r){var o=r.innerHTML,a=i[t],s=mt(a);if(!_t(a)&&(r.querySelector(".stock-word-highlight")||(r.innerHTML='<span class="stock-word-highlight">'+o+"</span>",M.statistics.sendUmengEventV3("news_stock_clear_show",{group_id:n.group_id,code:t}),r.addEventListener("click",(function(){M.statistics.sendUmengEventV3("news_stock_clear_click",{group_id:n.group_id,code:t}),a&&a.open_url?window.location.href=a.open_url:window.location.href="sslocal://webview?hide_close_btn=1&hide_bar=1&hide_more=1&bounce_disable=1&hide_back_buttonView=1&disable_web_progressView=1&url="+encodeURIComponent("https://financal-stock-web.snssdk.com/mc/stock?code="+t)}))),!r.querySelector(".stock-word-info")&&a)){var c=document.createElement("span");c.className="stock-word-info",c.innerHTML='（<span style="color: '+s+';">'+a.cur_price+"，"+a.change_rate+"</span>）",r.appendChild(c)}}}))};function Qt(e,t){return e&&e[t]?e[t]:0}function en(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e&&e.forEach((function(e){e&&(!n||e.innerHTML&&e.innerHTML.trim())&&e.classList.add(t)}))}function tn(e){R(e,"[toutiao-origin]").forEach((function(e){var t=e.getAttribute("toutiao-origin");!function(e,t){if(e&&t){for(var n=e.parentNode,r=document.createElement(t),o=document.createDocumentFragment();e.firstChild;)o.appendChild(e.firstChild);r.appendChild(o),n.replaceChild(r,e)}}(e,t)}))}var nn=[{type:"section",selector:["h1","h2","h3","h4","h5","h6"]},{type:"ordered list",selector:"ol"},{type:"unordered list",selector:"ul"},{type:"strong",selector:"strong"},{type:"pgc-img-caption",selector:".pgc-img-caption"},{type:"url_link",selector:"a",excludeClass:"image"},{type:"cut-off rule",selector:"hr"},{type:"preformatted text",selector:"pre"},{type:"pgc-end-literature",selector:[".pgc-end-literature",".pgc-end-source"]}];function rn(e){var t=e.formatted_article_config||{rollbackTag:0,caption:1,link:0,heading:2,source:1,strongHighlight:1},n=document.querySelector("article");(function(e){var t=[];if(nn.forEach((function(n){("string"==typeof n.selector?R(e,n.selector):n.selector.reduce((function(t,n){return t.concat(R(e,n))}),[])).filter((function(e){return!!e.innerHTML&&(!n.excludeClass||!e.classList.contains(n.excludeClass))})).length&&t.push(n.type)})),t.length){var n={group_id:Ee("statistics").group_id,author_user_id:Ee("author").userId,info:t.join(",")};M.statistics.sendUmengEventV3("article_special_format_info",n)}}(n),Qt(t,"rollbackTag")&&tn(n),1===Qt(t,"caption"))&&en(R(n,".pgc-img-caption"),"article-img-caption");1===Qt(t,"link")&&en(R(n,"a").filter((function(e){return!e.classList.contains("image")})),"article-link");if(1===Qt(t,"source")){var r=R(n,".pgc-end-literature"),o=R(n,".pgc-end-source");en(r,"article-literature"),en(o,"article-source"),en([o[0]],"article-source-line")}1===Qt(t,"strongHighlight")&&en(R(n,"strong.highlight-text"),"article-strong-highlight");R(n,"p br").forEach((function(e){var t=e.previousSibling;t&&t.nodeType===Node.TEXT_NODE&&e.classList.add("sysbr")}))}n(81),n(82);var on=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={carImage:[],stockImage:[],stockTrendImage:null,render:!1},r.cardHtml=null,r.canBroadcastCardsEvent=!0,r.setCompVal(),r.checkWindowSize=r.checkWindowSize.bind(r),r.fixArticle=r.fixArticle.bind(r),r.onCarouselImageSwitch=r.onCarouselImageSwitch.bind(r),r}return h()(t,e),t.prototype.setCompVal=function(){this.imageSizeInitTimer=null,this.statisticsData=Ee("statistics")||{}},t.prototype.checkWindowSize=function(){var e=this,t=window.innerWidth-30,n=window.innerHeight;this.statisticsData=Ee("statistics"),t<=0||n<=0?this.imageSizeInitTimer=setTimeout((function(){e.checkWindowSize()}),0):(this.state.carImage&&It.addCarTipDOM(this.state.carImage),this.state.stockImage&&It.addStockTipDOM(this.state.stockImage),this.state.stockTrendImage&&It.addStockTrendTipDOM(this.state.stockTrendImage),window.addEventListener("scroll",ut),this.setState({render:!0},(function(){Q()})),window.onresize=function(){var e=D().width;console.info(e,"width onresize"),e&&It.resizeImage(e-30)},It.initImageProcess(ut),Pt())},t.prototype.fixArticle=function(){var e=Ee("h5_settings")||{},t=Ee("statistics")||{};Jt(e),Vt(),Yt(),Xt(t),function(){try{var e=Ee("statistics"),t=e.enter_from,n=e.category_name,r=e.group_id,i=R(document,"article .video-word"),s=o()(Ee("longVideoData",{}));i.forEach((function(e){var o=e.dataset.query,i=Ee("longVideoData."+o,null);o&&i&&(M.statistics.sendUmengWhenTargetShown(e,"content_to_lv_link_show","",{enter_from:t,category_name:n,from_group_id:r,album_id:i.album_id,group_source:i.group_source,link_word:o},1,{version:3}),e.addEventListener("click",(function(e){var o=e.target.dataset.query,i=Ee("longVideoData."+o,null);if(o&&i){var s=i.group_source,l=i.album_id;i.route_url="sslocal://lvideo_detail?album_id="+l+"&group_source="+s+"&enter_from=click_content_lvideo&category_name=content_lvideo&group_id="+l+"&log_pb="+encodeURIComponent(a()({impr_type:"__content_lvideo__",group_source:s,recommend_type:"pgc_link"}));var u={enter_from:t,category_name:n,from_group_id:r,album_id:i.album_id,group_source:i.group_source,link_word:o};M.statistics.sendUmengEventV3("content_to_lv_link_click",u),M.client.isNewsArticleAndLiteVersionNoLessThan({toutiao:"7.6.4",toutiao_lite:"7.3.1"})?et.call("app.articleToLongVideo",c()({},i,{log_pb:c()({},u,{section:"content_link",position:"detail"})})):location.href=i.route_url}})))})),M.statistics.sendUmengEventV3("content_link_num",{enter_from:t,category_name:n,from_group_id:r,link_num:i.length,video_num:s.length})}catch(e){console.info("processLongVideoTag error: ",e)}}();try{rn(e)}catch(e){console.error(e)}},t.prototype.componentDidMount=function(){var e=this;this.checkWindowSize(),this.fixArticle(),We.cardSafeBroadcast(["card-render",document.querySelector("body")]),setTimeout((function(){document.body.classList.remove("opacity")}),0),ze.on("pageStateChange",(function(t){"carousel_image_switch"===t.type&&e.statisticsData.group_id==t.id&&e.onCarouselImageSwitch(t.status)}))},t.prototype.onCarouselImageSwitch=function(e){It.fetchOneImage(e)},t.prototype.componentWillUnmount=function(){clearTimeout(this.imageSizeInitTimer),dt(),window.removeEventListener("scroll",ut),ze.off("pageStateChange")},t.prototype.componentDidUpdate=function(e){e.context!==this.props.context&&Zt(this.props.context)},t.getDerivedStateFromProps=function(e,t){var n=null,r=null,o=null;return t.render&&e.carImage?(It.addCarTipDOM(e.carImage),n=null):n=e.carImage,t.render&&e.stockImage?(It.addStockTipDOM(e.stockImage),r=null):r=e.stockImage,t.render&&e.stockTrendImage?(It.addStockTrendTipDOM(e.stockTrendImage),o=null):o=e.stockTrendImage,{carImage:n,stockImage:r,stockTrendImage:o}},t.prototype.knowMoreHtml=function(){if(this.props.context&&this.props.context.know_more_url){var e={context:this.props.context,statisticsData:this.statisticsData};return g.a.createElement(Ft,{data:e})}return null},t.prototype.cardInArticleHtml=function(){var e=this;if(this.canBroadcastCardsEvent&&this.props.context&&Array.isArray(this.props.context.article_cards)){this.cardHtml||(this.cardHtml=function(){var e=document.querySelectorAll("p"),t=Array.apply(null,e),n=t.length,r=window.innerHeight,o=t.findIndex((function(e,o){var i=e.getBoundingClientRect().bottom>=1*r;return i=(i=i&&o<n-1)&&!(e.className.indexOf("image-wrap")>-1&&t[o+1].className.indexOf("pgc-img-caption")>-1)})),i=void 0;if(-1!==o&&o<n-1){(i=document.createElement("div")).className="article-cards-container";var a=t[o];a.hasOwnProperty("after")?a.after(i):a.parentNode.insertBefore(i,a.nextSibling)}else i=document.querySelector(".footer-cards-container");return console.info("targetNodeIndex",o),i}());var t=this.props.context.article_cards;Array.isArray(t)&&t.forEach((function(t){Ge.cardSafeBroadcast([t.type,null,t,e.cardHtml])})),this.canBroadcastCardsEvent=!1}},t.prototype.render=function(){var e=this.state.render;return e?g.a.createElement(v.Fragment,null,g.a.createElement(Ht,null),this.knowMoreHtml(),this.cardInArticleHtml()):null},t}(v.Component),an=(n(130),n(159)),sn=n.n(an),cn=(n(296),function(e){function t(n){u()(this,t);var r,o,i,a=p()(this,e.call(this,n));return a.state={data:{},searchParams:{}},a._setCompVal(n),a._renderHtml=a._renderHtml.bind(a),a._getSearchTag=a._getSearchTag.bind(a),a._clickSearchTag=(r=a._clickSearchTag.bind(a),o=500,i=null,function(){if(!i)return i=setTimeout((function(){i=null}),o),r.apply(this,arguments)}),a.afterCarouselChange=a.afterCarouselChange.bind(a),a}return h()(t,e),t.prototype._setCompVal=function(e){var t=e.data,n=t.context,r=t.setting,o=t.statisticsData,i=t.addShowEvt;t.article;r=r||{};var a=n&&n.labels||{},s=a.labels_words;this.query=a.query_word,this.search_id=a.search_id,this.query_id=a.query_id;var c=r.search_card_style||{},l=c.uiStyle,u=c.title;this.uiStyle=l||0,this.title=u&&"string"==typeof u?u:"搜索",this.statisticsData=o,this.addShowEvt=i,this.labels_words=s||[],this.labels_words=this.labels_words.length>6?s.slice(0,18):s.slice(0,6)},t.prototype.componentDidMount=function(){var e=this,t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.statisticsData,r=e.labels_words,o=e.addShowEvt,i=r.length,a={words_num:i,trending_position:"article_tag",search_id:e.search_id,query:e.query,query_id:e.query_id,enter_group_id:n.group_id,article_tag_type:"wap"};void 0!==t.is_incognito&&(a.is_incognito=t.is_incognito),o({domSelector:"#search-tag0 .label-content",value:"trending_show",isTotallyShown:!0,obj:a,callback:function(){M.client.isAndroid&&et.call("app.mayEnterSearch",{})}});for(var s=0;s<i;s++){var c=r[s],l=c.word,u={group_id:c.group_id,words_source:"article_tag",words_position:s,words_type:0,words_content:l,search_id:e.search_id,query:e.query,query_id:e.query_id,enter_group_id:n.group_id,article_tag_type:"wap"};void 0!==t.is_incognito&&(u.is_incognito=t.is_incognito),o({domSelector:"#search-tag"+s+" .label-content",value:"trending_words_show",isTotallyShown:!0,obj:u})}};!function(){var t=e.statisticsData,n=e.labels_words,r=e.addShowEvt,o=n.length;if(o<1)return null;var i,a=[];i=o;for(var s=0;s<i;s++){var c=n[s].word;a.push(c),r({domSelector:"#search-tag"+s+" .label-content",tag:"search_card",label:"show_search_card_word",isTotallyShown:!0,params:{extra:{source:"article_tag_wap",labelsIndex:s+1,labelKey:c,gid:t.group_id,item_id:t.item_id}}})}var l={source:"article_tag_wap",gid:t.group_id,item_id:t.item_id,labelsNum:i,labelKey:a.toString()};r({domSelector:"#search-show",tag:"search_card",label:"show_search_card",params:{extra:l},isTotallyShown:!0}),r({domSelector:"#search-tag0",tag:"search_card",label:"show_search_card_untotally_shown",params:{extra:l},isTotallyShown:!0}),M.statistics.sendUmengEventV3("search_card_data",{source:"article_tag_wap",gid:t.group_id,item_id:t.item_id,labelsNum:i,labelKey:a.toString()})}(),M.client.isNewsArticleVersionNoLessThan("7.6.1")?et.call("app.getSearchParams",{},(function(n){var r=n&&n.data||{};e.setState({searchParams:r}),t(r)})):t()},t.prototype._clickSearchTag=function(e){e.preventDefault();var t=this.statisticsData,n=this.state.searchParams,r=e.target;if(r){var o=r.dataset,i=o.href;if(i){M.statistics.sendUmengEvent("search_card","click_search_card",{extra:{index:parseInt(o.index)+1,enter_from:"article_tag_wap",card_type:"search",keyword:o.keyword,gid:t.group_id,item_id:t.item_id}});var a={group_id:o.gid,words_source:"article_tag",words_position:parseInt(o.index),words_type:0,words_content:o.keyword,search_id:this.search_id,query:this.query,query_id:this.query_id,enter_group_id:t.group_id,article_tag_type:"wap"};void 0!==n.is_incognito&&(a.is_incognito=n.is_incognito),M.statistics.sendUmengEventV3("trending_words_click",a),location.href=i}}},t.prototype.stopEvent=function(e){e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0,e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1},t.prototype.toggleAndroidSwipe=function(e){0===e?console.log("bytedance://enable_swipe"):console.log("bytedance://disable_swipe")},t.prototype.afterCarouselChange=function(){setTimeout(Q,50)},t.prototype.renderSearchLabelsSplit=function(e){var t=[];return e.forEach((function(n,r){if(r%6==5||r===e.length-1){for(var o=[],i=r-r%6;i<=r;i++)o.push(e[i]);t.push(o)}})),t},t.prototype._getSearchTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map((function(e,n){return g.a.createElement("a",{key:"search-tag"+n,id:"search-tag"+(n+t),className:"lable ","data-href":e.link,"data-index":n+t,"data-gid":e.group_id,"data-keyword":e.word},g.a.createElement("div",{className:"label-content"},e.word))}))},t.prototype._renderHtml=function(){var e=this,t=this.labels_words,n=this.uiStyle,r=this.title;if(t.length<1)return null;if(t.length>6){var o=this.renderSearchLabelsSplit(t),i=D().width;return g.a.createElement("div",{id:"search-show",className:"pcard search line-style"+(n?" auto-font":""),style:{width:i-30+"px"},onTouchStart:this.toggleAndroidSwipe.bind(this,1),onTouchMove:this.stopEvent.bind(this),onTouchEnd:this.toggleAndroidSwipe.bind(this,0),onTouchCancel:this.toggleAndroidSwipe.bind(this,0)},g.a.createElement("div",{className:"title"}," ",r," "),g.a.createElement(sn.a,{size:i-15,style:{width:i-15+"px",height:"135px"},swipeable:!0,afterChange:this.afterCarouselChange,transitionDuration:"500"},o.map((function(t,n){return g.a.createElement("div",{style:{width:i-15+"px"},key:"search-card-"+n},g.a.createElement("div",{className:"search-tag",onClick:e._clickSearchTag},e._getSearchTag(t,6*n)))}))))}return g.a.createElement("div",{id:"search-show",className:"pcard search line-style"+(n?" auto-font":"")},g.a.createElement("div",{className:"title"}," ",r," "),g.a.createElement("div",{className:"search-tag",onClick:this._clickSearchTag,id:"search-card"},this._getSearchTag(t)))},t.prototype.render=function(){return console.info("search",this.props),this._renderHtml()},t}(v.Component)),ln=(n(297),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={score:0,scoreState:"toScore"},r._setCompVal(n),r._scoreArticle=r._scoreArticle.bind(r),r._unDoScore=r._unDoScore.bind(r),r._renderHtml=r._renderHtml.bind(r),r._sendAjax=r._sendAjax.bind(r),r._sendTrueAjax=r._sendTrueAjax.bind(r),r}return h()(t,e),t.prototype._setCompVal=function(e){var t=e.data,n=e.card||{},r=t.context||{},o=void 0,i=t.statisticsData||{};try{o=localStorage.getItem("article_detail_score")}catch(e){console.error(e)}this.scoredArticle=o,this.scoreCardInfoString=n.question,this.starInfo=["轻触打分","完全不符合","比较不符合","一般","较符合","完全符合"],this.showBottomLine=!0,(r&&r.labels&&r.labels.labels_words||[]).length>0&&(this.showBottomLine=!1),this.domID="score-card-wrap",this.hasScore=!1,this.gid=i.group_id,this.card=n,this.startTime=null,this.lastTimeOutThx=null,this.lastTimeOutDone=null},t.prototype.componentDidMount=function(){var e=this.props.addShowEvt;this.startTime=Date.now(),e&&e({domSelector:"#"+this.domID,value:"show_score_card",obj:{question_string:this.scoreCardInfoString,group_id:this.gid,style_type:"star"}})},t.prototype._scoreArticle=function(e){var t=this,n=e.target,r=n&&n.dataset||{},o=parseInt(r.index)+1;console.info("_scoreArticle",r.index),o&&(clearTimeout(this.lastTimeOutDone),this.setState({scoreState:"scoring",score:o},(function(){t.lastTimeOutDone=setTimeout((function(){t._sendAjax(o),t.setState({scoreState:"undo"})}),1500)})))},t.prototype._sendTrueAjax=function(e,t){console.info(arguments);var n=this.gid,r=this.scoreCardInfoString,o=this.scoredArticle,i=this.hasScore,s=this.startTime,c={evaluate_id:a()({gid:n,style:"star",string_id:r,interval:Date.now()-s}),survey_type:"point",prefer_id:e};if(t&&(c=de({},c,t)),Qe("https://eva.snssdk.com/eva/survey.json",{param:c}),!i){o=o?o+","+n:n;try{localStorage.setItem("article_detail_score",o)}catch(e){console.error(e)}this.hasScore=!0}M.statistics.sendUmengEventV3("click_score_card",{score:e,question_string:r,group_id:n,click_interval:Date.now()-s,style_type:"star"})},t.prototype._sendAjax=function(e){M.client.isAndroid&&M.client.isNewsArticleVersionNoLessThan("6.2.5")||M.client.isIOS&&M.client.isNewsArticleVersionNoLessThan("6.2.6")?ot(this._sendTrueAjax.bind(this,e)):this._sendTrueAjax(e)},t.prototype._unDoScore=function(){this.setState({scoreState:"toScore",score:0})},t.prototype._renderHtml=function(){var e=this.showBottomLine,t=this._scoreArticle,n=this._unDoScore,r=this.domID,o=this.scoredArticle,i=this.gid,a=this.card,s=this.starInfo,c=this.state,l=c.scoreState,u=c.score;if(!M.client.isSeniorAndroid)return null;if(o&&o.split(",").indexOf(i)>-1)return null;return g.a.createElement("div",{id:r,className:"pcard score-star "+(e?"":"mtn30"),style:{marginTop:"15px"}},g.a.createElement("div",{className:"p-scorecard pcard-container "+(e?"pcard-vertical-border":"pcard-vertical-top-border")+("undo"===l?" moveUp":"")},g.a.createElement("div",{className:"pcard-clearfix score-wrapper"},g.a.createElement("div",{className:"info-wrapper "+("scoring"===l?"move":"")},g.a.createElement("div",{className:"title question pcard-h16 pcard-w1",style:{marginTop:"3px"}},a.question),g.a.createElement("div",{className:"title thx-letter pcard-h16 pcard-w1",style:{marginTop:"2px"}},s[u])),g.a.createElement("div",{onClick:t,className:"star-wrap"},g.a.createElement("span",{className:"star","data-index":"0","data-selected":u>0?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"1","data-selected":u>1?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"2","data-selected":u>2?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"3","data-selected":u>3?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"4","data-selected":u>4?"true":"false"}))),g.a.createElement("div",{className:"pcard-clearfix result-wrapper"},g.a.createElement("div",{className:"pcard-h16 pcard-w1 mt8"},"感谢你的反馈"),g.a.createElement("a",{onClick:n,className:"rescore-button pcard-h12 pcard-w1"},"重新打分"))))},t.prototype.render=function(){return this._renderHtml()},t}(v.Component)),un=(n(298),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={score:n.card&&n.card.operate_history&&n.card.operate_history.score?parseInt(n.card.operate_history.score):0},"number"==typeof n.card.choice&&(r.state.score=n.card.choice,n.card.choice>0&&et.call("app.questionnaire",{selected:!0}),r.postData={gid:n.card.gid||"",qid:n.card.qid||0,request_info:{device_params:{did:1,device_platform:"",device_type:""},user_params:{user_id:0},app_params:{app_version:0}},token:n.card.token||""},ot((function(e){var t=e.device_id,n=e.device_platform,o=e.device_type,i=r.postData.request_info.device_params;i.did=+t,i.device_platform=n,i.device_type=o})),rt((function(e){var t=e.user_id,n=void 0===t?0:t,o=e.appVersion,i=void 0===o?"":o,a=r.postData.request_info,s=a.user_params,c=a.app_params;s.user_id=+n,c.app_version=+i.split(".").join("")}))),r._setCompVal(n),r._scoreArticle=r._scoreArticle.bind(r),r._renderHtml=r._renderHtml.bind(r),r._sendAjax=r._sendAjax.bind(r),r.handleChoiceClick=r.handleChoiceClick.bind(r),r.contentEl=g.a.createRef(),r}return h()(t,e),t.prototype._setCompVal=function(e){var t=e.data,n=e.card||{},r=t.context||{},o=t.statisticsData||{},i=["轻触打分","很差","比较差","一般","比较好","很棒"];n.operate_method&&Array.isArray(n.operate_method)&&n.operate_method.forEach((function(e,t){e&&e.answer&&"string"==typeof e.answer&&e.answer.trim()&&t<i.length-1&&(i[t+1]=e.answer)})),this.scoreCardInfoString=n.operate_meta&&n.operate_meta.question?n.operate_meta.question:"您觉得本篇文章内容质量怎么样？",this.starInfo=i,this.showBottomLine=!0,(r&&r.labels&&r.labels.labels_words||[]).length>0&&(this.showBottomLine=!1),this.domID="score-card-wrap",this.gid=o.group_id,this.card=n,this.startTime=null,this.lastTimeOutDone=null},t.prototype.componentDidMount=function(){var e=this;this.startTime=Date.now(),this.contentEl.current&&ee("show",{dom:this.contentEl.current,callback:function(){ot((function(){e._appFetch({url:"https://i.snssdk.com/api/questionnaire/exposure/",method:"POST",data:c()({},e.postData,{request_info:a()(e.postData.request_info)}),needCommonParams:!0},(function(){return console.log("exposure")}))}))}})},t.prototype._scoreArticle=function(e){var t=this,n=e.target,r=n&&n.dataset||{},o=parseInt(r.index)+1;o&&this.setState({score:o},(function(){t._sendAjax(o)}))},t.prototype._appFetch=function(e,t){et.call("fetch",{url:e.url||"",method:e.method||"GET",params:e.params||{},data:e.data||{},header:e.header||{},needCommonParams:e.needCommonParams||!0},(function(e){if((e=e.data||e).response){var n=e.response;try{n=JSON.parse(n)}catch(e){n={}}e.responseData=n}"function"==typeof t&&t(e)}))},t.prototype._sendAjax=function(e){var t=this.gid,n=this.startTime,r=this.props.data.statisticsData||{},o={gid:t,score:e};this._appFetch({url:"http://i.snssdk.com/mp/agw/qingyun/post_qingyun_score",method:"POST",data:o,needCommonParams:!0},(function(e){var t=e.responseData,n=void 0===t?null:t;n&&0==n.code?et.call("toast",{text:"已提交\n谢谢您的反馈"}):et.call("toast",{text:"系统错误",icon_type:"icon_error"})})),M.statistics.sendUmengEventV3("bottom_article_score",{score:e,group_id:t,click_interval:Date.now()-n,category_name:r.category_name,is_qingyun:1})},t.prototype.handleChoiceClick=function(e){var t=+e.currentTarget.dataset.value||0;this.setState({score:t}),et.call("app.questionnaire",{selected:!0}),this._appFetch({url:"https://i.snssdk.com/api/questionnaire/feedback/",method:"POST",data:c()({},this.postData,{request_info:a()(this.postData.request_info),choice:t}),needCommonParams:!0},(function(e){e.responseData?et.call("toast",{text:"感谢反馈",icon_type:"icon_success"}):et.call("toast",{text:"网络条件较差，请稍后重试",icon_type:"icon_error"})}))},t.prototype._renderIconFeedback=function(){var e=this,t=this.state.score,n=this.props.card.answers,r=void 0===n?[]:n,o=2===r.length?"horizontal":"",i=function(e){return t>0?t===e?"selected":"unselected":""};return g.a.createElement("div",{className:"choices-container "+(5===r.length?"choice-5":""),ref:this.contentEl},r.map((function(t){var n=t.answer_id,r=t.answer;return g.a.createElement("div",{className:"choice-container "+o+" "+i(n),key:n,onClick:e.handleChoiceClick,"data-value":n},g.a.createElement("div",{className:"icon choice-icon-"+n}),g.a.createElement("div",{className:"choice-text-block"},g.a.createElement("div",{className:"choice-text"},r)))})))},t.prototype._renderStarFeedback=function(){var e=this,t=this.state.score,n=this.props.card.answers,r=void 0===n?[]:n;return g.a.createElement(v.Fragment,null,g.a.createElement("div",{className:"star-wrap feedback",ref:this.contentEl},[1,2,3,4,5].map((function(n){return g.a.createElement("span",{key:n,className:"star "+(t===n?"selected":""),"data-index":n-1,"data-selected":t>=n?"true":"false",onClick:e.handleChoiceClick,"data-value":n})}))),g.a.createElement("div",{className:"title thx-letter pcard-h12 "+(t?"selected":""),style:{marginTop:"12px"}},t>0&&t<=r.length?r[t-1].answer:"轻触打分"))},t.prototype._renderOldScore=function(){var e=this._scoreArticle,t=this.starInfo,n=this.state.score;return g.a.createElement(v.Fragment,null,g.a.createElement("div",{onClick:e,className:"star-wrap"},g.a.createElement("span",{className:"star","data-index":"0","data-selected":n>0?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"1","data-selected":n>1?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"2","data-selected":n>2?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"3","data-selected":n>3?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"4","data-selected":n>4?"true":"false"})),g.a.createElement("div",{className:"title thx-letter pcard-h12",style:{marginTop:"12px"}},n>-1&&n<t.length?t[n]:t[0]))},t.prototype._renderHtml=function(){var e=this.domID,t=this.scoreCardInfoString,n=this.props.card,r=n.show_type,o=n.question_title,i=null;switch(r){case 1:i=this._renderIconFeedback(),t=o;break;case 2:i=this._renderStarFeedback(),t=o;break;default:i=this._renderOldScore()}return g.a.createElement("div",{id:e,className:"pcard nscore-star "},g.a.createElement("div",{className:"p-scorecard pcard-container "},g.a.createElement("div",{className:"pcard-clearfix score-wrapper"},g.a.createElement("div",{className:"info-wrapper "},g.a.createElement("div",{className:"title question pcard-h16 pcard-w1",style:{marginTop:"14px"}},t))),i))},t.prototype.render=function(){return this._renderHtml()},t}(v.Component)),dn=(n(299),function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.render=function(){var e=this.props.data.context,t=(e||{}).read_count,n=M.fmt.formatCount(t,"0");return e?void 0===t?null:g.a.createElement("div",{className:"info"},g.a.createElement("div",{className:"article-info"},g.a.createElement("span",{className:"brow-count"},n,"阅读"))):g.a.createElement("div",{className:"info"})},t}(v.Component)),pn=(n(300),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.followDisabled=!1,r.followSource={pgc:30,wenda:28},r.followFrom={pgc:"article_detail",wenda:"answer_detail_top_card"},r.state={followState:n.userInfo&&n.userInfo.followState,followDisabled:!1,updateFollowStateFromUserAction:!1},r}h()(t,e),t.prototype.followActionHandler=function(){this.setState({updateFollowStateFromUserAction:!0,followDisabled:!0});var e=this.props.userInfo,t=this.state.followState,n={id:e.userId,action:t?"unfollow":"dofollow",source:"30",from:"article_detail"},r=this;U.a.invoke("user_follow_action",n,(function(e){r.followDisabled=!1,e&&1==+e.code?r.setState({followState:t?"":"following",followDisabled:!1}):r.setState({followState:t?"following":"",followDisabled:!1})})),this.props.clickActionHandler()},t.prototype.componentDidMount=function(){var e=this.props.userInfo,t=this;ze.on("pageStateChange",(function(n){switch(n.type){case"user_action":case"pgc_action":n.id==e.userId&&"status"in n&&(t.setState({followState:n.status?"following":"",followDisabled:!1,updateFollowStateFromUserAction:!0}),t.followDisabled=!1)}}))},t.prototype.componentWillUnmount=function(){ze.off("pageStateChange")},t.getDerivedStateFromProps=function(e,t){return t.updateFollowStateFromUserAction?{followState:t.followState}:{followState:e.userInfo.followState}},t.prototype.render=function(){this.props.setting;var e="subscribe-button follow-button"+this.state.followState+(this.state.followDisabled?" disabled":"");return g.a.createElement("button",{className:e,id:"subscribe",onClick:this.followActionHandler},g.a.createElement("i",{className:"iconfont focusicon"}," "))}}(g.a.Component),n(301),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={showCurrentUserInRewardsList:!1,rewardsNum:n.data.likeAndRewards&&n.data.likeAndRewards.rewards_num||0},r}h()(t,e),t.prototype.renderVIcon=function(){var e=this.props.data||{},t=e.setting,n=e.userData;if(t.useServerV&&n.auth_type){var r=Object(M.buildServerVIcon)(n.auth_type,"avatar_icon",t.user_verify_info_conf);if(r)return g.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}})}return""},t.prototype.renderRewardList=function(e){var t=e.rewards_list,n=e.rewards_list_url,r=(this.state.rewardsNum>3?"等":"")+this.state.rewardsNum+"个人赞赏过",o=t&&Array.isArray(t)?t.length:0,i=o<3?3-o:0;return g.a.createElement("a",{className:"reward-list",href:n,onClick:this.enterRewardsList},g.a.createElement("div",{className:"avatar-list"},t&&t.map((function(e,t){if(t<3)return g.a.createElement("div",{className:"avater-wrap",key:t},g.a.createElement("img",{className:"avater",src:e.avatar_url,alt:""}))})),i&&this.state.showCurrentUserInRewardsList?this.state.currentUserAvatarList.map((function(e,t){if(t<i)return g.a.createElement("div",{className:"avater-wrap",key:"current"+t},g.a.createElement("img",{className:"avater",src:e,alt:""}))})):null),g.a.createElement("div",{className:"info"},r))},t.prototype.showRewards=function(e){var t=this.props.data||{},n=(t.context,t.statisticsData),r=t.userData;t.likeAndRewards;M.statistics.sendUmengEventV3("rt_reward",{media_id:r.mediaId,item_id:n.item_id,group_id:n.group_id,enter_from:n.enter_from,category_name:n.category_name,log_pb:n.log_pb,position:"detail",is_column:1}),location.href=this.props.data.likeAndRewards.rewards_open_url},t.prototype.followHandler=function(){var e=this.props.data||{},t=(e.likeAndRewards,e.userData);this.state.followState,t.userId},t.prototype.profileClickHandler=function(){(this.props.data||{}).userData},t.prototype.enterRewardsList=function(){var e=this.props.data||{},t=(e.context,e.statisticsData),n=e.userData;M.statistics.sendUmengEventV3("reward_user_view",{media_id:n.mediaId,item_id:t.item_id,group_id:t.group_id,enter_from:t.enter_from,category_name:t.category_name,log_pb:t.log_pb,is_column:1})},t.prototype.componentDidMount=function(){var e=this.props.data||{},t=e.statisticsData,n=e.userData,r=this;M.statistics.sendUmengWhenTargetShown(this.dom,"show_reward","",{media_id:n.mediaId,item_id:t.item_id,group_id:t.group_id,enter_from:t.enter_from,category_name:t.category_name,log_pb:t.log_pb,is_column:1},!0,{version:3}),ze.on("pageStateChange",(function(e){"donate_action"==e.type&&e.id==t.group_id&&"status"in e&&e.status&&U.a.invoke("getCurrentUserAvatar",{},(function(e){var t=r.state.currentUserAvatarList;e&&e.avatar_url&&t.push(e.avatar_url),r.setState({showCurrentUserInRewardsList:!0,rewardsNum:this.state.rewardsNum+1,currentUserAvatarList:t})}))}))},t.prototype.render=function(){var e=this,t=this.props.data||{},n=t.likeAndRewards,r=t.userData;t.setting;return g.a.createElement("div",{className:"article-bottom-user",ref:function(t){e.dom=t}},g.a.createElement("a",{href:r.link,onClick:this.profileClickHandler},g.a.createElement("div",{className:r.user_decoration&&r.user_decoration.url?"avatar avatar-width-decoration":"avatar"},g.a.createElement("div",{className:"avatar-wrap"},g.a.createElement("img",{className:"avatar-image",src:r.avatar,alt:"头像"})),this.renderVIcon()),r.user_decoration&&r.user_decoration.url?g.a.createElement("div",{className:"avatar-decoration","aria-hidden":"true",style:{backgroundImage:"url("+r.user_decoration.url+")"}}):null,g.a.createElement("div",{className:"avatar-decoration avatar-night-mask","aria-hidden":"true"}),g.a.createElement("div",{className:"name-wrap"},g.a.createElement("div",{className:"name"},r.name)),r.intro?g.a.createElement("div",{className:"desc"},r.intro):null),g.a.createElement("div",{className:"buttons"},M.client.isAndroid&&n&&n.rewards_open_url?g.a.createElement("button",{className:"reward",onClick:this.showRewards},"赞赏"):null),M.client.isAndroid&&this.state.rewardsNum>0?this.renderRewardList(n):null)}}(g.a.Component),n(302),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.wrapDOM=null,r.clickHandler=r.clickHandler.bind(r),r}return h()(t,e),t.prototype.setCompVal=function(){var e=document.querySelector("article");e&&(this.wrapDOM=document.createElement("p"),e.appendChild(this.wrapDOM))},t.prototype.componentDidMount=function(){M.statistics.sendUmengWhenTargetShown(this.dom,"bottom_banner_show","",{media_id:Ee("author.mediaId")||"",group_id:Ee("statistics.group_id")||"",banner_id:this.props.data.context.highQualityArticle.banner_id||0,banner_category:"boutique"},!0,{version:3})},t.prototype.clickHandler=function(){M.statistics.sendUmengEventV3("bottom_banner_click",{media_id:Ee("author.mediaId")||"",group_id:Ee("statistics.group_id")||"",banner_id:this.props.data.context.highQualityArticle.banner_id||0,banner_category:"boutique"})},t.prototype.render=function(){var e=this,t=this.props.data.context,n=t.new_infor_action,r=2!=n&&n?"category-guide-b":"category-guide";return g.a.createElement("a",{className:r,href:t.highQualityArticle.schema,onClick:this.clickHandler,ref:function(t){e.dom=t}},t.highQualityArticle.title,g.a.createElement("i",{className:"iconfont icon-rarrow"}))},t}(v.Component)),fn=(n(303),function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.clickBanner=function(e){location.href=e},t.prototype.render=function(){var e=this,t=this.props.data,n=t.image,r=t.description,o=t.link;return n?g.a.createElement("div",{className:"article-bottom-banner"},g.a.createElement("img",{className:"banner-image",src:n,alt:r,onClick:function(){return e.clickBanner(o)}})):null},t}(v.Component)),hn=je(pn),mn=je(dn),_n=je(un),vn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},r._addShowEvt=r._addShowEvt.bind(r),r._getCards=r._getCards.bind(r),r._getBeforeFooterDom=r._getBeforeFooterDom.bind(r),r._getAfterFooterDom=r._getAfterFooterDom.bind(r),r.statisticsData=Ee("statistics")||{},r.canBroadcastCardsEvent=!0,r}return h()(t,e),t.prototype._addShowEvt=function(e){ee("show",e)},t.prototype._getCards=function(e){var t=e.context||{},n=t.cards||[],r=n.length;this.canBroadcastCardsEvent&&(window.cardEvent&&window.cardEvent.cardSafeBroadcast(["cards",document.querySelector(".footer-cards-container"),t],(function(){var e=t.cards&&t.cards.length&&t.cards[0].type;e&&window.cardsMonitor&&window.cardsMonitor(".footer-cards-container","footer",1e3,{card_type:e})})),this.canBroadcastCardsEvent=!1);var o={score:ln,nscore:un};return r>0?n.map((function(t,n){var r=o[t.type];if(r){var i=je(r);return g.a.createElement(i,{key:r+"-comp"+n,card:t,data:e})}return null})):null},t.prototype._getBeforeFooterDom=function(e){var t={context:e.context,statisticsData:this.statisticsData,setting:e.setting,userData:Ee("author")||{}};if(e.context){var n={context:e.context,statisticsData:this.statisticsData,setting:e.setting},r=Ee("article.showBottomBanner",!1),o=Ee("article.bottomBanner",{});return g.a.createElement(v.Fragment,null,g.a.createElement(mn,{data:t}),e.context.highQualityArticle?g.a.createElement(hn,{data:n}):null,r?g.a.createElement(fn,{data:o}):null,e.context.score_card?g.a.createElement(_n,{card:e.context.score_card.detail,data:e}):null,e.context.operate_info&&!e.context.score_card?g.a.createElement(_n,{card:e.context.operate_info,data:e}):null)}return g.a.createElement(mn,{data:t})},t.prototype._getAfterFooterDom=function(e){var t=void 0;try{t=e.context.labels.labels_words.length}catch(e){return null}return t<1?null:g.a.createElement(cn,{data:e})},t.prototype.render=function(){var e=this.props.data||{},t=c()({},e,{addShowEvt:this._addShowEvt,statisticsData:this.statisticsData});return g.a.createElement(v.Fragment,null,this._getBeforeFooterDom(t),g.a.createElement("div",{className:"footer-before-cards-container"}),g.a.createElement("div",{className:"footer-cards-container"},e.context?this._getCards(t):null),e.context?this._getAfterFooterDom(t):null)},t}(v.Component),gn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));if(r.ele=document.createElement(n.tag||"div"),"footer"===n.tag)if(n.parentDom)n.parentDom.parentNode!=document.body&&document.body.appendChild(n.parentDom);else{r.parentDom=document.createElement("footer");var o=document.querySelector("#toutiao_ios_footer_div");o?o.parentNode.insertBefore(r.parentDom,o):document.body.appendChild(r.parentDom)}if("header"===n.tag)if(n.parentDom){if(n.parentDom.parentNode!=document.body){var i=document.body.children[0];document.body.insertBefore(n.parentDom,i)}}else{r.parentDom=document.createElement("header");var a=document.body.children[0];document.body.insertBefore(r.parentDom,a)}if("article"===n.tag)if(n.parentDom){if(n.parentDom.parentNode!=document.body){var s=document.body.children[0];document.body.insertBefore(n.parentDom,s)}}else{r.parentDom=document.createElement("article");var c=document.body.children[0];document.body.insertBefore(r.parentDom,c)}return r.parentDom=r.parentDom||n.parentDom||document.body,r}return h()(t,e),t.prototype.componentDidMount=function(){this.props.replaceFlag?this.parentDom.parentNode.replaceChild(this.ele,this.parentDom):this.parentDom.appendChild(this.ele)},t.prototype.componentWillUnmount=function(){},t.prototype.render=function(){return w.a.createPortal(this.props.children,this.ele)},t}(v.Component),yn=function(){function e(){u()(this,e),console.info("DiversionIFrame");var t=this._iframe=document.createElement("iframe");t.setAttribute("id","diversion2transcode"),t.setAttribute("sandbox","allow-scripts allow-same-origin"),t.style.width=0,t.style.height=0,t.style.display="none",document.documentElement.appendChild(t),this._loaded=!1}return e.prototype.loadAsync=function(e){var t=this;!this._loaded&&e&&(this._sid=setTimeout((function(){t._iframe.src=e,t._loaded=!0,t._sid=null}),100))},e.prototype.destroy=function(){this._sid&&clearTimeout(this._sid),this._loaded&&(this._iframe.src="about:blank",this._loaded=!1)},e}();function wn(e,t){var n=e.audio_info;return t&&t.audio_info&&(n=t.audio_info),n}var En=je(Rt),bn=je(on),Sn=je(vn),xn=new yn,Tn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},r.lastSetH5ExtraFlag=!1,r.setArticle=r.setArticle.bind(r),r.setWebContentUrl=r.setWebContentUrl.bind(r),r.article=null,r}return h()(t,e),t.prototype.setArticle=function(e,t){if(e&&"v55"!==e&&!t){var n=e.indexOf("<article>"),r=e.indexOf("</article>"),o=e.substring(n+9,r),i=e.indexOf("<header>"),a=e.indexOf("</header>"),s=e.substring(i+8,a);return window.felog("fe_setContent","start_setarticle"),$("article").html(o),window.felog("fe_setContent","end_setarticle"),!t&&s.indexOf("authorbar")>0&&($("header").html(s),M.client.isNewsArticleVersionNoLessThan("7.2.7")&&!0!==window.hadSentDomready&&(M.statistics.sendBytedanceRequest("domReady?setContentTimeStamp="+window.startTimestamp+"&domreadyTimeStamp="+ +new Date+"&isHTMLRender=1&articleVersion=1834"),window.hadSentDomready=!0,M.statistics.sendUmengEventV3("article_web_extra_info",{version:"1834",duration:+new Date-window.startTimestamp,group_type:window.APP_VERSION,action_type:"html_render"}),window.felog("fe_setContent","send_domReady"),window.felog("fe_isHTMLRender","1"))),_()("sendCustomTimeLog","end_bind_content","iphone_"+window.APP_VERSION,+new Date-window.startTimestamp),e}return t&&e&&"v55"!==e?t:null},t.prototype.setWebContentUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.articleWebContentUrl;t&&xn.loadAsync(t)},t.prototype.componentDidMount=function(){Ae("click","article a",(function(e){if(!e.currentTarget.classList.contains("image")){var t=e.currentTarget.href;if(t){var n=Ee("statistics")||{},r=n.enter_from,o=n.category_name,i=n.group_id,a=n.log_pb,s=n.g_source;M.statistics.sendUmengEventV3("external_link_click",{enter_from:r,category_name:o,group_id:i,log_pb:a,group_source:s,source:s,url_click:t})}}}))},t.prototype.componentWillUnmount=function(){xn.destroy(),De("click","article a")},t.prototype.componentDidUpdate=function(){document.querySelector("#header")&&!window.hadSentRenderFinish&&(M.statistics.sendBytedanceRequest("renderFinish?timeStamp="+(new Date).getTime()),window.felog("fe_renderFinish","called"),window.hadSentRenderFinish=!0)},t.prototype.render=function(){var e,t,n=this.props,r=n.context,o=n.h5Extra,i=n.content,a=void 0,s=void 0,l=void 0;this.article=this.setArticle(i,this.article),this.setWebContentUrl(o),e=function(e,t,n){if(!e||!n)return null;var r=e.article||{},o=e.author||{};if(window.receivedEmptyExtra&&(!e||!e.article.title)){var i=n.indexOf('<div class="tt-title">'),a=n.substring(i+22),s=a.indexOf("</div>");a=a.substring(0,s),r=c()({},e.article,{title:a}),o=c()({},e.author,{show:!1})}return{article:r,author:o,setting:e.h5_settings,useServerV:e.useServerV,hasExtraSpace:e.hasExtraSpace,hideFollowButton:e.hideFollowButton,redPack:t?t.red_pack:null,statistic:e.statistics,audioInfo:wn(e,t)}}(o,r,i),t=function(e,t,n){return e&&n?{setting:e.h5_settings,statistic:e.statistics,context:t,article:e.article}:null}(o,r,i),a=r&&r.car_image_info?r.car_image_info:null,s=r&&r.stock_dingpan_desc?r.stock_dingpan_desc:null,l=r&&r.article_img_stocks?r.article_img_stocks:null;var u=document.querySelector("footer");return M.client.isIOS&&(0===M.client.newsArticleVersion.indexOf("7.3.9")||0===M.client.newsArticleVersion.indexOf("7.4.0"))&&!u.classList.contains("footer-bottom")&&u.classList.add("footer-bottom"),g.a.createElement(v.Fragment,null,g.a.createElement(gn,{parentDom:document.querySelector("header"),replaceFlag:"1",tag:"header"},e?g.a.createElement(En,{data:e}):null),e?g.a.createElement(bn,{carImage:a,stockImage:s,stockTrendImage:l,context:r}):null,t?g.a.createElement(gn,{parentDom:u,replaceFlag:"1",tag:"footer"},g.a.createElement(Sn,{data:t})):null)},t}(v.Component),On=function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.tellNativeHeaderMess=function(){[{domSelector:"#profile",JsBridge:"showTitleBarPgcLayout"},{domSelector:".wenda-title",JsBridge:"showWendaABHeaderLayout"}].forEach((function(e,t){ee("header",e)}))},t.prototype.componentDidMount=function(){var e=this.props.data;if(e&&e.article&&"wenda"===e.article.type){var t=0,n=0,r=Object(y.findDOMNode)(this._title),o=Object(y.findDOMNode)(this._author);r&&(t=r.getBoundingClientRect().height),o&&(n=o.getBoundingClientRect().height+20+t),U.a.invoke("onGetHeaderAndProfilePosition",{header_position:t,profile_position:n})}M.client.isAndroid&&this.tellNativeHeaderMess()},t.prototype.render=function(){var e=this,t=this.props.data;return t&&t.article&&t.article.type?(console.info("wendaHeader",t),g.a.createElement("div",{id:"header"},g.a.createElement(Fe,c()({},t,{ref:function(t){e._title=t}})),t.author.show?g.a.createElement(Dt,c()({},t,{ref:function(t){e._author=t}})):g.a.createElement("div",{style:{height:"20px"}}))):null},t}(g.a.Component),Cn=(n(304),function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.enlargeImg=function(e,t){console.info("enlargeImg",t,e);var n=this.props.imageList,r=t.target,o="https://p1.pstatp.com/list/400x400/"+n[e].web_uri,i=/^https:\/\/p1.pstatp.com\/list\/400x400\//;if(o){var a=function(e){for(var t=e.offsetParent,n=e.offsetLeft,r=e.offsetTop;null!==t;)n+=t.offsetLeft+t.clientLeft,r+=t.offsetTop+t.clientTop,t=t.offsetParent;return{left:n,top:r}}(r),s=r.getBoundingClientRect();i.test(o)&&o.replace(i,"https://p1.pstatp.com/large"),location.href="bytedance://full_image?index="+e+"&url="+o+"&left="+a.left+"&top="+a.top+"&width="+Math.round(s.width)+"&height="+Math.round(s.height)}},t.prototype.render=function(){var e=this,t=this.props.imageList,n=t.length,r="";return r=1===n?" col-1":2===n||4===n?" col-2":" col-3",g.a.createElement("div",{className:"pic-cell-wenda col-3 "+r},t.map((function(t,r){return g.a.createElement("div",{className:"pic-cell-pic",key:"image"+r,onClick:e.enlargeImg.bind(e,r)},g.a.createElement("div",{className:"pic-cell-pic-inner"},g.a.createElement("div",{className:"pic-cell-pic-c"},1===n?g.a.createElement("img",{"data-index":r,src:"https://p1.pstatp.com/large/"+t.web_uri}):g.a.createElement("img",{"data-index":r,width:"400",height:"400",src:"https://p1.pstatp.com/list/400x400/"+t.web_uri}))))})))},t}(v.Component)),kn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={videoPropsArr:[]},console.info("[component/WuKongImage]"),r.setCompVal(),r}return h()(t,e),t.prototype.setCompVal=function(){var e=document.querySelector("article");this.wrapDOM=document.createElement("div"),e.appendChild(this.wrapDOM),this.wrapDOM.classList.add("has-wenda-pic-cell")},t.prototype.render=function(){return Object(y.createPortal)(g.a.createElement(Cn,{imageList:this.props.imageList}),this.wrapDOM)},t}(v.Component),Nn=(n(305),je(Dt),{answer:"paid_question_write_answer",append:"paid_question_ask_more_detail",supplement:"paid_question_write_more_detail"}),In=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.refuseAnswer=r.refuseAnswer.bind(r),r.gotoBuyHandler=r.gotoBuyHandler.bind(r),r.state={},r}return h()(t,e),t.prototype.componentDidMount=function(){U.a.invoke("checkAssets",{channel:"learning_lazy",type:"web"})},t.prototype.gotoAnswer=function(e){var t=this.props.wendaExtra,n=void 0===t?{}:t,r=n.question.pay_status,o=2==r?"ask_more_detail":"waiting_for_answer";if(2!=n.question.user_role||2!=r&&!n.question.append_time||"append"!==e){var i={section:o,qid:n.qid};switch("supplement"===e&&(i.to_user_id=n.question.answerer.user_id),M.statistics.sendUmengEventV3(Nn[e],i),e){case"answer":location.href=n.answer_schema;break;case"append":location.href=n.append_schema;break;case"supplement":location.href=n.supplement_schema||"sslocal://wenda_paid_question_supplenment?is_paid_mode=1&api_param=%7B%7D&gd_ext_json=%7B%7D&paid_question_id="+n.qid}}else U.a.invoke("toast",{text:"仅限追问一次"})},t.prototype.refuseAnswer=function(){var e=this,t=this.props.wendaExtra,n=void 0===t?{}:t,r=2==n.question.pay_status?"ask_more_detail":"waiting_for_answer";M.statistics.sendUmengEventV3("paid_question_deny",{section:r,qid:n.qid});U.a.invoke("alert",{title:"确认放弃回答？",message:"放弃回答将无法获得本次咨询费用，请确认是否放弃回答",confirm_text:"确认",cancel_text:"取消"},(function(t){if(M.statistics.sendUmengEventV3(1==t.code?"paid_question_deny_confirm":"paid_question_deny_cancel",{section:r,qid:n.qid}),1==t.code){var o={url:"https://i.snssdk.com/wenda/v1/commit/postpayquestionrefuse/",method:"POST",params:{},data:{qid:n.qid},header:{},needCommonParams:!0};U.a.invoke("fetch",o,(function(t){var r={};try{r=JSON.parse(t.response)}catch(e){console.error(e)}1==t.code&&0==r.err_no?e.setState({is_refuse:!0}):U.a.invoke("toast",{text:t.err_tips||"服务异常，请稍后再试"}),et.call("app.wendaPayStatusChange",{current_status:"refuse_answer",qid:n.qid})}))}}))},t.prototype.gotoBuyHandler=function(){var e=this.props,t=e.wendaExtra,n=void 0===t?{}:t,r=e.statistic,o=e.author;M.statistics.sendUmengEventV3("paid_wenda_onlook",{category_name:r.category_name,enter_from:r.enter_from,qid:n.qid,ansid:n.ansid,group_id:n.ansid,question_price:n.question.purchased_price/100,to_user_id:o.userId}),U.a.invoke("is_login",{},(function(e){e&&(e.is_login||1==e.code)?location.href=n.watcher_purchase_schema:U.a.invoke("login",{platform:""})}))},t.prototype.render=function(){var e=this.props,t=e.wendaExtra,n=void 0===t?{}:t,r=e.idealWebviewHeight;if(document.querySelector("article").classList.remove("pay-wenda"),n.question&&n.question.is_pay_wenda){var o=n.question,i=n.question.user_role,a=n.question.pay_status;if(1==i&&(0==a||1==a||2==a)){if(2==a)return g.a.createElement("div",{className:"wait-answer-with-append wenda-pay-article-wrap",style:{minHeight:"0px"}},g.a.createElement("button",{className:"answer-button"},"补充问题"));var s=o.answerer,c={userId:s.user_id,name:s.uname,link:s.user_schema+"&from_page=answer_detail_top_card",intro:s.user_intro,avatar:s.avatar_url,isAuthorSelf:!1,verifiedContent:s.is_verify?"PLACE_HOLDER":"",medals:s.medals,followState:s.is_following?"following":"",show:!0},l={auth_type:"",auth_info:""};try{l=JSON.parse(s.user_auth_info)}catch(e){}return c.auth_type=s.user_auth_info?l.auth_type||0:"",c.auth_info=l.auth_info,{article:this.props.article,author:c,setting:this.props.setting,useServerV:this.props.useServerV,hasExtraSpace:!1,hideFollowButton:!1,statistic:this.props.statistic,wendaExtra:n,wendaContext:null},g.a.createElement("div",{className:"wenda-pay-article-wrap"},g.a.createElement("div",{className:"wait-answer"},g.a.createElement("a",{className:"user",href:s.user_schema},g.a.createElement("img",{src:s.avatar_url}),g.a.createElement("span",null,s.uname)),g.a.createElement("div",null,"还没有回答你的问题，请耐心等待")))}if(2==i&&(this.state.is_refuse||o.is_refuse||3==a))return g.a.createElement("div",{className:"refuse-answer"},g.a.createElement("div",{className:"text"},this.state.is_refuse||o.is_refuse?"你已放弃回答，问题关闭":"问题超过48小时未回答，已关闭"));if(2==i&&(1==a||2==a)&&void 0!==r)return g.a.createElement("div",{className:"need-answer wenda-pay-article-wrap",style:{minHeight:Math.max(r,0)+"px"}},g.a.createElement("div",{className:"button-wrap"},g.a.createElement("button",{className:"answer",onClick:this.gotoAnswer.bind(this,"answer")},"立即回答"),g.a.createElement("div",{className:"sub-button-groups"},g.a.createElement("div",{className:"sub-button "+(2==a||o.append_time?"disabled":""),onClick:this.gotoAnswer.bind(this,"append")},g.a.createElement("div",{className:"text"},"问题不清楚"),g.a.createElement("div",{className:"sub-text"},"立即追问")),g.a.createElement("div",{className:"sub-button",onClick:this.refuseAnswer},g.a.createElement("div",{className:"text"},"无法回答"),g.a.createElement("div",{className:"sub-text"},"放弃咨询费用")))),2==a||o.append_time?null:g.a.createElement("div",{className:"info-wrap"},g.a.createElement("div",{className:"text"},"该问题在 ",n.question.deadline," 前回答有效"),g.a.createElement("div",{className:"text"},"回答可获得",g.a.createElement("span",{className:"money"}," ",n.question.purchased_price/100,"元 "),"咨询费用")));if(1==i&&3==a)return g.a.createElement("div",{className:"refuse-answer"},g.a.createElement("div",{className:"title-text"},"问题关闭"),g.a.createElement("div",{className:"sub-text"},"对方无法回答你的问题，费用将会在24小时内",M.client.isAndroid?"原路退回":"退回「我的-钱包-头条币」中","，问问其他人吧"));if(3==i&&4==a&&!o.has_purchased)return document.querySelector("article").classList.add("pay-wenda"),g.a.createElement("div",{className:"need-pay-answer"},g.a.createElement("div",{className:"rectangle"}),g.a.createElement("div",{className:"story-lock",onClick:this.gotoBuyHandler},g.a.createElement("div",{className:"icon"}),g.a.createElement("div",{className:"info"},o.purchased_price/100||0,M.client.isAndroid?"元":"币"," 付费围观")))}return null},t}(v.Component),An=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={videoPropsArr:[]},r.setCompVal(),r}return h()(t,e),t.prototype.setCompVal=function(){var e=document.querySelector("article");this.wrapDOM=document.createElement("div"),e.appendChild(this.wrapDOM),this.wrapDOM.classList.add("wenda-pay-article")},t.prototype.render=function(){return Object(y.createPortal)(g.a.createElement(In,this.props),this.wrapDOM)},t}(v.Component),Dn=je(An),Rn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={render:!1},r.cardHtml=null,r.canBroadcastCardsEvent=!0,r.setCompVal(),r.wukongImageHtml=r.wukongImageHtml.bind(r),r.checkWindowSize=r.checkWindowSize.bind(r),r.fixArticle=r.fixArticle.bind(r),r.onCarouselImageSwitch=r.onCarouselImageSwitch.bind(r),r}return h()(t,e),t.prototype.setCompVal=function(){this.imageSizeInitTimer=null,this.wenda=Ee("wenda_extra")||{},this.statisticsData=Ee("statistics")||{}},t.prototype.checkWindowSize=function(){var e=this,t=window.innerWidth-30,n=window.innerHeight;this.statisticsData=Ee("statistics"),console.info("checkWindowSize",t,n),t<=0||n<=0?this.imageSizeInitTimer=setTimeout((function(){e.checkWindowSize()}),0):(window.addEventListener("scroll",ut),this.setState({render:!0},(function(){Q()})),window.onresize=function(){var e=D().width;console.info(e,"width onresize"),e&&It.resizeImage(e-30)},It.initImageProcess(ut),Pt())},t.prototype.fixArticle=function(){var e=Ee("h5_settings")||{},t=Ee("statistics")||{};Jt(e),Vt(),Xt(t)},t.prototype.componentDidMount=function(){var e=this;this.checkWindowSize(),this.fixArticle(),We.cardSafeBroadcast(["card-render",document.querySelector("body")]),setTimeout((function(){document.body.classList.remove("opacity")}),0),ze.on("pageStateChange",(function(t){"carousel_image_switch"===t.type&&e.wenda&&!e.wenda.is_light&&e.wenda.ansid==t.id&&e.onCarouselImageSwitch(t.status)}))},t.prototype.onCarouselImageSwitch=function(e){It.fetchOneImage(e)},t.prototype.componentWillUnmount=function(){clearTimeout(this.imageSizeInitTimer),dt(),window.removeEventListener("scroll",ut),ze.off("pageStateChange")},t.prototype.wukongImageHtml=function(){var e=this.props.data,t=(void 0===e?{}:e).wendaExtra,n=void 0===t?{}:t;if(n.question&&n.question.is_pay_wenda){var r=n.question.user_role,o=n.question.pay_status,i=n.question.has_purchased;if(4!=o)return;if(3==r&&!i)return}var a=this.wenda,s=a.image_list||[];return s.length>0&&a.is_light?g.a.createElement(kn,{imageList:s}):null},t.prototype.renderPayAnswer=function(){var e=this.props,t=e.data,n=void 0===t?{}:t,r=e.idealWebviewHeight,o=n.wendaExtra,i=void 0===o?{}:o;return i.question&&i.question.is_pay_wenda?g.a.createElement(Dn,c()({},n,{idealWebviewHeight:r})):null},t.prototype.render=function(){var e=this.state.render;return console.info("wendaArticleRender",e),e?g.a.createElement(v.Fragment,null,g.a.createElement(Ht,null),this.wukongImageHtml(),this.renderPayAnswer()):null},t}(v.Component),Ln=(n(306),function(e){console.info("WendaFooterComp",e);var t=e.data,n=(t.article,t.wendaExtra||{}),r=t.wendaContext||{},o=parseInt(n.wd_version),i=r.is_buryed,a=n.detail_related_report_style;function s(){U.a.invoke("dislike",{options:17})}function c(e){var t=e.target;U.a.invoke("dislike",{options:17},(function(e){e.err_no||(window.wendaOppose?o>=8&&(t.classList.remove("is-buryed"),t.innerHTML="反对",window.wendaOppose=!window.wendaOppose):(t.classList.add("is-buryed"),t.innerHTML="已反对",window.wendaOppose=!window.wendaOppose))}))}window.wendaOppose=i;return r.linkurl||r.is_author||o>=6&&(o<13||2!=a&&3!=a)||0==a&&o<6?g.a.createElement("div",{className:"wd-footer"},r.linkurl?g.a.createElement("a",{href:"sslocal://webview?url="+encodeURIComponent(r.linkurl)+"&title=%E7%BD%91%E9%A1%B5%E6%B5%8F%E8%A7%88",className:"link-more",id:"wd-link-more"},"了解更多"):null,function(){if(r.is_author)return null;if(o>=6&&(o<13||2!=a&&3!=a)){var e=r.is_buryed?"已反对":"反对";return g.a.createElement(v.Fragment,null,a?null:g.a.createElement("div",{item:"dislike-and-report",className:"dislike-and-report no-icon",style:{},onClick:c},e))}return 0==a&&o<6?g.a.createElement("div",{className:"dislike-and-report",onClick:s},"不喜欢"):null}()):null}),Pn=(n(307),function(e){console.info("WendaCooperate",e);var t,n,r,o=e.data,i=o.setting||{},a=o.author||{};return g.a.createElement("div",{className:"wenda-panel-co"},g.a.createElement("div",{className:"wenda-cooperate"},g.a.createElement("div",{className:"authorbar wenda clearfix"},g.a.createElement("a",{className:"author-avatar-link pgc-link",href:a.link},g.a.createElement("div",{className:"author-avatar"},g.a.createElement("img",{className:"author-avatar-img",src:a.avatar})),o.useServerV&&a.auth_info?(t=a.auth_type,n="avatar_icon",(r=i.user_verify_info_conf[""+t])&&(r=r[n])?(n=r.icon,n=r.web_icon_ios,g.a.createElement("div",{className:"server-v-icon-wrap"},g.a.createElement("i",{className:"server-v-icon",style:{backgroundImage:"url("+n+")"}}," "))):null):null),o.showUserDecoration&&a.user_decoration&&a.user_decoration.url?g.a.createElement("div",{className:"avatar-decoration",style:{backgroundImage:"url("+a.user_decoration.url+")"}}):null,g.a.createElement("div",{className:"avatar-decoration avatar-night-mask"}),g.a.createElement("div",{className:"author-bar"},g.a.createElement("div",{className:"name-link-wrap"},g.a.createElement("div",{className:"name-link-w"},g.a.createElement("a",{className:"author-name-link pgc-link",href:a.link},a.name,g.a.createElement("span",{className:"cooper-tag"},"问答战略合作伙伴")))),g.a.createElement("a",{className:"sub-title-w",href:a.link},g.a.createElement("span",{className:"sub-title"},a.cooperate_text)))),g.a.createElement("a",{className:"cooperate-link",href:a.cooperate_link},g.a.createElement("span",{className:"txt"},"查看官方网站",g.a.createElement("em",{className:"iconfont"},"")))))}),Mn=(n(308),function(e){var t=e.data,n=(e.ansStrategy||{}).show_bottom||{},r=t.wendaExtra,o={value:r.qid,ext_value:r.nice_ans_count,extra:{enter_from:r.enter_from,ansid:r.ansid,parent_enterfrom:r.parent_enterfrom||"",group_id:r.ansid}};return ee("show",{domSelector:"#wenda-answer",value:"answer_detail_bottom_write_answer_show",obj:o}),g.a.createElement("a",{style:{overflow:"initial"},onClick:function(){M.statistics.sendUmengEventV3("answer_detail_bottom_write_answer",o)},href:L(n.schema||"",{source:"answer_detail_bottom_write_answer"}),className:"bottom-big-answer-button",id:"wenda-answer"},g.a.createElement("div",{className:"pr"},g.a.createElement("div",{className:"wdq"},g.a.createElement("span",null,r.title)),g.a.createElement("div",{className:"bottom-answer-btn"},g.a.createElement("div",{className:"btn-text"},g.a.createElement("i",null,""),n.text)),g.a.createElement("i",{className:"left-quote"},""),g.a.createElement("i",{className:"right-quote"},"")))}),jn=(n(309),function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.goToAsk=function(e){var t=this.props.wendaExtra,n=(void 0===t?{}:t).other_authors;M.statistics.sendUmengEventV3("recommend_paid_author_click",{to_user_id:n[e].user_id}),location.href=n[e].pay_question_schema},t.prototype.render=function(){var e=this;console.info("WendaAnswererList",this.props);var t=this.props,n=(t.data,t.setting),r=t.statistic,o=t.useServerV,i=t.wendaExtra,a=(void 0===i?{}:i).other_authors;return console.info("other_authors",a),a&&Array.isArray(a)&&a.length>0?g.a.createElement("div",{className:"answerer_list"},g.a.createElement("div",{className:"split"}),g.a.createElement("div",{className:"title-wrap"},g.a.createElement("div",{className:"title"},"邀请他人回答")),a.map((function(t,i){var a={link:"sslocal://profile?uid="+t.user_id,avatar:t.avatar_url,auth_info:"",auth_type:0};try{var s=JSON.parse(t.user_auth_info);a.auth_info=s.auth_info,a.auth_type=s.auth_type}catch(e){console.error(e)}return g.a.createElement("div",{className:"answerer_items no-"+i,key:i},g.a.createElement(Be,{authorInfo:a,useServerV:o,articleType:"wenda",setting:n,statistic:r}),g.a.createElement("div",{className:"button-group"},g.a.createElement("button",{onClick:e.goToAsk.bind(e,i)},"提问")),g.a.createElement("div",{className:"author-bar"},g.a.createElement("div",{className:"name-link-wrap"},g.a.createElement("div",{className:a.auth_info?"name-link-w":"name-link-w no-intro"},g.a.createElement("a",{className:"author-name-link pgc-link",href:a.link},t.uname))),g.a.createElement("a",{className:"sub-title-w",href:a.link},g.a.createElement("span",{className:"sub-title"},a.auth_info))))})),g.a.createElement("div",{className:"bottom-info"},"没有更多了 ")):null},t}(g.a.Component)),Un=n(92),Hn=n.n(Un),Fn=(n(310),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={isFolded:!1},r.lineHeight=0,r.judgeNeedFold=r.judgeNeedFold.bind(r),r.handleClickTips=r.handleClickTips.bind(r),r.stopEvent=r.stopEvent.bind(r),r.getElement=r.getElement.bind(r),r}return h()(t,e),t.prototype.componentDidMount=function(){var e=this;this.lineHeight=parseFloat(window.getComputedStyle(this.foldMainContentRef)["line-height"]),this.judgeNeedFold(),window.addEventListener("resize",this.judgeNeedFold,!1),setTimeout((function(){e.placeholderRef.style.width=e.foldTipsRef.getBoundingClientRect().width+"px"}),200)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.judgeNeedFold,!1)},t.prototype.getElement=function(e,t){this[e]=t},t.prototype.judgeNeedFold=function(){var e=this.props.foldFrom;this.setState({isFolded:!!e&&this.foldMainContentRef.getBoundingClientRect().height>this.lineHeight*e})},t.prototype.stopEvent=function(e){e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0,e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1},t.prototype.handleClickTips=function(e){this.props.canExpand&&(this.stopEvent(e),this.setState({isFolded:!1}),window.removeEventListener("resize",this.judgeNeedFold,!1))},t.prototype.render=function(){var e=this,t=this.props,n=t.foldTo,r=t.className,o=t.isDangerous,i=t.foldText,a=t.foldTips,s=this.state.isFolded,c=(n-1)/n*100+"%",l=s?{height:n*this.lineHeight+"px",lineHeight:this.lineHeight+"px",WebkitLineClamp:n}:null,u=s?{width:(this.foldTipsRef&&this.foldTipsRef.getBoundingClientRect().width||53)+"px",height:n*this.lineHeight+"px",shapeOutside:"polygon(100% 0, 100% 100%, 0 100%, 100% "+c+", 100% 0)",clipPath:"polygon(100% 0, 100% 100%, 0 100%, 100% "+c+", 100% 0)"}:null,d=s?{top:(n-1)*this.lineHeight+"px"}:null;return g.a.createElement("div",{className:r},g.a.createElement("div",{style:l,className:Hn()("fold_main",{"fold_text-overflow":s},{"fold_shape-overflow":s})},g.a.createElement("div",{className:"fold_triangle-placeholder",style:u,ref:function(t){return e.getElement("placeholderRef",t)}}),o?g.a.createElement("div",{className:"fold_main-content",dangerouslySetInnerHTML:{__html:i},ref:function(t){return e.getElement("foldMainContentRef",t)}}):g.a.createElement("div",{className:"fold_main-content",ref:function(t){return e.getElement("foldMainContentRef",t)}},i),g.a.createElement("div",{className:"fold_tips",style:d,ref:function(t){return e.getElement("foldTipsRef",t)},onClick:this.handleClickTips},g.a.createElement("div",{className:"fold_tips-point"},"..."),a)))},t}(g.a.Component)),Bn=(n(311),function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.goToAsk=function(){var e=this.props.context,t=(void 0===e?{}:e).hot_paywenda;location.href=t.post_answer_schema},t.prototype.goToDetail=function(e){var t=this.props.context,n=(void 0===t?{}:t).hot_paywenda;location.href=n.hot_data[e].answer_detail_schema},t.prototype.render=function(){var e=this;console.info("WendaAnswererList",this.props);var t=this.props,n=t.setting,r=t.statistic,o=t.useServerV,i=t.context,a=(void 0===i?{}:i).hot_paywenda,s=void 0===a?{}:a,c=s.purchased_price,l=s.user,u=s.hot_data;console.info("hot_paywenda",s);var d={link:l.user_schema,avatar:l.avatar_url,auth_info:"",auth_type:0};try{var p=JSON.parse(l.user_auth_info);d.auth_info=p.auth_info,d.auth_type=p.auth_type}catch(e){console.error(e)}return s&&Array.isArray(u)&&u.length>0?g.a.createElement("div",{className:"hot-answer-list"},g.a.createElement("div",{className:"split"}),g.a.createElement("div",{className:"title"},"热门付费问答"),g.a.createElement("div",{className:"answerer_items"},g.a.createElement(Be,{authorInfo:d,useServerV:o,articleType:"wenda",setting:n,statistic:r}),g.a.createElement("div",{className:"button-group"},g.a.createElement("button",{onClick:this.goToAsk.bind(this)},c/100,M.client.isAndroid?"元":"币","提问")),g.a.createElement("div",{className:"author-bar"},g.a.createElement("div",{className:"name-link-wrap"},g.a.createElement("div",{className:d.auth_info?"name-link-w":"name-link-w no-intro"},g.a.createElement("a",{className:"author-name-link pgc-link",href:d.link},l.uname))),g.a.createElement("a",{className:"sub-title-w",href:d.link},g.a.createElement("span",{className:"sub-title"},d.auth_info)))),g.a.createElement("div",{className:"answer-list"},u.map((function(t,n){return g.a.createElement("div",{className:"answer-item "+(n<u.length-1?"border":""),key:n,onClick:e.goToDetail.bind(e,n)},g.a.createElement("div",{className:"question-title"},t.ques_title),g.a.createElement(Fn,{className:"question-abstract",foldText:t.ques_content,foldTips:"全文",foldFrom:3,foldTo:3,isDangerous:!0}))})))):null},t}(g.a.Component)),Vn=(n(312),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.followDisabled=!1,r.serverSource=80,r.state={followState:"",followDisabled:!1},r.useNewBottomCardStyle=M.client.isIOS&&M.client.isNewsArticleVersionNoLessThan("6.9.4")||M.client.isAndroid&&M.client.isNewsArticleVersionNoLessThan("6.9.3"),r}return h()(t,e),t.prototype.followActionHandler=function(e){if(!this.followDisabled){this.followDisabled=!0,this.setState({followDisabled:!0});var t=this.props.data,n=t.data,r=t.statistic,o=t.wendaExtra,i=this,a=this.state.followState,s={id:n.user_id,action:a?"unfollow":"dofollow",source:this.serverSource,from:"answer_detail_bottom_card"},c={to_user_id:n.user_id,media_id:n.media_id,follow_type:"from_group",group_id:r.group_id,item_id:r.item_id,source:"detail_centre_button",server_source:this.serverSource,position:"detail"};c=Object(M.extend)(!0,c,o.gd_ext_json||{}),U.a.invoke("user_follow_action",s,(function(e){i.followDisabled=!1,console.info("user_follow_action",a,e,s),e&&1==+e.code?i.setState({followState:a?"":"following",followDisabled:!1}):i.setState({followState:a?"following":"",followDisabled:!1})})),M.statistics.sendUmengEventV3(a?"rt_unfollow":"rt_follow",c)}},t.prototype.componentDidMount=function(){var e=this;M.statistics.sendUmengWhenTargetShown(this.listDom,"user_card_show","",{section:"detail_centre_button"},!0,{version:3}),ze.on("pageStateChange",(function(t){switch(t.type){case"user_action":console.info("wendabottomuser",t,e.props.data.data.user_id),t.id==e.props.data.data.user_id&&"status"in t&&(e.setState({followState:t.status?"following":"",followDisabled:!1}),e.followDisabled=!1);break;case"pgc_action":t.id==e.props.data.data.media_id&&"status"in t&&(e.setState({followState:t.status?"following":"",followDisabled:!1}),e.followDisabled=!1)}}))},t.prototype.componentWillUnmount=function(){ze.off("pageStateChange")},t.prototype.render=function(){var e=this,t=this.props.data,n=t.data,r=t.setting,o=t.statistic,i=t.useServerV,a="subscribe-button follow-button red-follow-button "+this.state.followState+(this.state.followDisabled?" disabled":"");return this.useNewBottomCardStyle?n.show_bottom?"":" no-bottom":n.show_bottom?" no-bottom":"",n=Object(M.extend)(!0,n,n.user_auth_info),g.a.createElement("div",{className:"wenda-bt-panel",ref:function(t){e.listDom=t}},g.a.createElement("div",{className:n.show_bottom?"wenda-bt-user no-bottom":"wenda-bt-user"},g.a.createElement("div",{className:"authorbar wenda"},g.a.createElement(Be,{authorInfo:n,useServerV:i,setting:r,statistic:o,article:{type:"wenda"}}),g.a.createElement("div",{className:"author-function-buttons",onClick:this.followActionHandler.bind(this)},g.a.createElement("button",{className:a,style:{display:"block"},id:"subscribe"},g.a.createElement("i",{className:"iconfont focusicon"}," "),g.a.createElement("i",{className:"redpack"}))),g.a.createElement("div",{className:""!==n.user_intro?"author-bar auth-intro":"author-bar"},g.a.createElement("div",{className:"name-link-wrap"},g.a.createElement("div",{className:"name-link-w"},g.a.createElement("a",{className:"author-name-link pgc-link",href:n.link}," ",n.user_name," "))),""!==n.user_intro?g.a.createElement("a",{className:"sub-title-w",href:n.link}," ",g.a.createElement("span",{className:"sub-title"},n.user_intro)," "):null,g.a.createElement("a",{className:"sub-title-w",href:n.link},g.a.createElement("span",{className:"sub-title"},n.userIntroStr))))))},t}(g.a.Component)),qn=(n(313),function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.componentDidMount=function(){var e=this.props.question;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.hasShow=!1,V.push(e),Y()}({el:this.itemRef,id:e.qid,impressItemInfo:{imp_item_type:37,imp_item_id:e.qid+"_"+e.qid,imp_item_extra:{}}})},t.prototype.render=function(){var e=this,t=this.props.question;return g.a.createElement("a",{href:t.schema},g.a.createElement("div",{className:"question-item",ref:function(t){e.itemRef=t}},g.a.createElement("p",{className:"text"},t.title)))},t}(v.Component)),Wn=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return h()(t,e),t.prototype.componentDidMount=function(){var e=this.props.originalQid;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H=e}({imp_group_list_type:9,imp_group_key_name:e+"_"+e,imp_group_key:"wenda_detail",imp_group_extra:{}})},t.prototype.render=function(){var e=this.props.questions;return e&&0!==e.length?g.a.createElement("div",{className:"related-question-list"},g.a.createElement("h3",{className:"title"},"相关问题"),e.map((function(e){return g.a.createElement(qn,{key:e.qid,question:e})}))):null},t}(v.Component),Gn=(n(314),function(e){var t=e.wendaExtra||{},n=e.info||{},r=null,o={qid:t.qid,ansid:t.ansid,position:"answer_detail"};return M.statistics.sendUmengWhenTargetShown(r,"spring_festival_card_show","",o,!0,{version:3}),g.a.createElement("div",{className:"activity-card"},g.a.createElement("div",{className:"card-title"},"问答活动"),g.a.createElement("a",{onClick:function(){M.statistics.sendUmengEventV3("spring_festival_card_click",o)},href:n.open_url,className:"card-content",ref:function(e){r=e}},g.a.createElement("div",null,g.a.createElement("div",{className:"avatar-wrap"},g.a.createElement("img",{className:"avatar-image",src:n.img,alt:""}))),g.a.createElement("div",{className:"text-wrap"},g.a.createElement("div",{className:"desc"},n.desc),g.a.createElement("div",{className:"sub-desc"},g.a.createElement("span",{className:"text"},n.sub_desc)))))}),zn=n(160),Yn=(n(339),"https://learning.snssdk.com/feoffline/learning_lazy/toutiao_wallet_web_page/page/comment_v2.html?"),Xn={content_type:"pay_wenda",is_popup:1,product:"pay_wenda"},Jn={title:encodeURIComponent("评价"),right_text:encodeURIComponent("发布"),right_text_color:encodeURIComponent("#2A90D7"),popup_back_button_icon:"close",hide_more:1};M.client.isAndroid&&(Jn.back_button_icon="close");var Kn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));r.state={score:0},console.info("comment",n);var o=n.data;return r.scoreCardInfoString="您觉得回答内容质量怎么样?",r.gid=o.statistic.group_id,r.startTime=null,r.lastTimeOutDone=null,r._scoreArticle=r._scoreArticle.bind(r),r._openComment=r._openComment.bind(r),r.baseBizParams=c()({},Xn,{content_id:r.gid||""}),r}return h()(t,e),t.prototype._scoreArticle=function(e){var t=e.target,n=t&&t.dataset||{},r=parseInt(n.index)+1;if(r){var o=this.props.data,i=(void 0===o?{}:o).wendaExtra,s=void 0===i?{}:i;M.statistics.sendUmengEventV3("paid_question_score",{score:r,qid:s.qid,ansid:s.ansid,to_user_id:s.question.answerer.user_id});var l=c()({},this.baseBizParams,{score:r,originScore:r,isAnonymous:s.question.is_anonymous?1:0,log_params:encodeURIComponent(a()({qid:s.qid,to_user_id:s.question.answerer.user_id}))}),u=Yn+fe(l),d="sslocal://popup_browser?url="+encodeURIComponent(u)+"&"+fe(Jn);console.info(d),location.href=d}},t.prototype._openComment=function(){var e=this.props.data,t=(void 0===e?{}:e).wendaExtra,n=void 0===t?{}:t;M.statistics.sendUmengEventV3("paid_question_comment",{qid:n.qid,ansid:n.ansid,to_user_id:n.question.answerer.user_id});var r=this.baseBizParams,o=this.state,i=o.score,s=o.markId;s&&(r.score=i,r.originScore=i,r.mark_id=s),r.isAnonymous=n.question.is_anonymous?1:0,r.log_params=encodeURIComponent(a()({qid:n.qid,to_user_id:n.question.answerer.user_id}));var c=Yn+fe(r),l="sslocal://popup_browser?url="+encodeURIComponent(c)+"&"+fe(Jn);console.info("schema22"),console.info(l),location.href=l},t.prototype.render=function(){var e=this._scoreArticle,t=this.scoreCardInfoString,n=this.state.score;return console.info("_renderHtml1111"),g.a.createElement("div",{className:"pcard wenda-nscore-star "},g.a.createElement("div",{className:"pcard-clearfix score-wrapper"},g.a.createElement("div",{className:"info-wrapper "},g.a.createElement("div",{className:"title question pcard-w1"},t))),g.a.createElement("div",{onClick:e,className:"star-wrap"},g.a.createElement("span",{className:"star","data-index":"0","data-selected":n>0?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"1","data-selected":n>1?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"2","data-selected":n>2?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"3","data-selected":n>3?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"4","data-selected":n>4?"true":"false"})),g.a.createElement("div",{className:"button-wrap"},g.a.createElement("button",{onClick:this._openComment},"写评价")))},t}(v.Component),$n=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));console.info("CommentItem",n);var o=n.evaluation,i=n.data,a=void 0===i?{}:i;return r.gid=a.statistic.group_id,r.baseBizParams=c()({},Xn,{content_id:r.gid||"",mark_id:o.mark_id}),r.gotoComment=r.gotoComment.bind(r),r}return h()(t,e),t.prototype.renderVIcon=function(){var e=this.props,t=e.data,n=void 0===t?{}:t,r=e.evaluation,o=n.useServerV,i=n.setting;if(o&&(r.user.user_auth_info||r.user.auth_type)){var a=r.user.auth_type;try{a=JSON.parse(r.user.user_auth_info).auth_type}catch(e){console.error(e)}if(void 0!==a){var s=Object(M.buildServerVIcon)(a,"avatar_icon",i.user_verify_info_conf);if(s)return g.a.createElement("div",{dangerouslySetInnerHTML:{__html:s}})}}return""},t.prototype.renderStar=function(){var e=this.props.evaluation;return[0,1,2,3,4].map((function(t){return g.a.createElement("span",{className:"star","data-selected":e.score>t?"true":"false"})}))},t.prototype.renderTime=function(e){return Object(zn.formatRelativeTime)(e)},t.prototype.gotoComment=function(){var e=this.props.evaluation,t=this.props.data.wendaExtra,n=void 0===t?{}:t;console.info("gotoComment",e),M.statistics.sendUmengEventV3("paid_question_comment_modify_click",{score:e.score,qid:n.qid,ansid:n.ansid,to_user_id:n.question.answerer.user_id});var r=c()({},this.baseBizParams,{originScore:e.score,score:e.score,isAnonymous:n.question.is_anonymous?1:0,log_params:encodeURIComponent(a()({qid:n.qid,to_user_id:n.question.answerer.user_id}))}),o=Yn+fe(r),i="sslocal://popup_browser?url="+encodeURIComponent(o)+"&"+fe(Jn);console.info("schema111"),console.info(i),location.href=i},t.prototype.render=function(){this.props;var e=this.props,t=e.evaluation,n=e.data,r=1==(void 0===n?{}:n).wendaExtra.question.user_role,o=""+t.score,i=t.content&&0===t.content.indexOf("当前用户暂未填写评价")?"":t.content||"";return g.a.createElement("div",{className:"comment-list-wrap"},g.a.createElement("div",{className:"title-wrap"},g.a.createElement("div",{className:"title"},r?"我的评价":"提问者评价"),g.a.createElement("div",{className:"score"},g.a.createElement("span",{className:"score-text"},1==o.length?o+".0":o),g.a.createElement("span",{className:"score-star"},[0,1,2,3,4].map((function(e){return g.a.createElement("span",{className:"star","data-selected":t.score>e?"true":"false"})}))))),g.a.createElement("div",{className:"comment-item-wrap"},g.a.createElement("div",{className:"avatar"},g.a.createElement("a",{className:"author-avatar-link","aria-label":"个人主页",href:t.user.user_schema},g.a.createElement("div",{className:"author-avatar"},g.a.createElement("img",{className:"author-avatar-img",src:t.user.avatar_url,alt:""}),"}"),this.renderVIcon()),t.user.user_decoration&&t.user.user_decoration.url?g.a.createElement("div",{className:"avatar-decoration","aria-hidden":"true",style:{backgroundImage:"url("+t.user.user_decoration.url+")"}}):null,g.a.createElement("a",{className:"avatar-decoration avatar-night-mask pgc-link","aria-hidden":"true",href:t.user.user_schema})),g.a.createElement("div",{className:"content-wrap"},g.a.createElement("a",{href:t.user.user_schema,className:"name"},t.user.uname),g.a.createElement("a",{href:t.user.user_schema,className:"intro"},t.user.user_intro),t.tag_list&&t.tag_list.length>0?g.a.createElement("div",{className:"tag-list"},t.tag_list.map((function(e,t){return g.a.createElement("span",{className:"tag-item"},e)}))):null,g.a.createElement("div",{className:"content"},i),g.a.createElement("div",{className:"time"},g.a.createElement("span",null,this.renderTime(t.modify_time)),r?g.a.createElement(v.Fragment,null,g.a.createElement("span",null," · "),g.a.createElement("span",{onClick:this.gotoComment},"修改评价")):null))))},t}(v.Component),Zn=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={score:0},r}return h()(t,e),t.prototype.componentDidMount=function(){var e=this;ze.on("payWendaMarked",(function(t){var n=e.props,r=n.statistic,o=(n.author,n.context),i=void 0===o?{}:o,a=n.wendaExtra,s=(void 0===a?{}:a).question,c=void 0===s?{}:s,l=i.evaluation||{};console.info("pay_wenda_marked",t,e.props),r.group_id==t.answerId&&e.setState({evaluation:{comment_id:l.comment_id||"",content:t.content,create_time:l.create_time||t.actionTime/1e3,mark_id:t.markId,modify_time:t.actionTime/1e3,score:t.score,tag_list:t.selectedTags||[],user:l.user||c.user}})}))},t.prototype.render=function(){console.info("Comment",this.props);var e=this.props,t=e.wendaExtra,n=e.context,r=void 0===n?{}:n,o=1==t.question.user_role&&4==t.question.pay_status,i=this.state.evaluation||r.evaluation;return i||o?g.a.createElement("div",{className:"wenda-comment-wrap "+(t.question.is_anonymous?"":"no-margin")},g.a.createElement("div",{className:"split"}),i?g.a.createElement($n,{data:this.props,evaluation:i}):o?g.a.createElement(Kn,{data:this.props}):null):null},t}(v.Component),Qn=(n(340),function(e){console.info("WendaFooter",e);var t=e.data||{},n=t.wendaExtra||{},r=n.ansid,o=t.wendaContext||{},i=t.author||{},a=t.setting||{},s=t.statistic||{},l=t.useServerV,u=t.context||{},d=u.cards||[],p=t.article||{},f=n.mis_coop_user||{},h=f.link||"";i.cooperate_text=f.profile,i.cooperate_link=-1!==h.indexOf("http")?"sslocal://webview?url="+encodeURIComponent(h)+"&title=%E7%BD%91%E9%A1%B5%E6%B5%8F%E8%A7%88":h;var m={wendaContext:o,wendaExtra:n,setting:a,author:i,showUserDecoration:M.client.isNewsArticleVersionNoLessThan("6.5.6"),osVersion:M.client.osVersion,useServerV:l},_=parseInt(t.wendaExtra.wd_version),y=n.show_post_answer_strategy||{},w=a.is_liteapp,E=document.querySelector("article")&&document.querySelector("article").clientHeight||0,b=D().height,S=n.question&&n.question.is_pay_wenda,x=function(e){ee("show",e)};return g.a.createElement(v.Fragment,null,function(e){return _>=3?g.a.createElement(Ln,{data:e}):null}(t),g.a.createElement("div",{className:"footer-before-cards-container"}),g.a.createElement("div",{className:"footer-cards-container"},function(e){if(!S){if(!window.disabledBroadcastCardsEvent&&u.wenda_context){if(E>b)window.cardEvent&&window.cardEvent.cardSafeBroadcast(["cards",document.querySelector(".footer-cards-container"),u],(function(){var e=u.cards&&u.cards.length&&u.cards[0].type;e&&window.cardsMonitor&&window.cardsMonitor(".footer-cards-container","footer",1e3,{card_type:e})}));else if(u.article_com_tmas||u.promotions){var t={article_com_tmas:u.article_com_tmas,promotions:u.promotions};window.cardEvent&&window.cardEvent.cardSafeBroadcast(["cards",document.querySelector(".footer-cards-container"),t])}window.disabledBroadcastCardsEvent=!0}if("wenda"===p.type&&n&&f.uid===i.userId)return g.a.createElement(Pn,{data:m});if(_<1||_>=3&&1==n.showMode)return null;var c=1,h=0,v={};if(d&&Array.isArray(d)&&d.find((function(e){var t=e.type||"";return"auto"===t||"auto_show"===t||"auto_dealer"===t||"new_auto_dealer"===t?(c=0,!0):("author"===t&&(c=0,h=1,v=Object(M.extend)(!0,{},e)),!1)})),h&&!o.is_author&&!v.is_concern_user&&E>1.5*b&&!w){var x=n&&n.gd_ext_json?n.gd_ext_json.category_name:"";if(v.link="sslocal://profile?uid="+v.user_id+"&refer=wenda&from_page=detail_answer_wenda_centre_button&group_source=10&group_id="+r+"&category_name="+x+"&enter_from="+n.enter_from,v.user_auth_info)try{v.user_auth_info=JSON.parse(v.user_auth_info)}catch(e){v.user_auth_info={}}var T=[];T.push(M.fmt.formatCount(v.fans_count,"0")+"粉丝"),T.push(M.fmt.formatCount(v.user_digg_count,"0")+"赞"),v.userIntroStr=T.join(" · ");var O={data:v,statistic:s,setting:a,useServerV:l,wendaExtra:n};return g.a.createElement(Vn,{data:O})}return"show_bottom"in y&&c&&!w&&E>2*b?g.a.createElement(Mn,{data:e,ansStrategy:y}):null}}(t)),function(){var t=void 0;try{t=u.labels.labels_words.length}catch(e){t=-1}var r=!u.activity_info&&E>1.5*b&&!w,o=t>0&&(M.client.isIOS?E>(a.wenda_search_show_height_ratio||.5)*b:E>(a.wenda_search_show_height||340)),i=n.question&&n.question.is_pay_wenda&&4==n.question.pay_status,l=n.question&&n.question.is_pay_wenda&&1==n.question.user_role&&3==n.question.pay_status&&n.other_authors,d=n.question&&n.question.is_pay_wenda&&4==n.question.pay_status&&u.hot_paywenda,p=e.data||{},f=c()({},p,{addShowEvt:x,statisticsData:s});return g.a.createElement(v.Fragment,null,u.activity_info?g.a.createElement(Gn,{info:u.activity_info,wendaExtra:n}):null,i?g.a.createElement(Zn,p):null,r?g.a.createElement(Wn,{questions:u.related_questions,originalQid:n.qid}):null,l?g.a.createElement(jn,p):null,d?g.a.createElement(Bn,p):null,o?g.a.createElement(cn,{data:f}):null)}())}),er=(n(341),je(On)),tr=je(Rn),nr=je(Qn),rr=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},r.lastSetH5ExtraFlag=!1,r.setArticle=r.setArticle.bind(r),r.article=null,r.updateIdealWebviewHeight=r.updateIdealWebviewHeight.bind(r),et.on("view.onIdealwebviewHeightChange",r.updateIdealWebviewHeight),setTimeout((function(){void 0===r.state.idealWebviewHeight&&r.setState({idealWebviewHeight:0})}),500),r}return h()(t,e),t.prototype.componentWillUnmount=function(){et.off("view.onIdealwebviewHeightChange",this.updateIdealWebviewHeight)},t.prototype.updateIdealWebviewHeight=function(e){var t=this;e&&ot((function(n){var r=e.data,o=void 0===r?{}:r,i=n&&n.device_type&&n.device_type.indexOf("iPhone X")>-1?o.height-32:o.height;t.setState({idealWebviewHeight:i})}))},t.prototype.setArticle=function(e,t){var n=this.props.h5Extra,r=(void 0===n?{}:n).wenda_extra,o=!1;if(r&&r.question&&r.question.is_pay_wenda){if(4!=r.question.pay_status)return void document.body.classList.add("pay-wenda");if(e&&"v55"!==e){var i=e.indexOf("<article>"),a=e.indexOf("</article>");e.substring(i+9,a)!=t&&(o=!0)}document.body.classList.remove("pay-wenda"),document.body.classList.add("pay-wenda-read")}else document.body.classList.remove("pay-wenda"),document.body.classList.remove("pay-wenda-read");if(e&&"v55"!==e&&(!t||o)){var s=e.indexOf("<article>"),c=e.indexOf("</article>"),l=e.substring(s+9,c),u=e.indexOf("<header>"),d=e.indexOf("</header>"),p=e.substring(u+8,d);return $("article").html(l),!t&&p.indexOf("authorbar")>0&&($("header").html(p),M.client.isNewsArticleVersionNoLessThan("7.2.7")&&!0!==window.hadSentDomready&&(M.statistics.sendBytedanceRequest("domReady?setContentTimeStamp="+window.startTimestamp+"&domreadyTimeStamp="+ +new Date+"&isHTMLRender=1&articleVersion=1834"),window.hadSentDomready=!0,M.statistics.sendUmengEventV3("article_web_extra_info",{version:"1834",duration:+new Date-window.startTimestamp,group_type:"wenda"+window.APP_VERSION,action_type:"html_render"}),window.felog("fe_setContent","send_domReady"))),_()("sendCustomTimeLog","end_bind_content","iphone_"+window.APP_VERSION,+new Date-window.startTimestamp),l}return t&&e&&"v55"!==e?t:null},t.getDerivedStateFromProps=function(e,t){if(console.info("getDerivedStateFromProps",e,t),e.context&&e.context.wenda_context&&e.context.wenda_context.gd_ext_json&&!t.data.setGdExtJson){var n=e.context.wenda_context.gd_ext_json||{};if("string"==typeof e.context.wenda_context.gd_ext_json){try{n=JSON.parse(e.context.wenda_context.gd_ext_json)}catch(e){console.error("gdExtJson_error",e),n={}}be("wenda_extra.gd_ext_json",n||{});try{var r=Ee("author.link");be("author.link",r+="&category_name="+n.category_name)}catch(e){console.error("setWendaAuthorLink",e)}e.update("h5Extra")(Ee())}return{data:{setGdExtJson:!0}}}},t.prototype.render=function(){var e,t,n=this.props,r=n.context,o=n.h5Extra,i=n.content;return this.article=this.setArticle(i,this.article),e=function(e,t,n){return e?{article:e.article,author:e.author,setting:e.h5_settings,useServerV:e.useServerV,hasExtraSpace:e.hasExtraSpace,hideFollowButton:e.hideFollowButton,statistic:e.statistics,wendaExtra:Ee("wenda_extra"),wendaContext:t?t.wenda_context:null}:null}(o,r),t=function(e,t,n){return e&&e.wenda_extra?{wendaExtra:e.wenda_extra,article:e.article,wendaContext:t?t.wenda_context:void 0,setting:e.h5_settings,useServerV:Ee("useServerV"),author:e.author,context:t,statistic:e.statistics}:null}(o,r),console.info("wenda render2",e),g.a.createElement(v.Fragment,null,g.a.createElement(gn,{parentDom:document.querySelector("header"),replaceFlag:"1",tag:"header"},e?g.a.createElement(er,{data:e}):null),e?g.a.createElement(tr,{context:r,data:e,idealWebviewHeight:this.state.idealWebviewHeight}):null,t?g.a.createElement(gn,{parentDom:document.querySelector("footer"),replaceFlag:"1",tag:"footer"},g.a.createElement(nr,{data:t})):null)},t}(v.Component),or=function(e){function t(n){return u()(this,t),p()(this,e.call(this,n))}return h()(t,e),t.prototype.tellNativeHeaderMess=function(){ee("header",{domSelector:"#profile",JsBridge:"showTitleBarPgcLayout"})},t.prototype.componentDidMount=function(){M.client.isAndroid&&this.tellNativeHeaderMess()},t.prototype.render=function(){var e=this.props.data;return g.a.createElement("div",{id:"header"},g.a.createElement(Fe,e),e.author.show?g.a.createElement(Dt,e):g.a.createElement("div",{style:{height:"20px"}}))},t}(g.a.Component),ir=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={render:!1},r.setCompVal(),r.checkWindowSize=r.checkWindowSize.bind(r),r.fixNovelArticle=r.fixNovelArticle.bind(r),r.fixArticle=r.fixArticle.bind(r),r.onCarouselImageSwitch=r.onCarouselImageSwitch.bind(r),r.setArticle=r.setArticle.bind(r),r.setNovelData=r.setNovelData.bind(r),r}return h()(t,e),t.prototype.setCompVal=function(){this.article=null,this.novelData=null,this.canInitImage=!1,this.haveInitedImage=!1,this.imageSizeInitTimer=null,this.statisticsData=Ee("statistics")||{}},t.prototype.checkWindowSize=function(){var e=this,t=window.innerWidth-30,n=window.innerHeight;this.statisticsData=Ee("statistics"),t<=0||n<=0?this.imageSizeInitTimer=setTimeout((function(){e.checkWindowSize()}),0):(window.addEventListener("scroll",ut),this.setState({render:!0},(function(){Q()})),window.onresize=function(){var e=D().width;console.info(e,"width onresize"),e&&It.resizeImage(e-30)},this.canInitImage=!0,Pt())},t.prototype.fixNovelArticle=function(){var e=this;this.novelData.can_read&&!this.novelData.is_story||setTimeout((function(){console.info("fixNovel");try{var t="";if(e.novelData.is_story){if(e.novelData.can_read){var n=document.getElementById("!__PGC_COLUMN__");return void(n&&n.parentNode.removeChild(n))}var r=document.querySelector("article").innerHTML,o=r.indexOf("{!-- PGC_COLUMN --}");if(o<0)return;t=r.substring(0,o)}else{for(var i=document.querySelectorAll("a.image"),a=0;a<i.length;a++){var s=i[a];s.parentNode.removeChild(s)}t=document.querySelector("article").innerHTML.substring(0,200)}e.updateAllData(t)}catch(e){console.error(e),b.a.captureException(e)}}),0)},t.prototype.fixArticle=function(){var e=Ee("h5_settings")||{};Jt(e),Vt()},t.prototype.componentDidMount=function(){var e=this;this.checkWindowSize(),this.fixArticle(),setTimeout((function(){document.body.classList.remove("opacity")}),0),ze.on("pageStateChange",(function(t){"carousel_image_switch"===t.type&&e.statisticsData.group_id==t.id&&e.onCarouselImageSwitch(t.status)})),ze.on("checkContent",(function(){return e.fixNovelArticle()}))},t.prototype.onCarouselImageSwitch=function(e){It.fetchOneImage(e)},t.prototype.componentWillUnmount=function(){clearTimeout(this.imageSizeInitTimer),dt(),window.removeEventListener("scroll",ut),ze.off("pageStateChange"),ze.off("checkContent")},t.prototype.knowMoreHtml=function(){if(this.props.context&&this.props.context.know_more_url){var e={context:this.props.context,statisticsData:this.statisticsData};return g.a.createElement(Ft,{data:e})}return null},t.prototype.setArticle=function(e,t){if(e&&"v55"!==e){var n=e.indexOf("<article>"),r=e.indexOf("</article>");return n>-1&&r>-1&&(e=e.substring(n+9,r)),e===t?t:($("article").html(e),this.haveInitedImage=!1,We.cardSafeBroadcast(["card-render",document.querySelector("body")]),t||_()("sendCustomTimeLog","end_bind_content","iphone_"+window.APP_VERSION,+new Date-window.startTimestamp),e)}return null},t.prototype.setNovelData=function(){var e=Ee("novel_data")||{};return this.canInitImage&&!this.haveInitedImage&&e.can_read&&(It.initImageProcess(ut),this.haveInitedImage=!0),e},t.prototype.updateAllData=function(e){this.article=this.setArticle(e,this.article),this.novelData=this.setNovelData()},t.prototype.render=function(){var e=this.props.content,t=this.state.render;return this.updateAllData(e),t?g.a.createElement(v.Fragment,null,g.a.createElement(Ht,null),this.knowMoreHtml()):null},t}(v.Component),ar=(n(342),function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.onGetSeriesLinkPositionTimer=null,r}return h()(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.novelData,n=e.statistic;1==t.pay_status&&1==t.auto_pay_status&&1==t.book_free_status&&$.ajax({url:"https://ic.snssdk.com/novel/trade/purchase/v1/auto_pay/",dataType:"jsonp",data:{book_id:t.book_id,item_id:n.item_id,device_platform:M.client.isIOS?1:2},error:function(e,t,n){console.info(e,t,n)},success:function(e,t,n){console.info("fhru",e)}}),255==t.pay_status&&1==t.book_free_status&&U.a.invoke("toast",{text:"系统异常 请稍后再试",icon_type:"icon_error"}),this.storyPayRef&&M.statistics.sendUmengWhenTargetShown(this.storyPayRef,"show_content_go_purchase","",{group_id:n.group_id,enter_from:n.enter_from,category_name:n.category_name,is_novel:1,bookshelf_type:"novel",log_pb:n.log_pb,genre:t.genre,platform:t.platform},1,{version:3})},t.prototype.componentWillUnmount=function(){this.onGetSeriesLinkPositionTimer&&clearInterval(this.onGetSeriesLinkPositionTimer)},t.prototype.novelUpdateHandler=function(){var e=this.props,t=e.novelData,n=e.statistic;if(M.client.isAndroid)location.href="http://app.toutiao.com/news_article/";else{var r="";ot((function(e){switch(e.app_name){case"news_article_social":r="itms-apps://itunes.apple.com/cn/app/id582528844";break;case"explore_article":r="itms-apps://itunes.apple.com/cn/app/id672151725";break;default:r="itms-apps://itunes.apple.com/cn/app/id529092160"}U.a.invoke("openApp",{url:r},null)}))}M.statistics.sendUmengEventV3("click_version_update",{group_id:n.group_id,item_id:n.item_id,enter_from:"detail",category_name:"novel_channel",novel_id:t.book_id,concern_id:t.concern_id,log_pb:""})},t.prototype.novelBuyHandler=function(e){var t=this.props,n=t.novelData,r=t.statistic;"story"===e?M.statistics.sendUmengEventV3("click_content_pay",{group_id:r.group_id,item_id:r.item_id,enter_from:"purchase_reminder",category_name:"novel_channel",novel_id:n.book_id,concern_id:n.concern_id,log_pb:r.log_pb,bookshelf_type:"novel",iss_novel:1}):M.statistics.sendUmengEventV3("click_purchase_read",{group_id:r.group_id,item_id:r.item_id,enter_from:r.enter_from,category_name:r.category_name,novel_id:n.book_id,concern_id:n.concern_id,log_pb:""}),U.a.invoke("is_login",{},(function(e){if(e&&(e.is_login||1==e.code)){var t="https://ic.snssdk.com/novel/book/purchase/v1/novel_pay/page/single-chapter?pull_close=1&book_id="+n.book_id+"&item_id="+r.item_id+"&group_id="+r.group_id;t="sslocal://popup_browser?url="+encodeURIComponent(t)+"&should_append_common_param=1",M.client.isAndroid?t+="&back_button_icon=close":t+="&popup_back_button_icon=close",location.href=t}else U.a.invoke("login",{platform:""})}))},t.prototype.renderNovelPay=function(){var e=this,t=this.props,n=t.novelData,r=t.statistic,o=t.isLogin;if(null==n.pay_status)return M.statistics.sendUmengEventV3("go_version_update",{group_id:r.group_id,item_id:r.item_id,enter_from:"version_update",category_name:"novel_channel",novel_id:n.book_id,concern_id:n.concern_id,type:0,log_pb:""}),g.a.createElement("div",{className:"pay"},g.a.createElement("div",{className:"split"}),g.a.createElement("div",{className:"content"},"当前版本不支持阅读付费章节，请升级到最新版本继续阅读"),g.a.createElement("div",{className:"button"},g.a.createElement("button",{className:"update",onClick:this.novelUpdateHandler.bind(this)})));if(2==n.pay_status||-1==n.pay_status){var i=1==n.recommend_limited_free&&("__all__"==r.category_name||"fake"==r.category_name||"ugc_fake"==r.category_name)&&!1===o;return n.is_story?(document.querySelector("footer").classList.add("footer-offset"),g.a.createElement("div",{className:"story-pay",ref:function(t){e.storyPayRef=t}},g.a.createElement("div",{className:"rectangle"}),g.a.createElement("div",{className:"story-lock",onClick:this.novelBuyHandler.bind(this,"story")},g.a.createElement("div",{className:"icon"}),g.a.createElement("div",{className:"info"},i?"登录后免费阅读":"购买后阅读全部内容")))):(M.statistics.sendUmengEventV3("go_purchase_reminder",{group_id:r.group_id,item_id:r.item_id,enter_from:"version_update",category_name:"novel_channel",novel_id:n.book_id,concern_id:n.concern_id,type:0,log_pb:""}),g.a.createElement("div",{className:"pay"},g.a.createElement("div",{className:"split"}),g.a.createElement("div",{className:"button"},g.a.createElement("button",{className:"buy",onClick:this.novelBuyHandler.bind(this)},i?"登录后免费阅读":"购买后继续阅读"))))}return console.info("remove offset"),null},t.prototype.componentDidUpdate=function(){this.props.novelData.can_read&&document.querySelector("footer").classList.remove("footer-offset")},t.prototype.render=function(){return this.props.novelData.can_read?null:this.renderNovelPay()},t}(g.a.Component)),sr=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},console.info("[component/Footer]"),r._getCards=r._getCards.bind(r),r.canBroadcastCardsEvent=!0,r}return h()(t,e),t.prototype._getCards=function(e){var t=this,n=e.context||{};this.canBroadcastCardsEvent&&!0==(!!e.novelData.is_story||void 0!==e.isLogin&&!0===e.novelData.can_read)&&(window.cardEvent&&window.cardEvent.cardSafeBroadcast(["cards",document.querySelector(".footer-cards-container"),n],(function(){var e=n.cards&&n.cards.length&&n.cards[0].type;if(e){var r=(t.props.data||{}).novelData,o=void 0===r?{}:r;window.cardsMonitor&&window.cardsMonitor(".pcard.fiction","footer",1e3,{card_type:e,is_novel:1,book_id:o.book_id})}})),this.canBroadcastCardsEvent=!1)},t.prototype.componentDidUpdate=function(e){var t=this.props.data||{},n=e.data||{};if(!0===t.novelData.can_read&&!1===n.can_read&&!1===this.canBroadcastCardsEvent)try{window.cardEvent&&window.cardEvent.cardSafeBroadcast(["cards-update",document.querySelector(".footer-cards-container"),t.context])}catch(e){b.a.captureException(e)}},t.prototype.render=function(){var e=this.props.data||{};return g.a.createElement(v.Fragment,null,g.a.createElement("div",{className:"footer-before-cards-container"}),g.a.createElement(ar,e),g.a.createElement("div",{className:"footer-cards-container"},e.context?this._getCards(e):null))},t}(v.Component),cr=n(96),lr=n.n(cr);function ur(e){var t=e.key,n=void 0===t?"":t,r=e.defaultValue,o=void 0===r?{}:r,i=e.diskStorage,a=void 0!==i&&i,s=e.callback,c=void 0===s?function(){}:s;et.call("app.getStorage",{key:n,disk_storage:a},(function(e){var t=e||{},n=t.code,r=t.data,i=1===n&&r&&r.value||o;"function"==typeof c&&c(i)}))}function dr(e){var t=e.key,n=void 0===t?"":t,r=e.data,o=void 0===r?"":r,i=e.diskStorage,a=void 0!==i&&i,s=e.callback,c=void 0===s?function(){}:s;et.call("app.setStorage",{key:n,data:o,disk_storage:a},(function(e){"function"==typeof c&&c(e)}))}function pr(e){var t,n=e.novel_data,r=void 0===n?{}:n,o=e.statistics,i=void 0===o?{}:o;t=function(e){var t=e.data||{},n="novel_feed_"+(Number(t.user_id)?String(t.user_id||""):"");ur({key:n,diskStorage:!0,callback:function(e){var t={};try{t=JSON.parse(e||"{}")||{}}catch(e){console.error("Novel RecData JSON.parse error",e)}var o=r.book_id||"",s=t[o]||{};s.group_id=i.group_id,s.enter_from=i.enter_from,s.category_name=i.category_name,s.log_pb=a()(i.log_pb),s.present_time||(s.present_time=String((new Date).getTime())),t[o]=s,dr({key:n,data:a()(t),diskStorage:!0})}})},et.call("app.getAppInfo",{},(function(e){"function"==typeof t&&t(e)}))}function fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY.MM.DD hh:mm:ss",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s",r=/Y{4}|M{1,2}|D{1,2}|h{1,2}|m{1,2}|s{1,2}/g,o=new Date("s"===n?1e3*e:e),i=o.getFullYear(),a=o.getMonth()+1,s=o.getDate(),c=o.getHours(),l=o.getMinutes(),u=o.getSeconds();return t.replace(r,(function(e){switch(e){case"YYYY":return i;case"M":return a;case"MM":return hr(a);case"D":return s;case"DD":return hr(s);case"h":return c;case"hh":return hr(c);case"m":return l;case"mm":return hr(l);case"s":return u;case"ss":return hr(u);default:return""}}))}function hr(e){return("0"+e).slice(-2)}var mr=je(or),_r=je(ir),vr=je(sr),gr=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},r.checkLoginStatus=r.checkLoginStatus.bind(r),r}return h()(t,e),t.prototype.componentDidMount=function(){var e=this,t=window.Page,n=(t=void 0===t?{}:t).h5_settings,r=(n=void 0===n?{}:n).pgc_card_info,o=(r=void 0===r?{}:r).novel_style;(void 0===o?0:o)&&this.addToHomePage(),ze.on("setExtra",(function(){return e.checkLoginStatus()}))},t.prototype.componentWillUnmount=function(){ze.off("setExtra")},t.prototype.componentDidUpdate=function(){document.querySelector("#header")&&!window.hadSentRenderFinish&&(M.statistics.sendBytedanceRequest("renderFinish?timeStamp="+(new Date).getTime()),window.felog("fe_renderFinish","called"),window.hadSentRenderFinish=!0)},t.prototype.checkLoginStatus=function(){var e,t=this;e=function(e){be("isLogin",e),window.isLogin=e;var n=pe(Ee("novel_data"),Ee());be("novel_data.can_read",n),be("author.show",n||Ee("novel_data.is_story")),t.props.update("h5Extra")(Ee()),pr(Ee())},U.a.invoke("is_login",{},(function(t){console.info("is_login",t),t&&(t.is_login||1==t.code)?e&&e(!0):e&&e(!1)}))},t.prototype.addToHomePage=function(){var e="novel_last_request_channel_front_in_details",t=function(t){new lr.a((function(e){et.call("addChannel",{web_url:"https://novel.snssdk.com/feoffline/novel/channel/index.html",category:"novel_channel",name:"小说",type:5,flags:1},(function(t){var n=!1;t&&1===Number(t.code)&&(n=!0),e(n)}))})).then((function(n){n&&dr({key:e,diskStorage:!0,data:t})}))};ur({key:e,diskStorage:!0,defaultValue:null,callback:function(e){var n,r,o,i,a=new Date,s=new Date(+e);e&&(n=s.getTime(),r=a.getTime(),o=Number(n),i=Number(r)||(new Date).getTime(),o&&i&&fr(o,"YYYY-MM-DD","ms")===fr(i,"YYYY-MM-DD","ms"))||new lr.a((function(e){et.call("getSubScribedChannelList",{},(function(t){var n=t.data,r=(n=void 0===n?{}:n).list;(void 0===r?[]:r).slice(0,6).indexOf("novel_channel")<0?e(!1):e(!0)}))})).then((function(e){e||t(a.getTime())}))}})},t.prototype.render=function(){var e=this.props,t=e.context,n=e.h5Extra,r=e.content,o=function(e,t,n){return e&&n?{article:e.article,author:e.author,setting:e.h5_settings,useServerV:e.useServerV,hasExtraSpace:e.hasExtraSpace,hideFollowButton:e.hideFollowButton,statistic:e.statistics}:null}(n,0,r),i=function(e,t,n){return e&&n?{novelData:e.novel_data,setting:e.h5_settings,statistic:e.statistics,context:t,isLogin:e.isLogin}:null}(n,t,r);return n.credible_content||ze.broadcast("checkContent",null,null),g.a.createElement(v.Fragment,null,g.a.createElement(gn,{parentDom:document.querySelector("header"),replaceFlag:"1",tag:"header"},o?g.a.createElement(mr,{data:o}):null),o?g.a.createElement(_r,{content:r,context:t}):null,i?g.a.createElement(gn,{parentDom:document.querySelector("footer"),replaceFlag:"1",tag:"footer"},g.a.createElement(vr,{data:i})):null)},t}(v.Component),yr=!1;function wr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};console.info("cardsMonitor",e,t,n),setTimeout((function(){if(window.Page){var n=$(e).children().length;M.statistics.sendUmengEventV3("article_card_render",c()({status:n?"success":"error",type:window.Page.article.type,group_id:window.Page.statistics.group_id,item_id:window.Page.statistics.item_id,position:t,version:"1834",js_version:window.ARTICLE_CARD_VERSION},r))}}),n)}function Er(){window.pgcEvent=We,window.cardEvent=Ge,window.PageEvent=ze,window._={},window._.escape=M.escape,window.needCleanDoms=[],window.send_umeng_event=M.statistics.sendUmengEvent,window.sendUmengEventV3=M.statistics.sendUmengEventV3,window.sendUmengWhenTargetShown=M.statistics.sendUmengWhenTargetShown,window.client=M.client,window.ToutiaoJSBridge.call=U.a.invoke,window.ToutiaoJSBridge.on=U.a.on,window.getCommonParams=ot,window.Raven=b.a,window.React=g.a,window.ReactDOM=w.a,n(354),window.$=$,window.cardsMonitor=wr;var e="https://s0.pstatp.com/toutiao/article_card/card_v145.min.js";window.ToutiaoJSBridge.call("getArticleConfig",{},(function(t){t&&t.article_card_url&&(e=t.article_card_url),function(e){e=window.DEBUG_CARD_URL||e,window.ARTICLE_CARD_URL=e;var t=e.match(/card_v\d+/g);t&&(window.ARTICLE_CARD_VERSION=Number(t[0].slice(6))||0,window.felog("fe_cardVersion",window.ARTICLE_CARD_VERSION));var n=function(){console.info("load card start");var t=document.createElement("script");t.setAttribute("id","card-script"),t.onerror=function(n){yr=!0,M.statistics.sendUmengEventV3("aritcle_card",{version:"1834",type:"load_card_error",card_url:e,error:n.toString()}),t.parentNode.removeChild(t),t=null},t.onload=function(){M.statistics.sendUmengEventV3("aritcle_card",{version:"1834",card_url:e,type:"load_card_success"}),window.cardScriptInited=!0,ze.broadcast("card-script-inited")},t.src=e,document.head.appendChild(t)};"complete"===document.readyState?setTimeout(n,0):window.addEventListener("load",n)}(e)}))}var br=["s","m","l","xl"];function Sr(e,t,n){var r=t.split("_")[0];if(n.indexOf(r)>-1){var o=document.body.classList;n.forEach((function(t){o.remove(e+t)})),o.add(e+r)}}function xr(e){Sr("font_",e,br);var t=e.split("_")[0];br.indexOf(t)>-1&&xt.tellNativeImagesPosition()}function Tr(e){if([0,1,"0","1"].indexOf(e)>-1){e=parseInt(e),document.body.classList[e?"remove":"add"]("night");try{$(document).trigger("dayModeChange",e)}catch(e){console.error(e)}}}function Or(e){Tr(Ee("pageSettings.is_daymode")?1:0),xr(Ee("pageSettings.font_size","m")),function(e){if(!Ee("wenda_extra.question.is_pay_wenda")){Sr("style_",e+"",["0","1","2","3","4","5","6","7"])}}(Ee("h5_settings.font_size_ui_test",7));var t=Ee("article.type"),n=Ee("h5_settings.is_liteapp"),r=Ee("styles.image_marginless");e.classList.add(t),e.classList.add("ios"),e.classList.add(window.APP_VERSION),n&&U.a.invoke("appInfo",{},(function(t){1261!=t.aid&&1221!=t.aid||e.classList.add("lite")})),r&&e.classList.add("img-marginless")}function Cr(){var e="",t="",n="",r=document.getSelection();if("Range"!==r.type)return[e,t,n];var o=r.getRangeAt(0);if(!o)return[e,t,n];try{e=o.startContainer.textContent.substring(0,o.startOffset).substr(-20),t=o.toString(),n=o.endContainer.textContent.substring(o.endOffset).substring(0,20)}catch(e){}return o.detach(),o=null,[e,t,n]}window.on_page_disappear=function(){"object"===I()(window.mediasugScroll)&&null!==window.mediasugScroll&&"function"==typeof window.mediasugScroll.pushimpr&&window.mediasugScroll.pushimpr(!1)},window.getElementPosition=function(e){var t=e.match(/^.image:nth-child\((\d+)\)$/);t&&(e=".image-container:nth-child("+t[1]+")>.image");var n="{{0,0},{0,0}}",r=document.querySelector(e);if(r){var o=r.getBoundingClientRect();n="{{"+(o.left+window.pageXOffset)+","+(o.top+window.pageYOffset)+"},{"+o.width+","+o.height+"}}"}return n},window.TouTiao={setFontSize:xr,setDayMode:Tr},window.appCloseVideoNoticeWeb=function(e){var t=document.querySelector('[data-vid="'+e+'"]');if(!t)return null;t.style.display="block";var n=t.nextElementSibling;if(n){var r=n.firstChild;r&&P(r,".cv-wd-info-wrapper",!0)&&(n.style.display="block")}document.body.style.marginTop=0},window.getVideoFrame=function(e){var t=document.querySelector('[data-vid="'+e+'"]'),n="{{0,0},{0,0}}";if(t){var r=t.getBoundingClientRect();n="{{"+r.left+","+t.offsetTop+"},{"+r.width+","+r.height+"}}"}return n},window.webviewScrollEvent=function(e){};var kr=function(){U.a.invoke("typos",{strings:Cr()})};window.customElements.define("native-image",S.NativeImage),window.customElements.define("native-video",S.NativeVideo),window.felog("fe_template","import_finished");var Nr=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.state={data:{}},r.tellClientContentSize=r.tellClientContentSize.bind(r),r}return h()(t,e),t.updateState=function(e){return function(n){"h5Extra"===e&&(t.setH5ExtraFlag=!!n),k[e]=n,A.dispatch({type:e,data:n})}},t.prototype.tellClientContentSize=function(){var e=0,t=0;this.intervalTime&&clearInterval(this.intervalTime),this.intervalTime=setInterval((function(){var n=document.querySelector("footer"),r=void 0,o=0,i=0;n&&(o=(r=n.getBoundingClientRect()).top+r.height);var a=document.querySelector("header");i+=a?a.clientHeight:0;try{i+=parseInt(getComputedStyle(a).marginBottom||0)}catch(e){console.error(e)}i+=document.querySelector("article").clientHeight+r.height,o!==e&&o>0&&(e=o,console.info("webviewContentResize",o),U.a.invoke("webviewContentResize",{height:o})),i!==t&&(t=i,console.info("webviewContentHeight",i,document.querySelector("header").clientHeight,document.querySelector("article").clientHeight,r.height),U.a.invoke("webviewContentHeight",{height:i}))}),200)},t.prototype.componentDidMount=function(){var e=this;this._unSubscribe=A.subscribe((function(){var t=A.getState();e.setState({data:t})})),M.client.isAndroid&&this.tellClientContentSize(),window.addEventListener("scroll",Q)},t.prototype.componentWillUnmount=function(){this._unSubscribe(),window.removeEventListener("scroll",Q),this.intervalTime&&clearInterval(this.intervalTime)},t.prototype.render=function(){var e=this.state.data.h5Extra,n="";switch(e&&e.article&&(n=e.article.type),console.info("render",n),n){case"fiction":return g.a.createElement(gr,c()({},this.state.data,{update:t.updateState}));case"wenda":return g.a.createElement(rr,c()({},this.state.data,{update:t.updateState}));case"zhuanma":case"pgc":return g.a.createElement(Tn,this.state.data)}return null},t}(v.Component);Nr.setH5ExtraFlag=!1;var Ir=je(Nr);window.felog("fe_template","base_clare"),"v55"!==window.APP_VERSION&&"v60"!==window.APP_VERSION&&(window.APP_VERSION=window.h5_extra?"v55":"v60");try{w.a.render(g.a.createElement(Ir,null),document.querySelector("#empty"))}catch(e){M.statistics.sendUmengEventV3("article_web_init_error",{version:"1834",type:"base_init",error:e.toString()}),window.felog("fe_template","base_error")}window.felog("fe_template","base"),function(){_()("config",{sampleRate:.01,bid:"article_app",pid:"article_new",ignoreAjax:[],ignoreStatic:[]}),Me.config("1834","fe_article_detail_error","iphone",""),window.felog("fe_template","slardar");try{Er(),window.felog("fe_template","card"),U.a.on("page_state_change",(function(e){ze.broadcast("pageStateChange",null,e)})),U.a.on("pay_wenda_marked",(function(e){ze.broadcast("payWendaMarked",null,e)})),window.onNotificationReceived=function(e,t){M.client.isIOS&&0===M.client.newsArticleVersion.indexOf("7.3.5")&&"page_state_change"===e&&ze.broadcast("pageStateChange",null,t)},U.a.on("on_page_disappear",(function(e){ze.broadcast("pageDisappear",null,e)})),U.a.on("menuItemPress",kr)}catch(e){M.statistics.sendUmengEventV3("article_web_init_error",{version:"1834",type:"init",error:e.toString()})}var e=!1;window.felog("fe_template","jsb"),window.setExtra=function(t){window.felog("fe_setextra","start");var n="";try{n=a()(t)}catch(e){}"v55"===window.APP_VERSION||t&&"{}"!==n||(window.receivedEmptyExtra=!0,window.felog("fe_setextra_empty","extra"),M.statistics.sendUmengEventV3("article_web_init_error",{version:"1834",type:"extra_undefined",appversion:window.APP_VERSION,extracontent:n}));var r=!1;console.info("[setExtra]",t);var o=Ee("article.type");o||_()("sendCustomTimeLog","start_process_article","iphone_"+window.APP_VERSION,+new Date-window.startTimestamp),e||(w.a.render(g.a.createElement(Ir,null),document.querySelector("#empty")),e=!0),we(t),window.felog("fe_setextra","build");var i=window.Page=Ee();if(console.info("======window.setExtra",i),Nr.updateState("h5Extra")(i),window.felog("fe_setextra","update"),ze.broadcast("setExtra",null,null),!o){Or(document.body),window.felog("fe_setextra","finishui"),!0!==window.hadSentDomready&&(M.statistics.sendBytedanceRequest("domReady?setContentTimeStamp="+window.startTimestamp+"&domreadyTimeStamp="+ +new Date+"&isHTMLRender=0&articleVersion=1834"),window.hadSentDomready=!0,window.felog("fe_isHTMLRender","0")),_()("sendCustomCountLog","fe_article_version","1834"),_()("sendCustomCountLog","article_type",o||"unknow"),document.body.classList.add("fe_article_version_1834");var s=Ee("pageSettings.font_size","m");M.statistics.sendUmengEventV3("article_web_extra_info",{version:"1834",group_id:Ee("statistics.group_id"),duration:+new Date-window.startTimestamp,type:Ee("novel_data")?"fiction":Ee("article.type"),group_type:window.APP_VERSION,imageType:Ee("pageSettings",{}).image_type,font_size:s,app_font:s.split("_")[0]}),r=!0}return r},window.felog("fe_template","setextra"),window.setContent=function(e){window.felog("fe_setContent","start_setcontent"),void 0===window.startTimestamp&&(window.startTimestamp=Date.now()),console.info("======window.setContent",e),Nr.updateState("content")(e),yr&&Er();var t=(e||"").indexOf("<article>"),n=(e||"").indexOf("</article>");if(!e||t<0||n<0||n-t==9){var r=e?"invalid_content":"empty_content";M.statistics.sendUmengEventV3("article_web_init_error",{version:"1834",type:r,error:e}),window.felog("fe_setContentValid",r)}M.client.isNewsArticleVersionNoLessThan("7.4.5")&&window.JSBridge.call("app.addDebugLog",{msg:"卡片地址: "+window.ARTICLE_CARD_URL})},window.felog("fe_template","setcontent"),M.statistics.sendBytedanceRequest("setContentReady?timestamp="+Date.now()),window.insertDiv=function(e){M.statistics.sendUmengEventV3("article_web_context_info",{action:"init",group_id:Ee("statistics.group_id"),type:Ee("novel_data")?"fiction":Ee("article.type")});var t=Ee("h5_settings.close_miniprogs_switch");if(console.info("===== close miniprog =====",t,e),e.miniprogs&&e.miniprogs.Visibilities){var n=[];for(var r in e.miniprogs.Visibilities)!t&&e.miniprogs.Visibilities[r]||n.push(r);window.pgcEvent&&window.pgcEvent.cardSafeBroadcast(["card-destroy",document.querySelector("body"),{applet:n}])}console.info("======window.insertDiv",e),Nr.updateState("context")(e);try{var i=o()(e).join(",");M.statistics.sendUmengEventV3("article_web_context_info",{action:"finish",value:i,group_id:Ee("statistics.group_id"),type:Ee("novel_data")?"fiction":Ee("article.type")})}catch(e){console.error(e),b.a.captureException(e),M.statistics.sendUmengEventV3("article_web_context_info",{action:"finish_error",group_id:Ee("statistics.group_id"),type:Ee("novel_data")?"fiction":Ee("article.type")})}},window.felog("fe_template","insert"),window.onQuit=function(){console.info("onQuit"),window.hadSentDomready=!1,window.hadSentRenderFinish=!1,he={},me={},te(),xt.clean(),k.empty(),Re(),Pe.a.flush(!0),window.needCleanDoms.forEach((function(e){e.off()})),window.needCleanDoms=[],M.statistics.checkandCleanImpr(),ze.broadcast("onQuit",null,null),ze.off("card-script-inited"),window.receivedEmptyExtra=!1;try{w.a.unmountComponentAtNode(document.getElementById("empty")),e=!1}catch(e){console.error("销毁Main组件报错",e),b.a.captureException(e)}$("header").replaceWith("<header>"),$("article").empty(),$("footer").empty(),window.disabledBroadcastCardsEvent=!1,window.startTimestamp=void 0,e||(w.a.render(g.a.createElement(Ir,null),document.querySelector("#empty")),e=!0),document.body.className=""}}(),window.felog("fe_template","window_initialized"),window.felog("fe_template","page_inited")}]);