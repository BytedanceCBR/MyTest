!function(t){function e(e){for(var r,a,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(u&&u(e);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={iphone:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([161,"lib"]),n()}([,,function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(6),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(90)),o=a(n(91)),i=a(n(6));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},,,function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(21),i=(r=o)&&r.__esModule?r:{default:r};e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={default:n(166),__esModule:!0}},,,function(t,e,n){(function(e){var r=n(219),o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},i=o.Raven,a=new r;a.noConflict=function(){return o.Raven=i,a},a.afterLoad(),t.exports=a,t.exports.Client=r}).call(this,n(44))},,,,,,function(t,e,n){(function(t,n,r){!function(e){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}Array.prototype.forEach||(Array.prototype.forEach=function(t){var e,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),o=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(1<arguments.length&&(e=arguments[1]),n=0;n<o;){var i=void 0;n in r&&(i=r[n],t.call(e,i,n,r)),n++}}),function(){if(!(window.URL&&window.URL.prototype&&"href"in window.URL.prototype)){e.prototype={toString:function(){return this.href},get href(){return this._anchorElement.href},set href(t){this._anchorElement.href=t},get protocol(){return this._anchorElement.protocol},set protocol(t){this._anchorElement.protocol=t},get host(){return this._anchorElement.host},set host(t){this._anchorElement.host=t},get hostname(){return this._anchorElement.hostname},set hostname(t){this._anchorElement.hostname=t},get port(){return this._anchorElement.port},set port(t){this._anchorElement.port=t},get pathname(){return this._anchorElement.pathname},set pathname(t){this._anchorElement.pathname=t},get search(){return this._anchorElement.search},set search(t){this._anchorElement.search=t},get hash(){return this._anchorElement.hash},set hash(t){this._anchorElement.hash=t}};var t=window.URL||window.webkitURL||window.mozURL;e.createObjectURL=function(e){return t.createObjectURL.apply(t,[e])},e.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,[e])},Object.defineProperty(e.prototype,"toString",{enumerable:!1}),window.URL=e}function e(t,e){if(!t)throw new TypeError("Invalid argument");var n=document.implementation.createHTMLDocument("");if(e){var r=n.createElement("base");r.href=e,n.head.appendChild(r)}var o=n.createElement("a");if(o.href=t,n.body.appendChild(o),":"===o.protocol||!/:/.test(o.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o})}}(),function(){if(!Element.prototype.addEventListener){var t=[],e=function(e,n){function r(t){t.target=t.srcElement,t.currentTarget=o,void 0!==n.handleEvent?n.handleEvent(t):n.call(o,t)}var o=this;if("DOMContentLoaded"===e){var i=function(t){"complete"===document.readyState&&r(t)};if(document.attachEvent("onreadystatechange",i),t.push({object:this,type:e,listener:n,wrapper:i}),"complete"===document.readyState){var a=new Event;a.srcElement=window,i(a)}}else this.attachEvent("on"+e,r),t.push({object:this,type:e,listener:n,wrapper:r})},n=function(e,n){for(var r=0;r<t.length;){var o=t[r];if(o.object===this&&o.type===e&&o.listener===n){"DOMContentLoaded"===e?this.detachEvent("onreadystatechange",o.wrapper):this.detachEvent("on"+e,o.wrapper),t.splice(r,1);break}++r}};Element.prototype.addEventListener=e,Element.prototype.removeEventListener=n,HTMLDocument&&!HTMLDocument.prototype.addEventListener&&(HTMLDocument.prototype.addEventListener=e,HTMLDocument.prototype.removeEventListener=n),Window&&!Window.prototype.addEventListener&&(Window.prototype.addEventListener=e,Window.prototype.removeEventListener=n)}}();var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function s(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function l(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function p(t){return"object"===o(t)&&null!==t&&!m(t)}function f(t){return"function"==typeof t}function h(t){return"[object String]"===Object.prototype.toString.call(t)}function m(t){return"[object Array]"===Object.prototype.toString.call(t)}function _(t){return"number"==typeof t}function v(){if(!("fetch"in window))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function g(){return!!p(window)}function y(){return!!g()&&!!p(window.performance)}function w(){return!!y()&&!!p(window.performance.timing)}function b(){return!!y()&&!!f(window.performance.getEntries)}var E=(S.prototype._send=function(t){},S.prototype.setupTransport=function(t){var e=this;this._transport=t,this._sendQueue.forEach((function(t){e._sendEvent(t)})),this._sendQueue=[]},S);function S(t){var e=this;this._setupMonitors=function(t){return t.forEach((function(t){t.setup(e._sendEvent)})),t},this._sendEvent=function(t){if(e._transport){var n=e._modifyEvent(t);e._shouldSend(n)&&e._idleSendEvent(n)}else e._sendQueue.push(t)},this._modifyEvent=function(t){return t},this._shouldSend=function(t){return!0},this._getIdle=function(){return f(window.requestIdleCallback)?window.requestIdleCallback:f(setTimeout)?setTimeout:function(t){t()}},this._idleSendEvent=function(t){e._getIdle()((function(){e._send(t)}))},this._options=t,this._sendQueue=[],this._monitors=this._setupMonitors(t.defaultMonitors||[])}function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function T(t,e){var n,r;if(void 0===t.length)for(n in t)x(t,n)&&e.call(null,n,t[n]);else if(r=t.length)for(n=0;n<r;n++)e.call(null,n,t[n])}function O(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0;r<t.length;)n=C(n,t[r]),r++;return n}function C(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&(p(t[n])&&p(e[n])?C(t[n],e[n]):!p(t[n])&&p(e[n])?t[n]=C({},e[n]):t[n]=e[n]);return t}function k(t,e){if(!m(t))return!1;if(0===t.length)return!1;for(var n=0;n<t.length;){if(t[n]===e)return!0;n++}return!1}function N(t,e,n){var r,o;if(!e)return n;var i=t,a=e.split(".");try{for(var s=l(a),c=s.next();!c.done;c=s.next())if(!(i=i[c.value]))return n}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i}function I(t){var e=document.createElement("a");e.href=t;var n=e.pathname||"/";return"/"!==n[0]&&(n="/"+n),{href:e.href,protocol:e.protocol.slice(0,-1),hostname:e.hostname,host:e.host,pathname:n,hash:e.hash}}function A(t){}function D(t){return f(t)?t:A}function R(t){"complete"!==document.readyState?window.addEventListener("load",(function(){setTimeout((function(){t()}),0)}),!1):t()}function L(t){if(!t)return"";if(!f(t.forEach))return"";var e=[];return t.forEach((function(t){e.push(t[0]+": "+t[1])})),e.join("\r\n")}function P(t){var e={},n=I(t);return e.ax_protocol=n.protocol,e.ax_domain=n.hostname,e.ax_path=n.pathname,e.ax_url=n.href||t,e}function M(t,e){var n,r;if(!t||!e)return"";var o=t.split(";"),i={};try{for(var a=l(o),s=a.next();!s.done;s=a.next()){var c=s.value.split("="),u=h(c[0])&&c[0].trim();u&&h(c[1])&&(i[u]=c[1].trim())}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i[e]||""}function j(t){return m(t)&&t.length?function(t){for(var e=[],n=t.length,r=0;r<n;r++){var o=t[r];h(o)?e.push(o.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):o&&o.source&&e.push(o.source)}return new RegExp(e.join("|"),"i")}(t):null}function U(){var t=function(){for(var t=new Array(16),e=0,n=void 0;e<16;e++)0==(3&e)&&(n=4294967296*Math.random()),t[e]=n>>>((3&e)<<3)&255;return t}();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,function(t){for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);var r=0;return[e[t[r++]],e[t[r++]],e[t[r++]],e[t[r++]],"-",e[t[r++]],e[t[r++]],"-",e[t[r++]],e[t[r++]],"-",e[t[r++]],e[t[r++]],"-",e[t[r++]],e[t[r++]],e[t[r++]],e[t[r++]],e[t[r++]],e[t[r++]]].join("")}(t)}var H=["/log/sentry/"],F="i.snssdk.com",B="SLARDAR_WEB_ID",V=U(),q=U(),W=(G.prototype.postEvent=function(t){var e=c(c({},t),this._getCommonParams());G.post(this._url,e)},G.prototype.getEvent=function(t){var e=function(t){var e,n=function(t){if(!p(t))return{};var e={};return T(t,(function(t,n){p(n)||m(n)?e[t]=JSON.stringify(n):e[t]=n})),e}(t),r=(e={},T(n,(function(t,n){e[encodeURIComponent(t)]=encodeURIComponent(n)})),e),o=[];return T(r,(function(t,e){o.push(t+"="+e)})),o.join("&")}(c(c({},t),this._getCommonParams())),n=this._url+"?"+e;G.get(n)},G.post=function(t,e,n){var r=n?D(n.success):A,o=n?D(n.fail):A,i=new XMLHttpRequest;i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/json"),i.send(JSON.stringify(e)),i.addEventListener("load",(function(){try{if(this.responseText){var t=JSON.parse(this.responseText);r(t)}else r()}catch(t){o()}})),i.addEventListener("error",(function(){o()})),i.addEventListener("abort",(function(){o()}))},G.get=function(t,e){var n=e?D(e.success):A,r=e?D(e.fail):A,o=new XMLHttpRequest;o.open("GET",t),o.send(),o.addEventListener("load",(function(){try{if(this.responseText){var t=JSON.parse(this.responseText);n(t)}else n()}catch(t){r()}})),o.addEventListener("error",(function(){r()})),o.addEventListener("abort",(function(){r()}))},G.prototype._getUrl=function(){return"https://"+(this._options.reportDomain||F)+"/log/sentry/v2/api/slardar/main/"},G.prototype._getCommonParams=function(){return{timestamp:Date.now()}},G);function G(t){this._options=t||{},this._url=this._getUrl()}function z(){return f(Date)?Math.round(Date.now()/1e3):0}function Y(t,e){if(!p(t))return{};if(!f(e))return{};var n={};return T(t,(function(t,r){e(r)&&(n[t]=r)})),n}var X,J=(s(K,X=E),K.prototype.setupTransport=function(){var t=new W({reportDomain:this._options.commonParams.report_domain});X.prototype.setupTransport.call(this,t)},K.prototype._send=function(t){var e=t.event||{};e=c(c({},e),this._normalizeCommonParams(this._options.commonParams||{})),this._options.custom&&f(this._options.custom.beforeSend)&&!(e=this._options.custom.beforeSend(e))||("get"!==t.type?"post"===t.type&&this._transport.postEvent(e):this._transport.getEvent(e))},K.prototype._sendPageview=function(){f(this._sendEvent)&&this._sendEvent({name:"PageView",type:"get",event:{ev_type:"pageview"}})},K.prototype.emitEvent=function(t){var e=function(t){var e,n,r,o,i,a,s=null;return p(t)&&("timer"===t.type&&(s=p(e=t.event)&&h(e.name)&&_(e.value)?{metrics_type:"timer",event_name:"default",metrics:((n={})[e.name]=e.value,n),category:Y(e.tags,h),timestamp:z()}:{}),"counter"===t.type&&(s=p(r=t.event)&&h(r.name)&&_(r.value)?{metrics_type:"counter",event_name:"default",metrics:((o={})[r.name]=r.value,o),category:Y(r.tags,h),timestamp:z()}:{}),"log"===t.type&&(s=p(i=t.event)&&h(i.value)?{metrics_type:"log",event_name:"default",log_content:i.value,log_level:i.level||"info",category:Y(i.tags,h),timestamp:z()}:{}),"custom"===t.type&&(s=p(a=t.event)&&h(a.event_name)?{metrics_type:"custom",event_name:a.event_name,metrics:Y(a.metrics,_),category:Y(a.tags,h),timestamp:z()}:{})),s}(t);this._emitSingleEvent(e)},K);function K(){var t=null!==X&&X.apply(this,arguments)||this;return t.sendEvent=function(e){f(t._sendEvent)&&t._sendEvent(e)},t._shouldSend=function(e){var n=e.name,r=e.event;if(!e.event)return!1;if("AjaxMonitor"===n||"FetchMonitor"===n){var o=j(H);if(o&&o.test(r.ax_url))return!1;var i,a=t._options.monitors.AjaxMonitor.whitelistUrls;if(m(a)&&0<a.length){var s=j(t._options.monitors.AjaxMonitor.whitelistUrls||[]);return!(!s||!s.test(r.ax_url))}if((i=j(t._options.monitors.AjaxMonitor.ignore||[]))&&i.test(r.ax_url))return!1;if(!t._options.monitors.AjaxMonitor.hookFetch)return!1}if("StaticErrorMonitor"===n&&(i=j(t._options.monitors.StaticErrorMonitor.ignore||[]))&&i.test(r.st_src))return!1;if("PathMonitor"!==n)return"HijackMonitor"!==n||Math.random()<t._options.monitors.HijackMonitor.sampleRate;var c=t._options.plugins;return!!(c&&c.spa&&c.spa.enable&&r.type===c.spa.type)},t._modifyEvent=function(e){var n=e.name,r=e.type,o=e.event,i=c({},o);if("PerformanceMonitor"!==n)return"PathMonitor"===n?(t._options.plugins.spa.enable&&t._options.plugins.spa.type===i.type&&(t.updateConfig({commonParams:{pid:i.path}}),delete i.type,delete i.path),{}):e;var a=t._options.monitors.PerformanceMonitor;if(!w())return{};var s=window.performance.timing,l=s.loadEventEnd-s.navigationStart>a.slowSessionTime;if(i.resources&&m(i.resources)){var u=j(t._options.monitors.PerformanceMonitor.geckoUrls||[]);T(i.resources,(function(t,e){p(i.resources[t])&&f(i.resources[t].toJSON)&&(i.resources[t]=i.resources[t].toJSON(),i.resources[t].is_gecko=u&&u.test(e.name||"")?"1":"0")}))}return Math.random()<a.resourceSampleRate?i=c(c({},i),{upload_reason:"sample",resource_samplerate:t._options.monitors.PerformanceMonitor.resourceSampleRate}):l?i=c(c({},i),{upload_reason:"slow_session"}):delete i.resources,{name:n,type:r,event:i}},t._normalizeOptions=function(e){return O({},t._options,e)},t._normalizeCommonParams=function(t){var e=c({},t);return p(t.context)&&(e.context=JSON.stringify(t.context)),e||{}},t.updateConfig=function(e){var n=t._options.commonParams.pid;t._options=t._normalizeOptions(e),e.commonParams.pid!==n&&t._sendPageview()},t.sendPageview=function(){t._sendPageview()},t.sendCustomTimeLog=function(e,n,r){!function(t,e){var n=t.name,r=t.tag;if(n){var o={ev_type:"custom",cm_name:n,cm_type:"time",cm_value:+t.value};r&&(o.cm_tag=r),e({name:"SentCustomTime",type:"get",event:o})}}({name:e,tag:n,value:r},t._sendEvent)},t.sendCustomCountLog=function(e,n){!function(t,e){var n=t.name,r=t.tag;if(n){var o={ev_type:"custom",cm_name:n,cm_type:"count"};r&&(o.cm_tag=r),e({name:"SentCustomCount",type:"get",event:o})}}({name:e,tag:n},t._sendEvent)},t._emitSingleEvent=function(e){e&&(e&&!e.event_name||f(t._sendEvent)&&t._sendEvent({name:"Emit",type:"post",event:{ev_type:"flexible",flexible_data_list:[e]}}))},t}var $=function(){var t=this;this.name="StaticErrorMonitor",this.setup=function(e){g()&&(t._callback=e,window.addEventListener("error",t.staticErrorLog,!0))},this._getParams=function(t,e){var n={ev_type:"static",st_type:e},r=I(t);return n.st_src=t,n.st_protocol=r.protocol,n.st_domain=r.hostname,n.st_path=r.pathname,n},this.getSrc=function(t){return t&&f(t.getAttribute)?t.getAttribute("src"):t.src||t.href||""},this.staticErrorLog=function(e){var n,r=e||window.event||{};try{n=r.target||r.srcElement||{}}catch(r){return}var o=t.getSrc(n),i=n.tagName&&n.tagName.toLowerCase()||"";o&&i&&o!==window.location.href&&f(t._callback)&&t._callback({name:t.name,type:"get",event:t._getParams(o,i)})}},Z=(Q.prototype.setup=function(t){f(XMLHttpRequest)&&(this._callback=t,this._start())},Q.prototype._hookXMLHttpRequestOnreadystatechange=function(t){var e=this.onreadystatechange,n=this;this.onreadystatechange=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(4===this.readyState){var i={ev_type:"ajax",ax_status:this.status,ax_type:n._method,ax_request_header:L(n._requestHeaders||[])};i.ax_duration=Date.now()-n._start,200===this.status&&(i.ax_size=function(t){var e=0;if(""===t.responseType||"text"===t.responseType)e=tt(t.responseText);else if(t.response)e=tt(t.response);else try{e=tt(t.responseText)}catch(t){e=0}return e}(this)),"function"==typeof this.getAllResponseHeaders&&(i.ax_response_header=this.getAllResponseHeaders()),i=c(c({},i),P(n._url)),f(t._callback)&&t._callback({name:t.name,type:"get",event:i})}if(e)return e.apply(this,r)}},Q);function Q(){var t=this;this.name="AjaxMonitor",this._start=function(){t._hookXMLHttpRequestOpen(),t._hookXMLHttpRequestSend(),t._hookXMLHttpRequestSetRequestHeader()},this._hookXMLHttpRequestSetRequestHeader=function(){var t=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.setRequestHeader=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._requestHeaders=this._requestHeaders||[],this._requestHeaders.push(e),t.apply(this,e)}},this._hookXMLHttpRequestOpen=function(){var t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],o=e[1];return this._url=o&&o.split("?")[0]||"",this._method=r&&r.toLowerCase()||"",t.apply(this,e)}},this._hookXMLHttpRequestSend=function(){var e=t,n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e._hookXMLHttpRequestOnreadystatechange.call(this,e),this._start=Date.now(),n.apply(this,t)}}}function tt(t){var e="[object String]"===Object.prototype.toString.call(t);return t?e?t.length:ArrayBuffer&&t instanceof ArrayBuffer?t.byteLength:window.Blob&&t instanceof Blob?t.size:t.length?t.length:0:0}var et=function(){var t=this;this.name="FetchMonitor",this.setup=function(e){v()&&(t._callback=e,t._start())},this._start=function(){v()&&t._hookFetch()},this._hookFetch=function(){var e=t,n=window.fetch;window.fetch=function(r,o){o=o||{};var i=Date.now(),a={ev_type:"ajax"},s=t._getFetchUrl(r),l=t._getFetchMethod(r);return a.ax_type=(o.method||l).toLowerCase(),a=c(c({},a),P(s)),n(r,o).then((function(t){return a.ax_status=t.status,a.ax_duration=Date.now()-i,a.ax_response_header=e._getAllResponseHeaders(t),a.ax_request_header=e._getFetchHeaders(r,o),t.headers&&f(t.headers.has)&&t.headers.has("content-length")?a.ax_size=Number(t.headers.get("content-length"))||0:a.ax_size=0,f(e._callback)&&e._callback({name:e.name,type:"get",event:a}),t}),(function(t){return a.ax_status=0,a.ax_size=0,a.ax_duration=Date.now()-i,f(e._callback)&&e._callback({name:e.name,type:"get",event:a}),Promise.reject(t)}))}},this._getFetchUrl=function(t){var e="";return h(e=t instanceof Request?t.url:t)?e.split("?")[0]:e},this._getFetchMethod=function(t){var e="get";return t instanceof Request&&(e=t.method),e},this._getFetchHeaders=function(e,n){var r="";if(e instanceof Request)return t._getAllResponseHeaders(e);if(n&&n.headers){if(n.headers instanceof Headers)return t._getAllResponseHeaders(n);if(n.headers instanceof Array)return L(n.headers);if(n.headers instanceof Object){var o=[];for(var i in n.headers)Object.prototype.hasOwnProperty.call(n.headers,i)&&o.push([i,n.headers[i]]);return L(o)}}return r},this._getAllResponseHeaders=function(t){if(!t||!t.headers||"function"!=typeof t.headers.forEach)return"";var e=[];return t.headers.forEach((function(t,n){e.push(n+": "+t)})),e.join("\r\n")}},nt=[],rt=function(){var t=this;this.name="StaticPerformanceMonitor",this.setup=function(e){b()&&(t._callback=e,R((function(){return t._sendPerformance()})))},this._sendPerformance=function(){if(b()){var e=t._getParams();f(t._callback)&&t._callback({name:t.name,event:e})}},this._getParams=function(){return{resources:t._getResources()}},this._getResources=function(){return b()?window.performance.getEntriesByType("resource").filter((function(t){return!k(nt,t.initiatorType)})):[]}},ot=0,it=["ms","moz","webkit","o"],at=function(){for(var t=window.requestAnimationFrame,e=0;e<it.length&&!t;++e)t=window[it[e]+"RequestAnimationFrame"];return t||function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-ot)),r=window.setTimeout((function(){t(e+n)}),n);return ot=e+n,r}},st=function(){for(var t=window.cancelAnimationFrame,e=0;e<it.length&&!t;++e)t=window[it[e]+"CancelAnimationFrame"]||window[it[e]+"CancelRequestAnimationFrame"];return t||function(t){clearTimeout(t)}},ct=function(){var t=this;this.name="FirstScreenMonitor",this.setup=function(e){g()&&(t._callback=e,t._start())},this._start=function(){var e,n=at(),r=st(),o=!1,i=(window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0)||0,a=[],s=!1,c=!1,l=t;function u(){var t,d;if(s){if(a.length&&!c)for(t=0;t<a.length;t++){if(!(d=a[t]).complete){c=!1;break}c=!0}else c=!0;if(c)return o||(o=!0,f(l._callback)&&l._callback({time:Date.now()})),void r(e)}else{var p=document.querySelectorAll("img");for(t=0;t<p.length;t++){var h=lt(d=p[t]);if(i<h){s=!0;break}h<=i&&!d.hasPushed&&(d.hasPushed=1,a.push(d))}}e=n(u)}if(e=n(u),"complete"===document.readyState)return s=c=!0,r(e),void u();document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("img").length||(s=!0,r(e),u())})),window.addEventListener("load",(function(){s=c=!0,r(e),u()}),!1)}};function lt(t){if(!t)return 0;var e=t.offsetTop;return t.offsetParent&&(e+=lt(t.offsetParent)),e}var ut=function(){var t=this;this.name="PerformanceMonitor",this.setup=function(e){w()&&(t._callback=e,t._sendParams={ev_type:"perf",has_resource:0},R((function(){return t._perfLog()})),(new rt).setup(t._hasResource),(new ct).setup(t._hasFirstScreen))},this._hasResource=function(e){t._sendParams=c(c(c({},t._sendParams),e.event),{has_resource:1})},this._hasFirstScreen=function(e){w()&&(t._sendParams.firstscreen=e.time-window.performance.timing.navigationStart)},this._getParams=function(){if(w()){var e={},n=window.performance.timing;e.dns=n.domainLookupEnd-n.domainLookupStart,e.tcp=n.connectEnd-n.connectStart,e.request=n.responseStart-n.requestStart,e.response=n.responseEnd-n.responseStart,e.processing=n.domComplete-n.domLoading,e.blank=n.responseEnd-n.navigationStart,e.domready=n.domInteractive-n.navigationStart,e.load=n.loadEventEnd-n.navigationStart,n.secureConnectionStart&&(e.ssl=n.connectEnd-n.secureConnectionStart),e.domparse=n.domInteractive-n.responseEnd,e.resource=n.loadEventStart-n.domContentLoadedEventEnd,e.ttfb=n.responseStart-n.requestStart,e.redirct=n.redirectEnd-n.redirectStart;var r=t._getPaintTime("first-paint"),o=t._getPaintTime("first-contentful-paint");return r&&(e.fp=Math.round(r)),o&&(e.fcp=Math.round(o)),e.navigation=function(){if(!b())return window.performance.timing;var t=window.performance.getEntriesByType("navigation");return m(t)&&0!==t.length?t[0]:window.performance.timing}(),e}},this._getPaintTime=function(t){if(b()){var e=performance.getEntriesByType("paint");if(m(e)){var n=e.filter((function(e){return e.name===t}));return 0===n.length?0:n[0].startTime}}return 0},this._perfLog=function(){setTimeout((function(){w()&&(t._sendParams=c(c({},t._sendParams),t._getParams()),t._sendParams.firstscreen||(t._sendParams.firstscreen=t._sendParams.domready),f(t._callback)&&t._callback({name:t.name,type:"post",event:t._sendParams}))}),0)}},dt=function(){var t=this;this.name="PathMonitor",this.setup=function(e){g()&&(t._callback=e,t._start())},this._start=function(){t._monitorHashChange(),g()&&p(window.history)&&f(window.history.pushState)&&f(window.history.replaceState)&&(t._monitorPushState(),t._monitorReplaceState())},this._monitorHashChange=function(){window.addEventListener("hashchange",(function(){var e=t._parseHash(location.hash);e&&t._pathChangeHandler(t._getPath(e),"hash")}))},this._monitorPushState=function(){var e=t,n=window.history.pushState;n&&(window.history.pushState=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e._handleHistoryStateChange.apply(e,d(t)),n.apply(this,t)})},this._monitorReplaceState=function(){var e=t,n=window.history.replaceState;n&&(window.history.replaceState=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e._handleHistoryStateChange.apply(e,d(t)),n.apply(this,t)})},this._pathChangeHandler=function(e,n){h(e)&&f(t._callback)&&t._callback({name:t.name,type:"get",event:{ev_type:"pageview",path:e,type:n}})},this._handleHistoryStateChange=function(e,n,r){var o=t._parseURL(r),i=t._parseURL(location.href);o&&i&&(o.pathname===i.pathname?o.hash===i.hash||t._pathChangeHandler(t._getPath(i.hash),"hash"):t._pathChangeHandler(t._getPath(o.pathname),"pathname"))},this._parseURL=function(t){if(!t)return null;if("string"!=typeof t)return null;if(t.match(/^\/[^\/]/))return new URL(location.protocol+"//"+location.host+t);try{return new URL(t)}catch(t){return null}},this._parseHash=function(t){return t?"string"!=typeof t?"":t.replace(/^#/,""):""},this._getPath=function(e){var n=e&&"string"==typeof e?e.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):"";return t._parseHash(n)}},pt=j(["bytecdn.cn","pstatp.com","snssdk.com","toutiao.com","365yg.com","byted.org"]),ft=(ht.prototype._sendHijackEvent=function(){f(this._callback)&&this._callback({name:this.name,type:"post",event:{ev_type:"hijack",events:this._events}})},ht);function ht(){var t=this;this.name="HijackMonitor",this.setup=function(e){g()&&(t._callback=e,t._start())},this._start=function(){R((function(){setTimeout((function(){t._antiHijack()}),2e3)}))},this._antiHijack=function(){t._checkScripts(),t._checkIframe(),t._sendHijackEvent()},this._checkScripts=function(){for(var e=document.getElementsByTagName("script"),n=0;n<e.length;n++){var r=e[n],o=I(r.src);r.src?t._inWhiteListDomain(o.hostname)||t._events.push({hijack_type:"script",hijack_host:o.host,hijack_content:r.src}):t._inWhiteListContent(r.innerHTML)||t._events.push({hijack_type:"script",hijack_host:"unknown",hijack_content:r.innerHTML})}},this._checkIframe=function(){for(var e=document.getElementsByTagName("iframe"),n=0,r=e.length;n<r;n++){var o=e[n],i=o.src,a="about:blank";if(i&&i!==a){var s=I(i);0===s.protocol.indexOf("http")&&s.hostname&&t._inWhiteListIframeDomain(s.hostname)&&t._events.push({hijack_type:"iframe",hijack_host:s.host,hijack_content:i})}else if(i===a){var c="";try{o.contentDocument&&o.contentDocument.body&&o.contentDocument.body.innerHTML&&(c=o.contentDocument.body.innerHTML)}catch(e){c="Access is denied"}c&&t._events.push({hijack_type:"iframe",hijack_host:a,hijack_content:c})}}},this._inWhiteListDomain=function(t){return!(!pt||!pt.test(t))},this._inWhiteListContent=function(t){return!1},this._inWhiteListIframeDomain=function(e){return t._inWhiteListDomain(e)},this._events=[]}var mt=Object.prototype.hasOwnProperty,_t="~";function vt(){}function gt(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function yt(t,e,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new gt(n,r||t,o),a=_t?_t+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],i]:t._events[a].push(i):(t._events[a]=i,t._eventsCount++),t}function wt(t,e){0==--t._eventsCount?t._events=new vt:delete t._events[e]}function bt(){this._events=new vt,this._eventsCount=0}Object.create&&(vt.prototype=Object.create(null),(new vt).__proto__||(_t=!1)),bt.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)mt.call(t,e)&&n.push(_t?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},bt.prototype.listeners=function(t){var e=_t?_t+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},bt.prototype.listenerCount=function(t){var e=_t?_t+t:t,n=this._events[e];return n?n.fn?1:n.length:0},bt.prototype.emit=function(t,e,n,r,o,i){var a=_t?_t+t:t;if(!this._events[a])return!1;var s,c,l=this._events[a],u=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,o),!0;case 6:return l.fn.call(l.context,e,n,r,o,i),!0}for(c=1,s=new Array(u-1);c<u;c++)s[c-1]=arguments[c];l.fn.apply(l.context,s)}else{var d,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),u){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,r);break;default:if(!s)for(d=1,s=new Array(u-1);d<u;d++)s[d-1]=arguments[d];l[c].fn.apply(l[c].context,s)}}return!0},bt.prototype.on=function(t,e,n){return yt(this,t,e,n,!1)},bt.prototype.once=function(t,e,n){return yt(this,t,e,n,!0)},bt.prototype.removeListener=function(t,e,n,r){var o=_t?_t+t:t;if(!this._events[o])return this;if(!e)return wt(this,o),this;var i=this._events[o];if(i.fn)i.fn!==e||r&&!i.once||n&&i.context!==n||wt(this,o);else{for(var a=0,s=[],c=i.length;a<c;a++)(i[a].fn!==e||r&&!i[a].once||n&&i[a].context!==n)&&s.push(i[a]);s.length?this._events[o]=1===s.length?s[0]:s:wt(this,o)}return this},bt.prototype.removeAllListeners=function(t){var e;return t?(e=_t?_t+t:t,this._events[e]&&wt(this,e)):(this._events=new vt,this._eventsCount=0),this},bt.prototype.off=bt.prototype.removeListener,bt.prototype.addListener=bt.prototype.on,bt.prefixed=_t;var Et=new(bt.EventEmitter=bt);function St(t){if(t&&h(t)&&g()&&p(document)&&f(document.createElement)){var e=document.createElement("script"),n=document.head;p(e)&&p(n)&&(e.src=t,e.async=!0,e.crossorigin="anonymous",f(n.appendChild)&&n.appendChild(e))}}var xt,Tt,Ot,Ct,kt,Nt,It,At,Dt,Rt,Lt,Pt="https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/slardar/plugins/sentry.2.1.17.71e8145f.js",Mt="https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/slardar/plugins/behavior.2.1.17.ba349dc6.js",jt=function(){var t,e=this;this.version="2.1.21",this._setBaseParams=function(){e.baseParams.bid=e.shared.config.commonParams.bid||"",e.baseParams.pid=e.shared.config.commonParams.pid||""},this.instance=function(){for(var t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=r[0],a=r.slice(1);if("config"!==i){if(e._client)if("send"!==i)if("sendCustomCountLog"!==i)if("sendCustomTimeLog"!==i)if("precollect"!==i)if("Sentry"!==i){if("emit"===i){if(!r[1]||!r[2])return;var s={type:r[1],event:r[2]};e._client.emitEvent(s)}}else{var c=r[1];f(c)&&(e.shared.plugins&&e.shared.plugins.sentry?c(e.shared.plugins.sentry):e.shared.collect&&e.shared.collect.Sentry.push(a[0]))}else{if(e.shared.instance&&!e.shared.instance.length)return;if("error"!==r[1])return;if(!r[2]||!r[2][0])return;var l=r[2][0]||{};"error"===l.type&&(e.shared.monitors&&e.shared.monitors.StaticErrorMonitor&&f(e.shared.monitors.StaticErrorMonitor.staticErrorLog)&&e.shared.monitors.StaticErrorMonitor.staticErrorLog(l),e._collectSentryEvent(l))}else(n=e._client).sendCustomTimeLog.apply(n,d(a));else(t=e._client).sendCustomCountLog.apply(t,d(a));else e._send(a)}else{var u=r[1];e._configSetting=u,e._configSetting&&e._configSetting.onlyUseLocalSetting&&(e._serverSetting={});var p=e._normalizeSetting(u);e._client?e._client.updateConfig(p):e._init(p)}},this._collectSentryEvent=function(t){e.shared.plugins&&!e.shared.plugins.sentry&&(t.error?e.instance("Sentry",(function(e){e.captureException(t.error)})):t.message&&e.instance("Sentry",(function(e){e.captureMessage(t.message)})))},this._init=function(t){e.shared.monitors={StaticErrorMonitor:new $,PerformanceMonitor:new ut,PathMonitor:new dt,HijackMonitor:new ft,AjaxMonitor:new Z,FetchMonitor:new et};var n=[e.shared.monitors.StaticErrorMonitor,e.shared.monitors.PerformanceMonitor,e.shared.monitors.PathMonitor,e.shared.monitors.HijackMonitor,e.shared.monitors.AjaxMonitor,e.shared.monitors.FetchMonitor],r=c(c({},t),{defaultMonitors:n});e._client=new J(r),e.shared.instance&&m(e.shared.instance)&&e.shared.instance.push(r.commonParams.bid),e._getServerSetting(r.commonParams.bid),e._handlePrecollect()},this._handlePrecollect=function(){f(window.removeEventListener)&&window.Slardar&&window.Slardar.globalPreCollectError&&f(window.Slardar.globalPreCollectError)&&window.removeEventListener("error",window.Slardar.globalPreCollectError,!0),f(window.addEventListener)&&window.addEventListener("error",(function(t){e._collectSentryEvent(t)}))},this._send=function(t){if("count"===t[0]){var n=t[1],r=n.category,o=n.action;e._client.sendCustomCountLog(r,o)}if("timing"===t[0]){var i=t[1],a=(r=i.category,o=i.action,i.value);e._client.sendCustomTimeLog(r,o,a)}},this._getServerSetting=function(t){var n=e._serverSetting;if(n){var r=e._normalizeSetting(n);e._initServerSetting(r)}else{var o="https://"+(e._baseClientConfig.commonParams.report_domain||F)+"/slardar/sdk_setting?bid="+t;W.get(o,{success:function(t){try{var n=e._normalizeSetting(t.data);e._initServerSetting(n)}catch(t){e._initServerSetting(e._baseClientConfig)}},fail:function(){e._initServerSetting(e._baseClientConfig)}})}},this._initServerSetting=function(t){var n=e._normalizeSetting(t);e._client.updateConfig(n),Math.random()<n.commonParams.sample_rate&&(e._client.setupTransport(),e._client.sendPageview(),e.shared.transport=e._client._transport,e.shared.sendEvent=e._client.sendEvent),e._setCookie(n.commonParams.slardar_web_id),e.shared&&"script"===e.shared.installedType&&e._loadPlugins(t),e.shared&&e.shared.emitter&&e.shared.emitter.emit&&f(e.shared.emitter.emit)&&"npm"===e.shared.installedType&&e.shared.emitter.emit("pluginsReady",n)},this._loadPlugins=function(t){var e=t.plugins;e.sentry&&e.sentry.enable&&St(e.sentry.download_link||Pt),(e.behavior&&e.behavior.enable||e.sentry&&e.sentry.enable&&e.sentry.behavior_enable)&&St(e.behavior.download_link||Mt)},this._setCookie=function(t){t&&(document.cookie=B+"="+t+";max-age=7776000;domain="+location.hostname+";path=/")},this._getSlardarWebId=function(){var t="";return document&&document.cookie&&(t=M(document.cookie,B)),t},this._normalizeSetting=function(t){void 0===t&&(t=e._baseClientConfig);var n=e._getClientCommonParams(t),r=e._getClientMonitorsSetting(t),o=e._getClientPluginsSetting(t),i=e._getClientCustom(t),a=O(e._baseClientConfig,{commonParams:n,plugins:o,monitors:r,custom:i},{commonParams:t.commonParams||{},plugins:t.plugins||{},monitors:t.monitors||{},custom:t.custom||{}},{commonParams:e._getClientCommonParams(e._configSetting),plugins:e._getClientPluginsSetting(e._configSetting),monitors:e._getClientMonitorsSetting(e._configSetting),custom:e._getClientCustom(e._configSetting)});return e.shared.config=a,e._setBaseParams(),e._baseClientConfig=a},this._getClientCommonParams=function(t){var e={},n=["bid","context","pid","sample_rate","slardar_session_id","slardar_web_id"];return T(t,(function(t,r){k(n,t)&&(e[t]=r)})),t.cookieid&&(e.slardar_web_id=t.cookieid),x(t,"sampleRate")&&(e.sample_rate=t.sampleRate),t.reportDomain&&(e.report_domain=t.reportDomain),t.domain&&(e.report_domain=t.domain),e.slardar_web_id&&(e.slardar_web_id=e.slardar_web_id.toString()),e},this._getClientCustom=function(t){var e={};return f(t.beforeSend)&&(e.beforeSend=t.beforeSend),e},this._getClientMonitorsSetting=function(t){var n=c(c({},e._baseClientConfig.monitors),t.monitors||{});return t.ajaxWhitelistUrls&&(n.AjaxMonitor=c(c({},n.AjaxMonitor),{whitelistUrls:n.AjaxMonitor.whitelistUrls.concat(m(t.ajaxWhitelistUrls)?t.ajaxWhitelistUrls:[])})),t.ignoreAjax&&(n.AjaxMonitor=c(c({},n.AjaxMonitor),{ignore:n.AjaxMonitor.ignore.concat(m(t.ignoreAjax)?t.ignoreAjax:[])})),x(t,"hookFetch")&&(n.AjaxMonitor=c(c({},n.AjaxMonitor),{hookFetch:t.hookFetch})),x(t,"enableSizeStats")&&(n.AjaxMonitor=c(c({},n.AjaxMonitor),{hookFetch:t.hookFetch})),x(t,"geckoUrls")&&(n.PerformanceMonitor=c(c({},n.PerformanceMonitor||{}),{geckoUrls:t.geckoUrls})),t.ignoreStatic&&(n.StaticErrorMonitor=c(c({},n.StaticErrorMonitor),{ignore:n.StaticErrorMonitor.ignore.concat(m(t.ignoreStatic)?t.ignoreStatic:[])})),n},this._getClientPluginsSetting=function(t){return t.plugins||{}},this._baseClientConfig={defaultMonitors:[],commonParams:{version:this.version,hostname:window.location.hostname,protocol:window.location.protocol.slice(0,-1),url:window.location.href,slardar_session_id:V,sample_rate:1,pid:location.pathname,report_domain:F,screen_resolution:g()&&window.screen&&window.screen.width&&window.screen.height?window.screen.width+"x"+window.screen.height:"0x0",network_type:(t=navigator.connection||navigator.mozConnection||navigator.webkitConnection)&&h(t.effectiveType)?t.effectiveType:"unknown",bid:"",context:{},slardar_web_id:this._getSlardarWebId()||q},monitors:{AjaxMonitor:{ignore:H,hookFetch:!0,enableSizeStats:!1,abort:!1,whitelistUrls:[]},StaticErrorMonitor:{ignore:H},PerformanceMonitor:{resourceSampleRate:.1,slowSessionTime:8e3,geckoUrls:[],interval:0,checkPoint:[]},HijackMonitor:{sampleRate:.1}},plugins:{spa:{enable:0,type:""},behavior:{enable:0,slardar_web_ids:[],sample_rate:0,patterns:[],download_link:Mt},sentry:{enable:0,behavior_enable:!1,behavior_sample_rate:0,behavior_slardar_web_ids:[],download_link:Pt,tags:{}}},custom:{beforeSend:function(t){return t}}},this._client=void 0,this._configSetting={},this.shared={config:this._baseClientConfig,transport:this._client?this._client._transport:void 0,emitter:Et,instance:[],collect:{Sentry:[],staticError:[]},plugins:{},monitors:{},sendEvent:void 0},this.baseParams={bid:this.shared.config.commonParams.bid||"",pid:this.shared.config.commonParams.pid||""},this._serverSetting=this.__SLARDAR__REPALCE__HOLDER__},Ut=A;if(g()){var Ht=new jt;(Ut=Ht.instance).version=Ht.version,Ut.shared=Ht.shared,Ut.SlardarBrowser=jt,Ut._baseParams=Ht.baseParams,window.Slardar&&window.Slardar.shared&&window.Slardar.shared.instance&&window.Slardar.shared.instance.length?Ut=window.Slardar:(window.Slardar&&window.Slardar.q&&(Ut.q=window.Slardar.q),window.Slardar&&window.Slardar.globalPreCollectError&&(Ut.globalPreCollectError=window.Slardar.globalPreCollectError),window.Slardar&&window.Slardar.i&&(Ut.i=window.Slardar.i),window.Slardar=Ut)}Ut.shared&&(Ut.shared.installedType="npm"),function(){function e(t){return"function"==typeof t}function r(){var t=setTimeout;return function(){return t(i,1)}}function i(){for(var t=0;t<S;t+=2)(0,D[t])(D[t+1]),D[t]=void 0,D[t+1]=void 0;S=0}function a(t,e){var n=this,r=new this.constructor(c);void 0===r[L]&&v(r);var o=n._state;if(o){var i=arguments[o-1];O((function(){return _(o,r,i,n._result)}))}else h(n,r,t,e);return r}function s(t){if(t&&"object"==o(t)&&t.constructor===this)return t;var e=new this(c);return u(e,t),e}function c(){}function l(t,n,r){var o,i;n.constructor===t.constructor&&r===a&&n.constructor.resolve===s?(o=t,(i=n)._state===M?p(o,i._result):i._state===j?f(o,i._result):h(i,void 0,(function(t){return u(o,t)}),(function(t){return f(o,t)}))):void 0===r?p(t,n):e(r)?function(t,e,n){O((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?u(t,n):p(t,n))}),(function(e){r||(r=!0,f(t,e))}),t._label);!r&&o&&(r=!0,f(t,o))}),t)}(t,n,r):p(t,n)}function u(t,e){if(t===e)f(t,new TypeError("You cannot resolve a promise with itself"));else if(i=o(r=e),null===r||"object"!==i&&"function"!==i)p(t,e);else{var n=void 0;try{n=e.then}catch(e){return void f(t,e)}l(t,e,n)}var r,i}function d(t){t._onerror&&t._onerror(t._result),m(t)}function p(t,e){t._state===P&&(t._result=e,t._state=M,0!==t._subscribers.length&&O(m,t))}function f(t,e){t._state===P&&(t._state=j,t._result=e,O(d,t))}function h(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+M]=n,o[i+j]=r,0===i&&t._state&&O(m,t)}function m(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?_(n,r,o,i):o(i);t._subscribers.length=0}}function _(t,n,r,o){var i=e(r),a=void 0,s=void 0,c=!0;if(i){try{a=r(o)}catch(t){c=!1,s=t}if(n===a)return void f(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;n._state!==P||(i&&c?u(n,a):!1===c?f(n,s):t===M?p(n,a):t===j&&f(n,a))}function v(t){t[L]=U++,t._state=void 0,t._result=void 0,t._subscribers=[]}var g,y,w,b,E=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},S=0,x=void 0,T=void 0,O=function(t,e){D[S]=t,D[S+1]=e,2===(S+=2)&&(T?T(i):R())},C="undefined"!=typeof window?window:void 0,k=C||{},N=k.MutationObserver||k.WebKitMutationObserver,I="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),A="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,D=new Array(1e3),R=void 0;R=I?function(){return t.nextTick(i)}:N?(y=0,w=new N(i),b=document.createTextNode(""),w.observe(b,{characterData:!0}),function(){b.data=y=++y%2}):A?((g=new MessageChannel).port1.onmessage=i,function(){return g.port2.postMessage(0)}):void 0===C?function(){try{var t=Function("return this")().require("vertx");return void 0!==(x=t.runOnLoop||t.runOnContext)?function(){x(i)}:r()}catch(t){return r()}}():r();var L=Math.random().toString(36).substring(2),P=void 0,M=1,j=2,U=0,H=(V.prototype._enumerate=function(t){for(var e=0;this._state===P&&e<t.length;e++)this._eachEntry(t[e],e)},V.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===s){var o=void 0,i=void 0,u=!1;try{o=t.then}catch(e){u=!0,i=e}if(o===a&&t._state!==P)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===F){var d=new n(c);u?f(d,i):l(d,t,o),this._willSettleAt(d,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},V.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===P&&(this._remaining--,t===j?f(r,n):this._result[e]=n),0===this._remaining&&p(r,this._result)},V.prototype._willSettleAt=function(t,e){var n=this;h(t,void 0,(function(t){return n._settledAt(M,e,t)}),(function(t){return n._settledAt(j,e,t)}))},V),F=(B.prototype.catch=function(t){return this.then(null,t)},B.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},B);function B(t){this[L]=U++,this._result=this._state=void 0,this._subscribers=[],c!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof B?function(t,e){try{e((function(e){u(t,e)}),(function(e){f(t,e)}))}catch(e){f(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function V(t,e){this._instanceConstructor=t,this.promise=new t(c),this.promise[L]||v(this.promise),E(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?p(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&p(this.promise,this._result))):f(this.promise,new Error("Array Methods must be provided an Array"))}F.prototype.then=a,F.all=function(t){return new H(this,t).promise},F.race=function(t){var e=this;return new e(E(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})},F.resolve=s,F.reject=function(t){var e=new this(c);return f(e,t),e},F._setScheduler=function(t){T=t},F._setAsap=function(t){O=t},F._asap=O,F.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=F},(F.Promise=F).polyfill()}(),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0}),Number.isNaN=Number.isNaN||function(t){return t!=t},String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),(Tt=xt=xt||{})[Tt.None=0]="None",Tt[Tt.Error=1]="Error",Tt[Tt.Debug=2]="Debug",Tt[Tt.Verbose=3]="Verbose",(Ct=Ot=Ot||{}).Fatal="fatal",Ct.Error="error",Ct.Warning="warning",Ct.Log="log",Ct.Info="info",Ct.Debug="debug",Ct.Critical="critical",(kt=Ot=Ot||{}).fromString=function(t){switch(t){case"debug":return kt.Debug;case"info":return kt.Info;case"warn":case"warning":return kt.Warning;case"error":return kt.Error;case"fatal":return kt.Fatal;case"critical":return kt.Critical;case"log":default:return kt.Log}},(It=Nt=Nt||{}).Ok="ok",It.DealineExceeded="deadline_exceeded",It.Unauthenticated="unauthenticated",It.PermissionDenied="permission_denied",It.NotFound="not_found",It.ResourceExhausted="resource_exhausted",It.InvalidArgument="invalid_argument",It.Unimplemented="unimplemented",It.Unavailable="unavailable",It.InternalError="internal_error",It.UnknownError="unknown_error",It.Cancelled="cancelled",It.AlreadyExists="already_exists",It.FailedPrecondition="failed_precondition",It.Aborted="aborted",It.OutOfRange="out_of_range",It.DataLoss="data_loss",(At=Nt=Nt||{}).fromHttpCode=function(t){if(t<400)return At.Ok;if(400<=t&&t<500)switch(t){case 401:return At.Unauthenticated;case 403:return At.PermissionDenied;case 404:return At.NotFound;case 409:return At.AlreadyExists;case 413:return At.FailedPrecondition;case 429:return At.ResourceExhausted;default:return At.InvalidArgument}if(500<=t&&t<600)switch(t){case 501:return At.Unimplemented;case 503:return At.Unavailable;case 504:return At.DealineExceeded;default:return At.InternalError}return At.UnknownError},(Rt=Dt=Dt||{}).Unknown="unknown",Rt.Skipped="skipped",Rt.Success="success",Rt.RateLimit="rate_limit",Rt.Invalid="invalid",Rt.Failed="failed",(Lt=Dt=Dt||{}).fromHttpCode=function(t){return 200<=t&&t<300?Lt.Success:429===t?Lt.RateLimit:400<=t&&t<500?Lt.Invalid:500<=t?Lt.Failed:Lt.Unknown};var Ft,Bt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}),Vt=(s(qt,Ft=Error),qt);function qt(t){var e=this.constructor,n=Ft.call(this,t)||this;return n.message=t,n.name=e.prototype.constructor.name,Bt(n,e.prototype),n}function Wt(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Qt(t,Error)}}function Gt(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function zt(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function Yt(t){return"[object String]"===Object.prototype.toString.call(t)}function Xt(t){return null===t||"object"!==o(t)&&"function"!=typeof t}function Jt(t){return"[object Object]"===Object.prototype.toString.call(t)}function Kt(t){return"undefined"!=typeof Event&&Qt(t,Event)}function $t(t){return"undefined"!=typeof Element&&Qt(t,Element)}function Zt(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function Qt(t,e){try{return t instanceof e}catch(t){return!1}}function te(){return"[object process]"===Object.prototype.toString.call(void 0!==t?t:0)}var ee={};function ne(){return te()?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:ee}function re(){var t=ne(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function oe(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function ie(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function ae(t){var e=ne();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)}));var o=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),o}function se(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function ce(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(t){}}function le(t){try{for(var e=t,n=[],r=0,o=0,i=" > ".length,a=void 0;e&&r++<5&&!("html"===(a=ue(e))||1<r&&80<=o+n.length*i+a.length);)n.push(a),o+=a.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function ue(t){var e,n,r,o,i,a=t,s=[];if(!a||!a.tagName)return"";if(s.push(a.tagName.toLowerCase()),a.id&&s.push("#"+a.id),(e=a.className)&&Yt(e))for(n=e.split(/\s+/),i=0;i<n.length;i++)s.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],(o=a.getAttribute(r))&&s.push("["+r+'="'+o+'"]');return s.join("")}function de(){return(new Date).getTime()/1e3}function pe(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}var fe="<anonymous>";function he(t){try{return t&&"function"==typeof t&&t.name||fe}catch(t){return fe}}var me=ne(),_e="Sentry Logger ",ve=(ge.prototype.disable=function(){this._enabled=!1},ge.prototype.enable=function(){this._enabled=!0},ge.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&ae((function(){me.console.log(_e+"[Log]: "+t.join(" "))}))},ge.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&ae((function(){me.console.warn(_e+"[Warn]: "+t.join(" "))}))},ge.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&ae((function(){me.console.error(_e+"[Error]: "+t.join(" "))}))},ge);function ge(){this._enabled=!1}me.__SENTRY__=me.__SENTRY__||{};var ye,we,be=me.__SENTRY__.logger||(me.__SENTRY__.logger=new ve),Ee=(Se.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t)return!0;return this._inner.push(t),!1},Se.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},Se);function Se(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}function xe(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"..."}function Te(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var o=t[r];try{n.push(String(o))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function Oe(t,e){return n=e,"[object RegExp]"===Object.prototype.toString.call(n)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e);var n}function Ce(t,e,n){if(e in t){var r=t[e],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:r}})}catch(t){}t[e]=o}}function ke(t){if(Wt(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(Kt(t)){var o=t,i={};i.type=o.type;try{i.target=$t(o.target)?le(o.target):Object.prototype.toString.call(o.target)}catch(t){i.target="<unknown>"}try{i.currentTarget=$t(o.currentTarget)?le(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch(t){i.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&Qt(t,CustomEvent)&&(i.detail=o.detail),o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o);return i}return t}function Ne(t,e){return"domain"===e&&t&&"object"===o(t)&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==n&&t===n?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Jt(r=t)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+he(t)+"]":t;var r}function Ie(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return function t(e,n,r,o){if(void 0===r&&(r=1/0),void 0===o&&(o=new Ee),0===r)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=Ne(t);return Xt(n)?n:e}(n);if(null!=n&&"function"==typeof n.toJSON)return n.toJSON();var i=Ne(n,e);if(Xt(i))return i;var a=ke(n),s=Array.isArray(n)?[]:{};if(o.memoize(n))return"[Circular ~]";for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=t(c,a[c],r-1,o));return o.unmemoize(n),s}(t,n,e)})))}catch(t){return"**non-serializable**"}}(we=ye=ye||{}).PENDING="PENDING",we.RESOLVED="RESOLVED",we.REJECTED="REJECTED";var Ae=(De.prototype.toString=function(){return"[object SyncPromise]"},De.resolve=function(t){return new De((function(e){e(t)}))},De.reject=function(t){return new De((function(e,n){n(t)}))},De.all=function(t){return new De((function(e,n){if(Array.isArray(t))if(0!==t.length){var r=t.length,o=[];t.forEach((function(t,i){De.resolve(t).then((function(t){o[i]=t,0==--r&&e(o)})).then(null,n)}))}else e([]);else n(new TypeError("Promise.all requires an array as input."))}))},De.prototype.then=function(t,e){var n=this;return new De((function(r,o){n._attachHandler({onfulfilled:function(e){if(t)try{return void r(t(e))}catch(e){return void o(e)}else r(e)},onrejected:function(t){if(e)try{return void r(e(t))}catch(t){return void o(t)}else o(t)}})}))},De.prototype.catch=function(t){return this.then((function(t){return t}),t)},De.prototype.finally=function(t){var e=this;return new De((function(n,r){var o,i;return e.then((function(e){i=!1,o=e,t&&t()}),(function(e){i=!0,o=e,t&&t()})).then((function(){i?r(o):n(o)}))}))},De);function De(t){var e=this;this._state=ye.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(ye.RESOLVED,t)},this._reject=function(t){e._setResult(ye.REJECTED,t)},this._setResult=function(t,n){e._state===ye.PENDING&&(Zt(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){e._state!==ye.PENDING&&(e._state===ye.REJECTED?e._handlers.forEach((function(t){t.onrejected&&t.onrejected(e._value)})):e._handlers.forEach((function(t){t.onfulfilled&&t.onfulfilled(e._value)})),e._handlers=[])};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}var Re=(Le.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},Le.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):Ae.reject(new Vt("Not adding Promise due to buffer limit reached."))},Le.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},Le.prototype.length=function(){return this._buffer.length},Le.prototype.drain=function(t){var e=this;return new Ae((function(n){var r=setTimeout((function(){t&&0<t&&n(!1)}),t);Ae.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},Le);function Le(t){this._limit=t,this._buffer=[]}function Pe(){if(!("fetch"in ne()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function Me(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}var je,Ue=ne(),He={},Fe={};function Be(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(He[t.type]=He[t.type]||[],He[t.type].push(t.callback),function(t){if(!Fe[t])switch(Fe[t]=!0,t){case"console":"console"in Ue&&["debug","info","warn","error","log","assert"].forEach((function(t){t in Ue.console&&Ce(Ue.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Ve("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,Ue.console,n)}}))}));break;case"dom":"document"in Ue&&(Ue.document.addEventListener("click",ze("click",Ve.bind(null,"dom")),!1),Ue.document.addEventListener("keypress",Ye(Ve.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(t){var e=Ue[t]&&Ue[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Ce(e,"addEventListener",(function(t){return function(e,n,r){return n&&n.handleEvent?("click"===e&&Ce(n,"handleEvent",(function(t){return function(e){return ze("click",Ve.bind(null,"dom"))(e),t.call(this,e)}})),"keypress"===e&&Ce(n,"handleEvent",(function(t){return function(e){return Ye(Ve.bind(null,"dom"))(e),t.call(this,e)}}))):("click"===e&&ze("click",Ve.bind(null,"dom"),!0)(this),"keypress"===e&&Ye(Ve.bind(null,"dom"))(this)),t.call(this,e,n,r)}})),Ce(e,"removeEventListener",(function(t){return function(e,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(e){}return t.call(this,e,o,r)}})))})));break;case"xhr":!function(){if("XMLHttpRequest"in Ue){var t=XMLHttpRequest.prototype;Ce(t,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[1];return this.__sentry_xhr__={method:Yt(e[0])?e[0].toUpperCase():e[0],url:e[1]},Yt(r)&&"POST"===this.__sentry_xhr__.method&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0),t.apply(this,e)}})),Ce(t,"send",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,o={args:e,startTimestamp:Date.now(),xhr:r};function i(){if(4===r.readyState){try{r.__sentry_xhr__&&(r.__sentry_xhr__.status_code=r.status)}catch(t){}Ve("xhr",c({},o,{endTimestamp:Date.now()}))}}return Ve("xhr",c({},o)),"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?Ce(r,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return i(),t.apply(r,e)}})):r.onreadystatechange=i,t.apply(this,e)}}))}}();break;case"fetch":(function(){if(!Pe())return!1;var t=ne();if(Me(t.fetch))return!0;var e=!1,n=t.document;if(n){var r=n.createElement("iframe");r.hidden=!0;try{n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=Me(r.contentWindow.fetch)),n.head.removeChild(r)}catch(t){be.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}}return e})()&&Ce(Ue,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:function(t){return void 0===t&&(t=[]),"Request"in Ue&&Qt(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}(e),url:function(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in Ue&&Qt(t[0],Request)?t[0].url:String(t[0])}(e)},startTimestamp:Date.now()};return Ve("fetch",c({},r)),t.apply(Ue,e).then((function(t){return Ve("fetch",c({},r,{endTimestamp:Date.now(),response:t})),t}),(function(t){throw Ve("fetch",c({},r,{endTimestamp:Date.now(),error:t})),t}))}}));break;case"history":!function(){if(function(){var t=ne(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}()){var t=Ue.onpopstate;Ue.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ue.location.href;if(Ve("history",{from:je,to:je=r}),t)return t.apply(this,e)},Ce(Ue.history,"pushState",e),Ce(Ue.history,"replaceState",e)}function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=2<e.length?e[2]:void 0;if(r){var o=je,i=String(r);Ve("history",{from:o,to:je=i})}return t.apply(this,e)}}}();break;default:be.warn("unknown instrumentation type:",t)}}(t.type))}function Ve(t,e){var n,r;if(t&&He[t])try{for(var o=l(He[t]||[]),i=o.next();!i.done;i=o.next()){var a=i.value;try{a(e)}catch(e){be.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+he(a)+"\nError: "+e)}}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var qe,We,Ge=0;function ze(t,e,n){return void 0===n&&(n=!1),function(r){qe=void 0,r&&We!==r&&(We=r,Ge&&clearTimeout(Ge),n?Ge=setTimeout((function(){e({event:r,name:t})})):e({event:r,name:t}))}}function Ye(t){return function(e){var n;try{n=e.target}catch(e){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(qe||ze("input",t)(e),clearTimeout(qe),qe=setTimeout((function(){qe=void 0}),1e3))}}var Xe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,Je="Invalid Dsn",Ke=($e.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,r=e.path,o=e.pass,i=e.port,a=e.projectId;return e.protocol+"://"+e.user+(t&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+a},$e.prototype._fromString=function(t){var e=Xe.exec(t);if(!e)throw new Vt(Je);var n=u(e.slice(1),6),r=n[0],o=n[1],i=n[2],a=void 0===i?"":i,s=n[3],c=n[4],l=void 0===c?"":c,d="",p=n[5],f=p.split("/");1<f.length&&(d=f.slice(0,-1).join("/"),p=f.pop()),this._fromComponents({host:s,pass:a,path:d,projectId:p,port:l,protocol:r,user:o})},$e.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},$e.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach((function(e){if(!t[e])throw new Vt(Je)})),"http"!==this.protocol&&"https"!==this.protocol)throw new Vt(Je);if(this.port&&isNaN(parseInt(this.port,10)))throw new Vt(Je)},$e);function $e(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}var Ze=(Qe.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},Qe.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},Qe.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){t._scopeListeners.forEach((function(e){e(t)})),t._notifyingListeners=!1})))},Qe.prototype._notifyEventProcessors=function(t,e,n,r){var o=this;return void 0===r&&(r=0),new Ae((function(i,a){var s=t[r];if(null===e||"function"!=typeof s)i(e);else{var l=s(c({},e),n);Zt(l)?l.then((function(e){return o._notifyEventProcessors(t,e,n,r+1).then(i)})).then(null,a):o._notifyEventProcessors(t,l,n,r+1).then(i).then(null,a)}}))},Qe.prototype.setUser=function(t){return this._user=Ie(t),this._notifyScopeListeners(),this},Qe.prototype.setTags=function(t){return this._tags=c({},this._tags,Ie(t)),this._notifyScopeListeners(),this},Qe.prototype.setTag=function(t,e){var n;return this._tags=c({},this._tags,((n={})[t]=Ie(e),n)),this._notifyScopeListeners(),this},Qe.prototype.setExtras=function(t){return this._extra=c({},this._extra,Ie(t)),this._notifyScopeListeners(),this},Qe.prototype.setExtra=function(t,e){var n;return this._extra=c({},this._extra,((n={})[t]=Ie(e),n)),this._notifyScopeListeners(),this},Qe.prototype.setFingerprint=function(t){return this._fingerprint=Ie(t),this._notifyScopeListeners(),this},Qe.prototype.setLevel=function(t){return this._level=Ie(t),this._notifyScopeListeners(),this},Qe.prototype.setTransaction=function(t){return this._transaction=t,this._notifyScopeListeners(),this},Qe.prototype.setContext=function(t,e){return this._context[t]=e?Ie(e):void 0,this._notifyScopeListeners(),this},Qe.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},Qe.prototype.getSpan=function(){return this._span},Qe.clone=function(t){var e=new Qe;return t&&(e._breadcrumbs=d(t._breadcrumbs),e._tags=c({},t._tags),e._extra=c({},t._extra),e._context=c({},t._context),e._user=t._user,e._level=t._level,e._span=t._span,e._transaction=t._transaction,e._fingerprint=t._fingerprint,e._eventProcessors=d(t._eventProcessors)),e},Qe.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},Qe.prototype.addBreadcrumb=function(t,e){var n=de(),r=c({timestamp:n},t);return this._breadcrumbs=void 0!==e&&0<=e?d(this._breadcrumbs,[Ie(r)]).slice(-e):d(this._breadcrumbs,[Ie(r)]),this._notifyScopeListeners(),this},Qe.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},Qe.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},Qe.prototype.applyToEvent=function(t,e){return this._extra&&Object.keys(this._extra).length&&(t.extra=c({},this._extra,t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=c({},this._tags,t.tags)),this._user&&Object.keys(this._user).length&&(t.user=c({},this._user,t.user)),this._context&&Object.keys(this._context).length&&(t.contexts=c({},this._context,t.contexts)),this._level&&(t.level=this._level),this._transaction&&(t.transaction=this._transaction),this._span&&(t.contexts=t.contexts||{},t.contexts.trace=this._span.getTraceContext()),this._applyFingerprint(t),t.breadcrumbs=d(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=0<t.breadcrumbs.length?t.breadcrumbs:void 0,this._notifyEventProcessors(d(tn(),this._eventProcessors),t,e)},Qe);function Qe(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}function tn(){var t=ne();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function en(t){tn().push(t)}var nn=(rn.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop();o&&o.client&&o.client[t]&&(e=o.client)[t].apply(e,d(n,[o.scope]))},rn.prototype.isOlderThan=function(t){return this._version<t},rn.prototype.bindClient=function(t){this.getStackTop().client=t},rn.prototype.pushScope=function(){var t=this.getStack(),e=0<t.length?t[t.length-1].scope:void 0,n=Ze.clone(e);return this.getStack().push({client:this.getClient(),scope:n}),n},rn.prototype.popScope=function(){return void 0!==this.getStack().pop()},rn.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},rn.prototype.getClient=function(){return this.getStackTop().client},rn.prototype.getScope=function(){return this.getStackTop().scope},rn.prototype.getStack=function(){return this._stack},rn.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},rn.prototype.captureException=function(t,e){var n=this._lastEventId=re(),r=e;if(!e){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(t){o=t}r={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,c({},r,{event_id:n})),n},rn.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=re(),o=n;if(!n){var i=void 0;try{throw new Error(t)}catch(t){i=t}o={originalException:t,syntheticException:i}}return this._invokeClient("captureMessage",t,e,c({},o,{event_id:r})),r},rn.prototype.captureEvent=function(t,e){var n=this._lastEventId=re();return this._invokeClient("captureEvent",t,c({},e,{event_id:n})),n},rn.prototype.lastEventId=function(){return this._lastEventId},rn.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop();if(n.scope&&n.client){var r=n.client.getOptions&&n.client.getOptions()||{},o=r.beforeBreadcrumb,i=void 0===o?null:o,a=r.maxBreadcrumbs,s=void 0===a?30:a;if(!(s<=0)){var l=de(),u=c({timestamp:l},t),d=i?ae((function(){return i(u,e)})):u;null!==d&&n.scope.addBreadcrumb(d,Math.min(s,100))}}},rn.prototype.setUser=function(t){var e=this.getStackTop();e.scope&&e.scope.setUser(t)},rn.prototype.setTags=function(t){var e=this.getStackTop();e.scope&&e.scope.setTags(t)},rn.prototype.setExtras=function(t){var e=this.getStackTop();e.scope&&e.scope.setExtras(t)},rn.prototype.setTag=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setTag(t,e)},rn.prototype.setExtra=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setExtra(t,e)},rn.prototype.setContext=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setContext(t,e)},rn.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},rn.prototype.run=function(t){var e=an(this);try{t(this)}finally{an(e)}},rn.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return be.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},rn.prototype.startSpan=function(t,e){return void 0===e&&(e=!1),this._callExtensionMethod("startSpan",t,e)},rn.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},rn.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=on().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[t])return r.extensions[t].apply(this,e);be.warn("Extension method "+t+" couldn't be found, doing nothing.")},rn);function rn(t,e,n){void 0===e&&(e=new Ze),void 0===n&&(n=3),this._version=n,this._stack=[],this._stack.push({client:t,scope:e})}function on(){var t=ne();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function an(t){var e=on(),n=ln(e);return un(e,t),n}function sn(){var t=on();return cn(t)&&!ln(t).isOlderThan(3)||un(t,new nn),te()?function(t){try{var e=function(t,e){return t.require("domain")}(r).active;if(!e)return ln(t);if(!cn(e)||ln(e).isOlderThan(3)){var n=ln(t).getStackTop();un(e,new nn(n.client,Ze.clone(n.scope)))}return ln(e)}catch(e){return ln(t)}}(t):ln(t)}function cn(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function ln(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new nn),t.__SENTRY__.hub}function un(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function dn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=sn();if(r&&r[t])return r[t].apply(r,d(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function pn(t){var e;try{throw new Error("Sentry syntheticException")}catch(t){e=t}return dn("captureException",t,{originalException:t,syntheticException:e})}function fn(t,e){var n;try{throw new Error(t)}catch(t){n=t}return dn("captureMessage",t,e,{originalException:t,syntheticException:n})}function hn(t){dn("configureScope",t)}function mn(t){dn("withScope",t)}var _n=(vn.prototype.getDsn=function(){return this._dsnObject},vn.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},vn.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var t,e={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+(t=e,Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&"))},vn.prototype._getBaseUrl=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n},vn.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},vn.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_timestamp="+de()),r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},vn.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this._getBaseUrl()+(e.path?"/"+e.path:"")+"/api/embed/error-page/",r=[];for(var o in r.push("dsn="+e.toString()),t)if("user"===o){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return r.length?n+"?"+r.join("&"):n},vn);function vn(t){this.dsn=t,this._dsnObject=new Ke(t)}var gn=[],yn=(wn.prototype.captureException=function(t,e,n){var r=this,o=e&&e.event_id;return this._processing=!0,this._getBackend().eventFromException(t,e).then((function(t){return r._processEvent(t,e,n)})).then((function(t){o=t&&t.event_id,r._processing=!1})).then(null,(function(t){be.error(t),r._processing=!1})),o},wn.prototype.captureMessage=function(t,e,n,r){var o=this,i=n&&n.event_id;return this._processing=!0,(Xt(t)?this._getBackend().eventFromMessage(""+t,e,n):this._getBackend().eventFromException(t,n)).then((function(t){return o._processEvent(t,n,r)})).then((function(t){i=t&&t.event_id,o._processing=!1})).then(null,(function(t){be.error(t),o._processing=!1})),i},wn.prototype.captureEvent=function(t,e,n){var r=this,o=e&&e.event_id;return this._processing=!0,this._processEvent(t,e,n).then((function(t){o=t&&t.event_id,r._processing=!1})).then(null,(function(t){be.error(t),r._processing=!1})),o},wn.prototype.getDsn=function(){return this._dsn},wn.prototype.getOptions=function(){return this._options},wn.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return clearInterval(n.interval),e._getBackend().getTransport().close(t).then((function(t){return n.ready&&t}))}))},wn.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},wn.prototype.getIntegrations=function(){return this._integrations||{}},wn.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return be.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},wn.prototype._isClientProcessing=function(t){var e=this;return new Ae((function(n){var r=0,o=0;clearInterval(o),o=setInterval((function(){e._processing?(r+=1,t&&t<=r&&n({interval:o,ready:!1})):n({interval:o,ready:!0})}),1)}))},wn.prototype._getBackend=function(){return this._backend},wn.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},wn.prototype._prepareEvent=function(t,e,n){var r=this.getOptions(),o=r.environment,i=r.release,a=r.dist,s=r.maxValueLength,l=void 0===s?250:s,u=c({},t);void 0===u.environment&&void 0!==o&&(u.environment=o),void 0===u.release&&void 0!==i&&(u.release=i),void 0===u.dist&&void 0!==a&&(u.dist=a),u.message&&(u.message=xe(u.message,l));var d=u.exception&&u.exception.values&&u.exception.values[0];d&&d.value&&(d.value=xe(d.value,l));var p=u.request;p&&p.url&&(p.url=xe(p.url,l)),void 0===u.event_id&&(u.event_id=re()),this._addIntegrations(u.sdk);var f=Ae.resolve(u);return e&&(f=e.applyToEvent(u,n)),f},wn.prototype._addIntegrations=function(t){var e=Object.keys(this._integrations);t&&0<e.length&&(t.integrations=e)},wn.prototype._processEvent=function(t,e,n){var r=this,o=this.getOptions(),i=o.beforeSend,a=o.sampleRate;return this._isEnabled()?"number"==typeof a&&Math.random()>a?Ae.reject("This event has been sampled, will not send event."):new Ae((function(o,a){r._prepareEvent(t,n,e).then((function(t){if(null!==t){var n=t;try{if(e&&e.data&&!0===e.data.__sentry__||!i)return r._getBackend().sendEvent(n),void o(n);var s=i(t,e);if(void 0===s)be.error("`beforeSend` method has to return `null` or a valid event.");else if(Zt(s))r._handleAsyncBeforeSend(s,o,a);else{if(null===(n=s))return be.log("`beforeSend` returned `null`, will not send event."),void o(null);r._getBackend().sendEvent(n),o(n)}}catch(t){r.captureException(t,{data:{__sentry__:!0},originalException:t}),a("`beforeSend` threw an error, will not send event.")}}else a("An event processor returned null, will not send event.")})).then(null,(function(){a("`beforeSend` threw an error, will not send event.")}))})):Ae.reject("SDK not enabled, will not send event.")},wn.prototype._handleAsyncBeforeSend=function(t,e,n){var r=this;t.then((function(t){null!==t?(r._getBackend().sendEvent(t),e(t)):n("`beforeSend` returned `null`, will not send event.")})).then(null,(function(t){n("beforeSend rejected with "+t)}))},wn);function wn(t,e){this._integrations={},this._processing=!1,this._backend=new t(e),(this._options=e).dsn&&(this._dsn=new Ke(e.dsn)),this._isEnabled()&&(this._integrations=function(t){var e={};return function(t){var e=t.defaultIntegrations&&d(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var o=n.map((function(t){return t.name})),i=[];e.forEach((function(t){-1===o.indexOf(t.name)&&-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))})),n.forEach((function(t){-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))}))}else r="function"==typeof n?(r=n(e),Array.isArray(r)?r:[r]):d(e);var a=r.map((function(t){return t.name}));return-1!==a.indexOf("Debug")&&r.push.apply(r,d(r.splice(a.indexOf("Debug"),1))),r}(t).forEach((function(t){var n;e[t.name]=t,n=t,-1===gn.indexOf(n.name)&&(n.setupOnce(en,sn),gn.push(n.name),be.log("Integration installed: "+n.name))})),e}(this._options))}var bn=(En.prototype.sendEvent=function(t){return Ae.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Dt.Skipped})},En.prototype.close=function(t){return Ae.resolve(!0)},En);function En(){}var Sn,xn=(Tn.prototype._setupTransport=function(){return new bn},Tn.prototype.eventFromException=function(t,e){throw new Vt("Backend has to implement `eventFromException` method")},Tn.prototype.eventFromMessage=function(t,e,n){throw new Vt("Backend has to implement `eventFromMessage` method")},Tn.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){be.error("Error while sending event: "+t)}))},Tn.prototype.getTransport=function(){return this._transport},Tn);function Tn(t){this._options=t,this._options.dsn||be.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}var On=(Cn.prototype.setupOnce=function(){Sn=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return Sn.apply(n,t)}},Cn.id="FunctionToString",Cn);function Cn(){this.name=Cn.id}var kn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Nn=(In.prototype.setupOnce=function(){en((function(t){var e=sn();if(!e)return t;var n=e.getIntegration(In);if(n){var r=e.getClient(),o=r?r.getOptions():{},i=n._mergeOptions(o);if(n._shouldDropEvent(t,i))return null}return t}))},In.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(be.warn("Event dropped due to being internal Sentry Error.\nEvent: "+ie(t)),!0):this._isIgnoredError(t,e)?(be.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+ie(t)),!0):this._isBlacklistedUrl(t,e)?(be.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+ie(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isWhitelistedUrl(t,e)&&(be.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+ie(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},In.prototype._isSentryError=function(t,e){if(void 0===e&&(e={}),!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},In.prototype._isIgnoredError=function(t,e){return void 0===e&&(e={}),!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return Oe(t,e)}))}))},In.prototype._isBlacklistedUrl=function(t,e){if(void 0===e&&(e={}),!e.blacklistUrls||!e.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.blacklistUrls.some((function(t){return Oe(n,t)}))},In.prototype._isWhitelistedUrl=function(t,e){if(void 0===e&&(e={}),!e.whitelistUrls||!e.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.whitelistUrls.some((function(t){return Oe(n,t)}))},In.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{blacklistUrls:d(this._options.blacklistUrls||[],t.blacklistUrls||[]),ignoreErrors:d(this._options.ignoreErrors||[],t.ignoreErrors||[],kn),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:d(this._options.whitelistUrls||[],t.whitelistUrls||[])}},In.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=e.value,o=void 0===r?"":r;return[""+o,(void 0===n?"":n)+": "+o]}catch(e){return be.error("Cannot extract message for event "+ie(t)),[]}return[]},In.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return be.error("Cannot extract url for event "+ie(t)),null}},In.id="InboundFilters",In);function In(t){void 0===t&&(t={}),this._options=t,this.name=In.id}var An=Object.freeze({__proto__:null,FunctionToString:On,InboundFilters:Nn}),Dn=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[-a-z]+:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Rn=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,Ln=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Pn=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Mn=/\((\S*)(?::(\d+))(?::(\d+))\)/;function jn(t){var e=null,n=t&&t.framesToPop;try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=t.stacktrace.split("\n"),i=[],a=0;a<o.length;a+=2){var s=null;(e=n.exec(o[a]))?s={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=r.exec(o[a]))&&(s={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),s&&(!s.func&&s.line&&(s.func="?"),i.push(s))}return i.length?{message:Hn(t),name:t.name,stack:i}:null}(t))return Un(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,o=[],i=t.stack.split("\n"),a=0;a<i.length;++a){if(n=Dn.exec(i[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=Mn.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2],func:n[1]||"?",args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Ln.exec(i[a]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Rn.exec(i[a])))continue;n[3]&&-1<n[3].indexOf(" > eval")&&(e=Pn.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==a||n[5]||void 0===t.columnNumber||(o[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func="?"),o.push(r)}return o.length?{message:Hn(t),name:t.name,stack:o}:null}(t))return Un(e,n)}catch(t){}return{message:Hn(t),name:t&&t.name,stack:[],failed:!0}}function Un(t,e){try{return c({},t,{stack:t.stack.slice(e)})}catch(e){return t}}function Hn(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Fn(t){var e=qn(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Bn(t,e,n){var r={exception:{values:[{type:Kt(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+function(t,e){void 0===e&&(e=40);var n=Object.keys(ke(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return xe(n[0],e);for(var r=n.length;0<r;r--){var o=n.slice(0,r).join(", ");if(!(o.length>e))return r===n.length?o:xe(o,e)}return""}(t)}]},extra:{__serialized__:function t(e,n,r){void 0===n&&(n=3),void 0===r&&(r=102400);var o=Ie(e,n);return function(t){return e=JSON.stringify(t),~-encodeURI(e).split(/%..|./).length;var e}(o)>r?t(e,n-1,r):o}(t)}};if(e){var o=qn(jn(e).stack);r.stacktrace={frames:o}}return r}function Vn(t){return{exception:{values:[Fn(t)]}}}function qn(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).slice(0,50).reverse()}function Wn(t,e,n){var r,o;if(void 0===n&&(n={}),Gt(t)&&t.error)return Vn(jn(t=t.error));if(zt(t)||(o=t,"[object DOMException]"===Object.prototype.toString.call(o))){var i=t,a=i.name||(zt(i)?"DOMError":"DOMException"),s=i.message?a+": "+i.message:a;return se(r=Gn(s,e,n),s),r}return Wt(t)?r=Vn(jn(t)):(Jt(t)||Kt(t)?ce(r=Bn(t,e,n.rejection),{synthetic:!0}):(se(r=Gn(t,e,n),""+t,void 0),ce(r,{synthetic:!0})),r)}function Gn(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var o=qn(jn(e).stack);r.stacktrace={frames:o}}return r}var zn=(Yn.prototype.sendEvent=function(t){throw new Vt("Transport Class has to implement `sendEvent` method")},Yn.prototype.close=function(t){return this._buffer.drain(t)},Yn);function Yn(t){this.options=t,this._buffer=new Re(30),this.url=new _n(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}var Xn,Jn=ne(),Kn=(s($n,Xn=zn),$n.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n={body:JSON.stringify(t),method:"POST",referrerPolicy:function(){if(!Pe())return 0;try{return new Request("_",{referrerPolicy:"origin"}),1}catch(t){return 0}}()?"origin":""};return this._buffer.add(new Ae((function(t,r){Jn.fetch(e.url,n).then((function(n){var o=Dt.fromHttpCode(n.status);if(o!==Dt.Success){if(o===Dt.RateLimit){var i=Date.now();e._disabledUntil=new Date(i+pe(i,n.headers.get("Retry-After"))),be.warn("Too many requests, backing off till: "+e._disabledUntil)}r(n)}else t({status:o})})).catch(r)})))},$n);function $n(){var t=null!==Xn&&Xn.apply(this,arguments)||this;return t._disabledUntil=new Date(Date.now()),t}var Zn,Qn=(s(tr,Zn=zn),tr.prototype.sendEvent=function(t){var e=this;return new Date(Date.now())<this._disabledUntil?Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429}):this._buffer.add(new Ae((function(n,r){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){var t=Dt.fromHttpCode(o.status);if(t!==Dt.Success){if(t===Dt.RateLimit){var i=Date.now();e._disabledUntil=new Date(i+pe(i,o.getResponseHeader("Retry-After"))),be.warn("Too many requests, backing off till: "+e._disabledUntil)}r(o)}else n({status:t})}},o.open("POST",e.url),o.send(JSON.stringify(t))})))},tr);function tr(){var t=null!==Zn&&Zn.apply(this,arguments)||this;return t._disabledUntil=new Date(Date.now()),t}var er,nr=Object.freeze({__proto__:null,BaseTransport:zn,FetchTransport:Kn,XHRTransport:Qn}),rr=(s(or,er=xn),or.prototype._setupTransport=function(){if(!this._options.dsn)return er.prototype._setupTransport.call(this);var t=c({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(t):Pe()?new Kn(t):new Qn(t)},or.prototype.eventFromException=function(t,e){var n=Wn(t,e&&e.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return ce(n,{handled:!0,type:"generic"}),n.level=Ot.Error,e&&e.event_id&&(n.event_id=e.event_id),Ae.resolve(n)},or.prototype.eventFromMessage=function(t,e,n){void 0===e&&(e=Ot.Info);var r=Gn(t,n&&n.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return r.level=e,n&&n.event_id&&(r.event_id=n.event_id),Ae.resolve(r)},or);function or(){return null!==er&&er.apply(this,arguments)||this}var ir,ar="sentry.javascript.browser",sr="5.10.2",cr=(s(lr,ir=yn),lr.prototype._prepareEvent=function(t,e,n){return t.platform=t.platform||"javascript",t.sdk=c({},t.sdk,{name:ar,packages:d(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:sr}]),version:sr}),ir.prototype._prepareEvent.call(this,t,e,n)},lr.prototype.showReportDialog=function(t){void 0===t&&(t={});var e=ne().document;if(e)if(this._isEnabled()){var n=t.dsn||this.getDsn();if(t.eventId)if(n){var r=e.createElement("script");r.async=!0,r.src=new _n(n).getReportDialogEndpoint(t),t.onLoad&&(r.onload=t.onLoad),(e.head||e.body).appendChild(r)}else be.error("Missing `Dsn` option in showReportDialog call");else be.error("Missing `eventId` option in showReportDialog call")}else be.error("Trying to call showReportDialog with Sentry Client is disabled")},lr);function lr(t){return void 0===t&&(t={}),ir.call(this,rr,t)||this}var ur=0;function dr(){return 0<ur}function pr(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(r){return t}function r(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map((function(t){return pr(t,e)}));return t.handleEvent?t.handleEvent.apply(this,o):t.apply(this,o)}catch(t){throw ur+=1,setTimeout((function(){--ur})),mn((function(n){n.addEventProcessor((function(t){var n=c({},t);return e.mechanism&&(se(n,void 0,void 0),ce(n,e.mechanism)),n.extra=c({},n.extra,{arguments:Ie(r,3)}),n})),pn(t)})),t}}try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}catch(r){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(r){}return r}var fr=(hr.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(be.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(be.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},hr.prototype._installGlobalOnErrorHandler=function(){if(!this._onErrorHandlerInstalled){var t=this;this._oldOnErrorHandler=this._global.onerror,this._global.onerror=function(e,n,r,o,i){var a=sn(),s=a.getIntegration(hr),c=i&&!0===i.__sentry_own_request__;if(!s||dr()||c)return!!t._oldOnErrorHandler&&t._oldOnErrorHandler.apply(this,arguments);var l=a.getClient(),u=Xt(i)?t._eventFromIncompleteOnError(e,n,r,o):t._enhanceEventWithInitialFrame(Wn(i,void 0,{attachStacktrace:l&&l.getOptions().attachStacktrace,rejection:!1}),n,r,o);return ce(u,{handled:!1,type:"onerror"}),a.captureEvent(u,{originalException:i}),!!t._oldOnErrorHandler&&t._oldOnErrorHandler.apply(this,arguments)},this._onErrorHandlerInstalled=!0}},hr.prototype._installGlobalOnUnhandledRejectionHandler=function(){if(!this._onUnhandledRejectionHandlerInstalled){var t=this;this._oldOnUnhandledRejectionHandler=this._global.onunhandledrejection,this._global.onunhandledrejection=function(e){var n=e;try{n=e&&"reason"in e?e.reason:e}catch(e){}var r=sn(),o=r.getIntegration(hr),i=n&&!0===n.__sentry_own_request__;if(!o||dr()||i)return!t._oldOnUnhandledRejectionHandler||t._oldOnUnhandledRejectionHandler.apply(this,arguments);var a=r.getClient(),s=Xt(n)?t._eventFromIncompleteRejection(n):Wn(n,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!0});return s.level=Ot.Error,ce(s,{handled:!1,type:"onunhandledrejection"}),r.captureEvent(s,{originalException:n}),!t._oldOnUnhandledRejectionHandler||t._oldOnUnhandledRejectionHandler.apply(this,arguments)},this._onUnhandledRejectionHandlerInstalled=!0}},hr.prototype._eventFromIncompleteOnError=function(t,e,n,r){var o,i=Gt(t)?t.message:t;if(Yt(i)){var a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(o=a[1],i=a[2])}var s={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(s,e,n,r)},hr.prototype._eventFromIncompleteRejection=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},hr.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,a=Yt(e)&&0<e.length?e:function(){try{return document.location.href}catch(t){return""}}();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:o,filename:a,function:"?",in_app:!0,lineno:i}),t},hr.id="GlobalHandlers",hr);function hr(t){this.name=hr.id,this._global=ne(),this._oldOnErrorHandler=null,this._oldOnUnhandledRejectionHandler=null,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=c({onerror:!0,onunhandledrejection:!0},t)}var mr=(_r.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=pr(r,{mechanism:{data:{function:he(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},_r.prototype._wrapRAF=function(t){return function(e){return t(pr(e,{mechanism:{data:{function:"requestAnimationFrame",handler:he(t)},handled:!0,type:"instrument"}}))}},_r.prototype._wrapEventTarget=function(t){var e=ne(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Ce(n,"addEventListener",(function(e){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=pr(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:he(r),target:t},handled:!0,type:"instrument"}}))}catch(n){}return e.call(this,n,pr(r,{mechanism:{data:{function:"addEventListener",handler:he(r),target:t},handled:!0,type:"instrument"}}),o)}})),Ce(n,"removeEventListener",(function(t){return function(e,n,r){var o=n;try{o=o&&(o.__sentry_wrapped__||o)}catch(e){}return t.call(this,e,o,r)}})))},_r.prototype._wrapXHR=function(t){return function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return["onload","onerror","onprogress"].forEach((function(t){t in e&&"function"==typeof e[t]&&Ce(e,t,(function(e){return pr(e,{mechanism:{data:{function:t,handler:he(e)},handled:!0,type:"instrument"}})}))})),"onreadystatechange"in this&&"function"==typeof this.onreadystatechange&&Ce(this,"onreadystatechange",(function(t){var e={mechanism:{data:{function:"onreadystatechange",handler:he(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(e.mechanism.data.handler=he(t.__sentry_original__)),pr(t,e)})),t.apply(this,n)}},_r.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var t=ne();Ce(t,"setTimeout",this._wrapTimeFunction.bind(this)),Ce(t,"setInterval",this._wrapTimeFunction.bind(this)),Ce(t,"requestAnimationFrame",this._wrapRAF.bind(this)),"XMLHttpRequest"in t&&Ce(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},_r.id="TryCatch",_r);function _r(){this._ignoreOnError=0,this.name=_r.id}var vr=(gr.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{extra:{arguments:Ie(t.args,3)},logger:"console"},level:Ot.fromString(t.level),message:Te(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(Te(t.args.slice(1)," ")||"console.assert"),e.data.extra.arguments=Ie(t.args.slice(1),3)}sn().addBreadcrumb(e,{input:t.args,level:t.level})},gr.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?le(t.event.target):le(t.event)}catch(t){e="<unknown>"}0!==e.length&&sn().addBreadcrumb({category:"ui."+t.name,message:e},{event:event,name:t.name})},gr.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;sn().addBreadcrumb({category:"xhr",data:t.xhr.__sentry_xhr__,type:"http"},{xhr:t.xhr})}else t.xhr.__sentry_own_request__&&yr(t.args[0])},gr.prototype._fetchBreadcrumb=function(t){if(t.endTimestamp){var e=sn().getClient(),n=e&&e.getDsn();if(n){var r=new _n(n).getStoreEndpoint();if(r&&-1!==t.fetchData.url.indexOf(r)&&"POST"===t.fetchData.method&&t.args[1]&&t.args[1].body)return void yr(t.args[1].body)}t.error?sn().addBreadcrumb({category:"fetch",data:c({},t.fetchData,{status_code:t.response.status}),level:Ot.Error,type:"http"},{data:t.error,input:t.args}):sn().addBreadcrumb({category:"fetch",data:c({},t.fetchData,{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})}},gr.prototype._historyBreadcrumb=function(t){var e=ne(),n=t.from,r=t.to,o=oe(e.location.href),i=oe(n),a=oe(r);i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),sn().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},gr.prototype.setupOnce=function(){var t=this;this._options.console&&Be({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,d(e))},type:"console"}),this._options.dom&&Be({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,d(e))},type:"dom"}),this._options.xhr&&Be({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,d(e))},type:"xhr"}),this._options.fetch&&Be({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,d(e))},type:"fetch"}),this._options.history&&Be({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,d(e))},type:"history"})},gr.id="Breadcrumbs",gr);function gr(t){this.name=gr.id,this._options=c({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}function yr(t){try{var e=JSON.parse(t);sn().addBreadcrumb({category:"sentry",event_id:e.event_id,level:e.level||Ot.fromString("error"),message:ie(e)},{event:e})}catch(t){be.error("Error while adding sentry type breadcrumb")}}var wr=(br.prototype.setupOnce=function(){en((function(t,e){var n=sn().getIntegration(br);return n?n._handler(t,e):t}))},br.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&Qt(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=d(n,t.exception.values),t},br.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!Qt(t[e],Error)||n.length+1>=this._limit)return n;var r=Fn(jn(t[e]));return this._walkErrorTree(t[e],e,d([r],n))},br.id="LinkedErrors",br);function br(t){void 0===t&&(t={}),this.name=br.id,this._key=t.key||"cause",this._limit=t.limit||5}var Er=ne(),Sr=(xr.prototype.setupOnce=function(){en((function(t){if(sn().getIntegration(xr)){if(!Er.navigator||!Er.location)return t;var e=t.request||{};return e.url=e.url||Er.location.href,e.headers=e.headers||{},e.headers["User-Agent"]=Er.navigator.userAgent,c({},t,{request:e})}return t}))},xr.id="UserAgent",xr);function xr(){this.name=xr.id}var Tr=Object.freeze({__proto__:null,GlobalHandlers:fr,TryCatch:mr,Breadcrumbs:vr,LinkedErrors:wr,UserAgent:Sr}),Or=[new Nn,new On,new mr,new vr,new fr,new wr,new Sr];function Cr(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=Or),void 0===t.release){var e=ne();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}var n,r;n=cr,!0===(r=t).debug&&be.enable(),sn().bindClient(new n(r))}var kr={},Nr=ne();Nr.Sentry&&Nr.Sentry.Integrations&&(kr=Nr.Sentry.Integrations);var Ir=c({},kr,An,Tr),Ar=Object.freeze({__proto__:null,Integrations:Ir,Transports:nr,get Severity(){return Ot},get Status(){return Dt},addGlobalEventProcessor:en,addBreadcrumb:function(t){dn("addBreadcrumb",t)},captureException:pn,captureEvent:function(t){return dn("captureEvent",t)},captureMessage:fn,configureScope:hn,getHubFromCarrier:ln,getCurrentHub:sn,Hub:nn,Scope:Ze,setContext:function(t,e){dn("setContext",t,e)},setExtra:function(t,e){dn("setExtra",t,e)},setExtras:function(t){dn("setExtras",t)},setTag:function(t,e){dn("setTag",t,e)},setTags:function(t){dn("setTags",t)},setUser:function(t){dn("setUser",t)},withScope:mn,BrowserClient:cr,defaultIntegrations:Or,forceLoad:function(){},init:Cr,lastEventId:function(){return sn().lastEventId()},onLoad:function(t){t()},showReportDialog:function(t){void 0===t&&(t={}),t.eventId||(t.eventId=sn().lastEventId());var e=sn().getClient();e&&e.showReportDialog(t)},flush:function(t){var e=sn().getClient();return e?e.flush(t):Ae.reject(!1)},close:function(t){var e=sn().getClient();return e?e.close(t):Ae.reject(!1)},wrap:function(t){return pr(t)()},SDK_NAME:ar,SDK_VERSION:sr}),Dr=window.Slardar&&window.Slardar.shared||{},Rr=[],Lr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t&&t[0]&&Rr.push(t[0])};function Pr(t){var e={};Dr.config&&p(Dr.config)&&p(Dr.config.plugins)&&(e=Dr.config.plugins),e&&e.sentry&&e.sentry.enable&&(t(e),window.Sentry=Ar)}!function(t){if(f(window.addEventListener)&&"npm"!==Dr.installedType&&window.addEventListener("error",Lr),"script"===Dr.installedType)return Pr(t);if("npm"===Dr.installedType){if("async"===Dr.pluginsLoadType)return Pr(t);Dr.emitter&&Dr.emitter.on("pluginsReady",(function(){Pr(t)}))}}((function(t){var e=t.sentry||{},n=function(){};if(f(e.beforeSend)&&(n=e.beforeSend,delete e.beforeSend),Cr(c({dsn:"https://key@i.snssdk.com/log/sentry/v2/slardar",beforeSend:function(t){f(n)&&n(t);var e={ev_type:"jserr",sentry:t};return Dr.sendEvent&&f(Dr.sendEvent)&&(Dr.emitter&&Dr.emitter.emit("event_id",t.event_id),Dr.sendEvent({event:e,type:"post",name:"SentryPlugin"})),null}},e)),e.tags){var r=e.tags,o=function(t){Object.prototype.hasOwnProperty.call(r,t)&&hn((function(e){e.setTag(t,r[t])}))};for(var i in r)o(i)}if(Rr.forEach((function(t){"error"===t.type&&(t.error?pn(t.error):t.message&&fn(t.message))})),f(window.removeEventListener)&&window.removeEventListener("error",Lr),Dr.collect&&m(Dr.collect.Sentry)&&T(Dr.collect.Sentry,(function(t,e){f(e)&&e(Ar)})),window.Slardar&&window.Slardar.shared){var a=Dr.plugins||{};a.sentry=Ar,window.Slardar.shared.plugins=a}})),function(t){if(!t.WeakMap){var e=Object.prototype.hasOwnProperty,n=function(t,e,n){Object.defineProperty?Object.defineProperty(t,e,{configurable:!0,writable:!0,value:n}):t[e]=n};t.WeakMap=(n(r.prototype,"delete",(function(t){if(i(this,"delete"),!s(t))return!1;var e=t[this._id];return!(!e||e[0]!==t||(delete t[this._id],0))})),n(r.prototype,"get",(function(t){if(i(this,"get"),s(t)){var e=t[this._id];return e&&e[0]===t?e[1]:void 0}})),n(r.prototype,"has",(function(t){if(i(this,"has"),!s(t))return!1;var e=t[this._id];return!(!e||e[0]!==t)})),n(r.prototype,"set",(function(t,e){if(i(this,"set"),!s(t))throw new TypeError("Invalid value used as weak map key");var r=t[this._id];return r&&r[0]===t?r[1]=e:n(t,this._id,[t,e]),this})),n(r,"_polyfill",!0),r)}function r(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(n(this,"_id","_WeakMap_"+a()+"."+a()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function i(t,n){if(!s(t)||!e.call(t,"_id"))throw new TypeError(n+" method called on incompatible receiver "+o(t))}function a(){return Math.random().toString().substring(2)}function s(t){return Object(t)===t}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:null),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),function(t){"MutationObserver"in this||(window.MutationObserver=window.MutationObserver||function(t){function e(t){this._watched=[],this._listener=t}function n(e){var n={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(var r in e)l(n,r)&&e[r]!==t&&(n[r]=e[r]);return n}function r(e,r){var s=i(e,r);return function(l){var u,d,p,f,h=l.length;function m(t,e,r,i,a){for(var s,c,l,u=t.length-1,f=-~((u-a)/2);l=t.pop();)s=r[l.i],c=i[l.j],p.kids&&f&&Math.abs(l.i-l.j)>=u&&(d.push(n({type:"childList",target:e,addedNodes:[s],removedNodes:[s],nextSibling:s.nextSibling,previousSibling:s.previousSibling})),f--),p.attr&&c.attr&&o(d,s,c.attr,p.afilter),p.charData&&3===s.nodeType&&s.nodeValue!==c.charData&&d.push(n({type:"characterData",target:s,oldValue:c.charData})),p.descendents&&_(s,c)}function _(e,r){for(var i,s,l,u,h,v,g,y=e.childNodes,w=r.kids,b=y.length,E=w?w.length:0,S=0,x=0,T=0;x<b||T<E;)(v=y[x])===(g=(h=w[T])&&h.node)?(p.attr&&h.attr&&o(d,v,h.attr,p.afilter),p.charData&&h.charData!==t&&v.nodeValue!==h.charData&&d.push(n({type:"characterData",target:v,oldValue:h.charData})),s&&m(s,e,y,w,S),p.descendents&&(v.childNodes.length||h.kids&&h.kids.length)&&_(v,h),x++,T++):(f=!0,i||(i={},s=[]),v&&(i[l=a(v)]||(i[l]=!0,-1===(u=c(w,v,T,"node"))?p.kids&&(d.push(n({type:"childList",target:e,addedNodes:[v],nextSibling:v.nextSibling,previousSibling:v.previousSibling})),S++):s.push({i:x,j:u})),x++),g&&g!==y[x]&&(i[l=a(g)]||(i[l]=!0,-1===(u=c(y,g,x))?p.kids&&(d.push(n({type:"childList",target:r.node,removedNodes:[g],nextSibling:w[T+1],previousSibling:w[T-1]})),S--):s.push({i:u,j:T})),T++));s&&m(s,e,y,w,S)}r.charData&&3===e.nodeType&&e.nodeValue!==s.charData&&l.push(new n({type:"characterData",target:e,oldValue:s.charData})),r.attr&&s.attr&&o(l,e,s.attr,r.afilter),(r.kids||r.descendents)&&(d=l,p=r,_(e,s),u=f),!u&&l.length===h||(s=i(e,r))}}function o(t,e,r,o){for(var i,a,s={},c=e.attributes,u=c.length;u--;)a=(i=c[u]).name,o&&!l(o,a)||(d(e,i)!==r[a]&&t.push(n({type:"attributes",target:e,attributeName:a,oldValue:r[a],attributeNamespace:i.namespaceURI})),s[a]=!0);for(a in r)s[a]||t.push(n({target:e,type:"attributes",attributeName:a,oldValue:r[a]}))}function i(t,e){var n=!0;return function t(r){var o={node:r};return!e.charData||3!==r.nodeType&&8!==r.nodeType?(e.attr&&n&&1===r.nodeType&&(o.attr=s(r.attributes,(function(t,n){return e.afilter&&!e.afilter[n.name]||(t[n.name]=d(r,n)),t}),{})),n&&(e.kids||e.charData||e.attr&&e.descendents)&&(o.kids=function(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r,t);return n}(r.childNodes,t)),n=e.descendents):o.charData=r.nodeValue,o}(t)}function a(t){try{return t.id||(t[f]=t[f]||p++)}catch(e){try{return t.nodeValue}catch(t){return p++}}}function s(t,e,n){for(var r=0;r<t.length;r++)n=e(n,t[r],r,t);return n}function c(t,e,n,r){for(;n<t.length;n++)if((r?t[n][r]:t[n])===e)return n;return-1}function l(e,n){return e[n]!==t}e._period=30,e.prototype={observe:function(t,n){for(var o={attr:!!(n.attributes||n.attributeFilter||n.attributeOldValue),kids:!!n.childList,descendents:!!n.subtree,charData:!(!n.characterData&&!n.characterDataOldValue)},i=this._watched,a=0;a<i.length;a++)i[a].tar===t&&i.splice(a,1);var c;n.attributeFilter&&(o.afilter=s(n.attributeFilter,(function(t,e){return t[e]=!0,t}),{})),i.push({tar:t,fn:r(t,o)}),this._timeout||(c=this,function t(){var n=c.takeRecords();n.length&&c._listener(n,c),c._timeout=setTimeout(t,e._period)}())},takeRecords:function(){for(var t=[],e=this._watched,n=0;n<e.length;n++)e[n].fn(t);return t},disconnect:function(){this._watched=[],clearTimeout(this._timeout),this._timeout=null}};var u=document.createElement("i");u.style.top=0;var d=(u="null"!=u.attributes.style.value)?function(t,e){return e.value}:function(t,e){return"style"!==e.name?e.value:t.style.cssText},p=1,f="mo_id";return e}(void 0))}.call("object"===("undefined"==typeof window?"undefined":o(window))&&window||"object"===("undefined"==typeof self?"undefined":o(self))&&self||"object"===(void 0===n?"undefined":o(n))&&n||{});var Mr,jr,Ur=function(){return(Ur=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};(jr=Mr=Mr||{})[jr.Document=0]="Document",jr[jr.DocumentType=1]="DocumentType",jr[jr.Element=2]="Element",jr[jr.Text=3]="Text",jr[jr.CDATA=4]="CDATA",jr[jr.Comment=5]="Comment";var Hr=1;function Fr(t){try{var e=t.rules||t.cssRules;return e?Array.from(e).reduce((function(t,e){return t+(function(t){return"styleSheet"in t}(n=e)?Fr(n.styleSheet)||"":n.cssText);var n}),""):null}catch(t){return null}}var Br=/url\((?:'([^']*)'|"([^"]*)"|([^)]*))\)/gm,Vr=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/).*/,qr=/^(data:)([\w\/\+\-]+);(charset=[\w-]+|base64).*,(.*)/i;function Wr(t,e){return t.replace(Br,(function(t,n,r,o){var i,a=n||r||o;if(!a)return t;if(!Vr.test(a))return"url('"+a+"')";if(qr.test(a))return"url("+a+")";if("/"===a[0])return"url('"+((-1<(i=e).indexOf("//")?i.split("/").slice(0,3).join("/"):i.split("/")[0]).split("?")[0]+a)+"')";var s=e.split("/"),c=a.split("/");s.pop();for(var l=0,u=c;l<u.length;l++){var d=u[l];"."!==d&&(".."===d?s.pop():s.push(d))}return"url('"+s.join("/")+"')"}))}function Gr(t,e,n,r,o,a,s){void 0===o&&(o=!1),void 0===a&&(a=!0),void 0===s&&(s=!1);var c,l=function(t,e,n,r,o){switch(t.nodeType){case t.DOCUMENT_NODE:return{type:Mr.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:Mr.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId};case t.ELEMENT_NODE:var i=!1;"string"==typeof n?i=t.classList.contains(n):t.classList.forEach((function(t){n.test(t)&&(i=!0)}));for(var a=t.tagName.toLowerCase(),s={},c=0,l=Array.from(t.attributes);c<l.length;c++){var u=l[c],d=u.name,p=u.value;s[d]="src"===d||"href"===d?(S=p,x=void 0,(x=e.createElement("a")).href=S,x.href):"style"===d?Wr(p,location.href):p}if("link"===a&&r){var f,h=Array.from(e.styleSheets).find((function(e){return e.href===t.href}));(f=Fr(h))&&(delete s.rel,delete s.href,s._cssText=Wr(f,h.href))}if("style"===a&&t.sheet&&!(t.innerText||t.textContent||"").trim().length&&(f=Fr(t.sheet))&&(s._cssText=Wr(f,location.href)),"input"!==a&&"textarea"!==a&&"select"!==a||(p=t.value,"radio"!==s.type&&"checkbox"!==s.type&&p?s.value=o?"*".repeat(p.length):p:t.checked&&(s.checked=t.checked)),"option"===a){var m=t.parentElement;s.value===m.value&&(s.selected=t.selected)}if(i){var _=t.getBoundingClientRect(),v=_.width,g=_.height;s.rr_width=v+"px",s.rr_height=g+"px"}return{type:Mr.Element,tagName:a,attributes:s,childNodes:[],isSVG:"svg"===(E=t).tagName||E instanceof SVGElement||void 0,needBlock:i};case t.TEXT_NODE:var y=t.parentNode&&t.parentNode.tagName,w=t.textContent,b="STYLE"===y||void 0;return b&&w&&(w=Wr(w,location.href)),"SCRIPT"===y&&(w="SCRIPT_PLACEHOLDER"),{type:Mr.Text,textContent:w||"",isStyle:b};case t.CDATA_SECTION_NODE:return{type:Mr.CDATA,textContent:""};case t.COMMENT_NODE:return{type:Mr.Comment,textContent:t.textContent||""};default:return!1}var E,S,x}(t,e,r,a,s);if(!l)return console.warn(t,"not serialized"),null;var u=i(l,{id:c="__sn"in t?t.__sn.id:Hr++});t.__sn=u,n[c]=t;var d=!o;if(u.type===Mr.Element&&(d=d&&!u.needBlock,delete u.needBlock),(u.type===Mr.Document||u.type===Mr.Element)&&d)for(var p=0,f=Array.from(t.childNodes);p<f.length;p++){var h=Gr(f[p],e,n,r,o,a,s);h&&u.childNodes.push(h)}return u}function zr(t,e,n){void 0===n&&(n=document);var r={capture:!0,passive:!0};return n.addEventListener(t,e,r),function(){return n.removeEventListener(t,e,r)}}var Yr,Xr,Jr,Kr,$r,Zr,Qr,to,eo={map:{},getId:function(t){return t&&t.__sn?t.__sn.id:-1},getNode:function(t){return eo.map[t]||null},removeNodeFromMap:function(t){var e=t.__sn&&t.__sn.id;delete eo.map[e],t.childNodes&&t.childNodes.forEach((function(t){return eo.removeNodeFromMap(t)}))},has:function(t){return eo.map.hasOwnProperty(t)}};function no(t,e,n){void 0===n&&(n={});var r=null,o=0;return function(){var i=Date.now();o||!1!==n.leading||(o=i);var a=e-(i-o),s=this,c=arguments;a<=0||e<a?(r&&(window.clearTimeout(r),r=null),o=i,t.apply(s,c)):r||!1===n.trailing||(r=window.setTimeout((function(){o=!1===n.leading?0:Date.now(),r=null,t.apply(s,c)}),a))}}function ro(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function oo(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function io(t,e){if(!t)return!1;if(t.nodeType!==t.ELEMENT_NODE)return io(t.parentNode,e);var n=!1;return"string"==typeof e?n=t.classList.contains(e):t.classList.forEach((function(t){e.test(t)&&(n=!0)})),n||io(t.parentNode,e)}function ao(t){return Boolean(t.changedTouches)}function so(t,e){t.delete(e),e.childNodes.forEach((function(e){return so(t,e)}))}function co(t,e){var n=e.parentNode;return!!n&&(!!t.has(n)||co(t,n))}(Xr=Yr=Yr||{})[Xr.DomContentLoaded=0]="DomContentLoaded",Xr[Xr.Load=1]="Load",Xr[Xr.FullSnapshot=2]="FullSnapshot",Xr[Xr.IncrementalSnapshot=3]="IncrementalSnapshot",Xr[Xr.Meta=4]="Meta",(Kr=Jr=Jr||{})[Kr.Mutation=0]="Mutation",Kr[Kr.MouseMove=1]="MouseMove",Kr[Kr.MouseInteraction=2]="MouseInteraction",Kr[Kr.Scroll=3]="Scroll",Kr[Kr.ViewportResize=4]="ViewportResize",Kr[Kr.Input=5]="Input",(Zr=$r=$r||{})[Zr.MouseUp=0]="MouseUp",Zr[Zr.MouseDown=1]="MouseDown",Zr[Zr.Click=2]="Click",Zr[Zr.ContextMenu=3]="ContextMenu",Zr[Zr.DblClick=4]="DblClick",Zr[Zr.Focus=5]="Focus",Zr[Zr.Blur=6]="Blur",Zr[Zr.TouchStart=7]="TouchStart",Zr[Zr.TouchMove_Departed=8]="TouchMove_Departed",Zr[Zr.TouchEnd=9]="TouchEnd",(to=Qr=Qr||{}).Start="start",to.Pause="pause",to.Resume="resume",to.Resize="resize",to.Finish="finish",to.FullsnapshotRebuilded="fullsnapshot-rebuilded",to.LoadStylesheetStart="load-stylesheet-start",to.LoadStylesheetEnd="load-stylesheet-end",to.SkipStart="skip-start",to.SkipEnd="skip-end",to.MouseInteraction="mouse-interaction";var lo=function(t,e){return t+"@"+e};function uo(t){return"__sn"in t}var po,fo,ho,mo,_o,vo=["INPUT","TEXTAREA","SELECT"],go=["color","date","datetime-local","email","month","number","range","search","tel","text","time","url","week"],yo=null,wo=function(){return yo=yo||new WeakMap};function bo(t){var e,n,r,o,i,a,s,c,l,u=function(t,e,n,r){var o=new MutationObserver((function(o){var i=[],a=[],s=[],c=[],l=new Set,u=new Set,d=new Set,p={};function f(t){var o=eo.getId(t.parentNode);if(-1===o)return h.push(t);c.push({parentId:o,previousId:t.previousSibling?eo.getId(t.previousSibling):t.previousSibling,nextId:t.nextSibling?eo.getId(t.nextSibling):t.nextSibling,node:Gr(t,document,eo.map,e,!0,n,r)})}o.forEach((function(t){var n=t.type,r=t.target,o=t.oldValue,c=t.addedNodes,f=t.removedNodes,h=t.attributeName;switch(n){case"characterData":var m=r.textContent;io(r,e)||m===o||i.push({value:m,node:r});break;case"attributes":if(m=r.getAttribute(h),io(r,e)||m===o)return;var _=a.find((function(t){return t.node===r}));_||(_={node:r,attributes:{}},a.push(_)),_.attributes[h]=m;break;case"childList":c.forEach((function(t){return function t(n,r){if(!io(n,e)){if(uo(n)){u.add(n);var o=null;r&&uo(r)&&(o=r.__sn.id),o&&(p[lo(n.__sn.id,o)]=!0)}else l.add(n),d.delete(n);n.childNodes.forEach((function(e){return t(e)}))}}(t,r)})),f.forEach((function(t){var n=eo.getId(t),o=eo.getId(r);io(t,e)||(l.has(t)?(so(l,t),d.add(t)):l.has(r)&&-1===n||function t(e){var n=eo.getId(e);return!eo.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||t(e.parentNode))}(r)||(u.has(t)&&p[lo(n,o)]?so(u,t):s.push({parentId:o,id:n})),eo.removeNodeFromMap(t))}))}}));var h=[];for(Array.from(u).forEach(f),Array.from(l).forEach((function(t){co(d,t)||function t(e,n){var r=n.parentNode;if(!r)return!1;var o=eo.getId(r);return!!e.some((function(t){return t.id===o}))||t(e,r)}(s,t)?co(u,t)?f(t):d.add(t):f(t)}));h.length&&!h.every((function(t){return-1===eo.getId(t.parentNode)}));)f(h.shift());var m={texts:i.map((function(t){return{id:eo.getId(t.node),value:t.value}})).filter((function(t){return eo.has(t.id)})),attributes:a.map((function(t){return{id:eo.getId(t.node),attributes:t.attributes}})).filter((function(t){return eo.has(t.id)})),removes:s,adds:c};(m.texts.length||m.attributes.length||m.removes.length||m.adds.length)&&t(m)}));return o.observe(document,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}(t.mutationCb,t.blockClass,t.inlineStylesheet,t.maskAllInputs),d=(e=t.mousemoveCb,r=[],o=no((function(){var t=Date.now()-n;e(r.map((function(e){return e.timeOffset-=t,e}))),r=[],n=null}),500),i=no((function(t){var e=t.target,i=ao(t)?t.changedTouches[0]:t,a=i.clientX,s=i.clientY;n=n||Date.now(),r.push({x:a,y:s,id:eo.getId(e),timeOffset:Date.now()-n}),o()}),50,{trailing:!1}),a=[zr("mousemove",i),zr("touchmove",i)],function(){a.forEach((function(t){return t()}))}),p=function(t,e){var n=[];return Object.keys($r).filter((function(t){return Number.isNaN(Number(t))&&!t.endsWith("_Departed")})).forEach((function(r){var o,i=r.toLowerCase(),a=(o=r,function(n){if(!io(n.target,e)){var r=eo.getId(n.target),i=ao(n)?n.changedTouches[0]:n,a=i.clientX,s=i.clientY;t({type:$r[o],id:r,x:a,y:s})}});n.push(zr(i,a))})),function(){n.forEach((function(t){return t()}))}}(t.mouseInteractionCb,t.blockClass),f=(s=t.scrollCb,c=t.blockClass,zr("scroll",no((function(t){if(t.target&&!io(t.target,c)){var e=eo.getId(t.target);if(t.target===document){var n=document.scrollingElement||document.documentElement;s({id:e,x:n.scrollLeft,y:n.scrollTop})}else s({id:e,x:t.target.scrollLeft,y:t.target.scrollTop})}}),100))),h=(l=t.viewportResizeCb,zr("resize",no((function(){var t=ro(),e=oo();l({width:Number(e),height:Number(t)})}),200),window)),m=function(t,e,n,r){function o(t){var o=t.target;if(o&&o.tagName&&!(vo.indexOf(o.tagName)<0)&&!io(o,e)){var a=o.type;if("password"!==a&&!o.classList.contains(n)){var s=o.value,c=!1,l=go.includes(a)||"TEXTAREA"===o.tagName;"radio"===a||"checkbox"===a?c=o.checked:l&&r&&(s="*".repeat(s.length)),i(o,{text:s,isChecked:c});var u=o.name;"radio"===a&&u&&c&&document.querySelectorAll('input[type="radio"][name="'+u+'"]').forEach((function(t){t!==o&&i(t,{text:t.value,isChecked:!c})}))}}}function i(e,n){var r=wo().get(e);if(!r||r.text!==n.text||r.isChecked!==n.isChecked){wo().set(e,n);var o=eo.getId(e);t(Ur({},n,{id:o}))}}var a=["input","change"].map((function(t){return zr(t,o)})),s=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),c=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"]];return s&&s.set&&a.push.apply(a,c.map((function(t){return function t(e,n,r,o){var i=Object.getOwnPropertyDescriptor(e,n);return Object.defineProperty(e,n,o?r:{set:function(t){var e=this;setTimeout((function(){r.set.call(e,t)}),0),i&&i.set&&i.set.call(this,t)}}),function(){return t(e,n,i||{},!0)}}(t[0],t[1],{set:function(){o({target:this})}})}))),function(){a.forEach((function(t){return t()}))}}(t.inputCb,t.blockClass,t.ignoreClass,t.maskAllInputs);return function(){u.disconnect(),d(),p(),f(),h(),m()}}function Eo(t){return Ur({},t,{timestamp:Date.now()})}function So(t){void 0===t&&(t={});var e,n=t.emit,r=t.checkoutEveryNms,o=t.checkoutEveryNth,i=t.blockClass,a=void 0===i?"rr-block":i,s=t.ignoreClass,c=void 0===s?"rr-ignore":s,l=t.inlineStylesheet,u=void 0===l||l,d=t.maskAllInputs,p=void 0!==d&&d;if(!n)throw new Error("emit function is required");var f=0,h=function(t,i){if(n(t,i),t.type===Yr.FullSnapshot)e=t,f=0;else if(t.type===Yr.IncrementalSnapshot){f++;var a=o&&o<=f,s=r&&t.timestamp-e.timestamp>r;(a||s)&&m(!0)}};function m(t){void 0===t&&(t=!1),h(Eo({type:Yr.Meta,data:{href:window.location.href,width:oo(),height:ro()}}),t);var e=function(t,e,n,r){void 0===e&&(e="rr-block"),void 0===n&&(n=!0),void 0===r&&(r=!1);var o={};return[Gr(t,t,o,e,!1,n,r),o]}(document,a,u,p),n=e[0],r=e[1];if(!n)return console.warn("Failed to snapshot the document");eo.map=r,h(Eo({type:Yr.FullSnapshot,data:{node:n,initialOffset:{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}}}))}try{var _=[];_.push(zr("DOMContentLoaded",(function(){h(Eo({type:Yr.DomContentLoaded,data:{}}))})));var v=function(){m(),_.push(bo({mutationCb:function(t){return h(Eo({type:Yr.IncrementalSnapshot,data:Ur({source:Jr.Mutation},t)}))},mousemoveCb:function(t){return h(Eo({type:Yr.IncrementalSnapshot,data:{source:Jr.MouseMove,positions:t}}))},mouseInteractionCb:function(t){return h(Eo({type:Yr.IncrementalSnapshot,data:Ur({source:Jr.MouseInteraction},t)}))},scrollCb:function(t){return h(Eo({type:Yr.IncrementalSnapshot,data:Ur({source:Jr.Scroll},t)}))},viewportResizeCb:function(t){return h(Eo({type:Yr.IncrementalSnapshot,data:Ur({source:Jr.ViewportResize},t)}))},inputCb:function(t){return h(Eo({type:Yr.IncrementalSnapshot,data:Ur({source:Jr.Input},t)}))},blockClass:a,ignoreClass:c,maskAllInputs:p,inlineStylesheet:u}))};return"interactive"===document.readyState||"complete"===document.readyState?v():_.push(zr("load",(function(){h(Eo({type:Yr.Load,data:{}})),v()}),window)),function(){_.forEach((function(t){return t()}))}}catch(t){console.warn(t)}}(function(t,e){t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style&&!0!==t.__forceSmoothScrollPolyfill__)){var n,r=t.HTMLElement||t.Element,i=468,a={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:r.prototype.scroll||l,scrollIntoView:r.prototype.scrollIntoView},s=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,c=(n=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==u(arguments[0])?h.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):a.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!==o(arguments[0])?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(u(arguments[0])?a.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!==o(arguments[0])?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==u(arguments[0])){var t=arguments[0].left,e=arguments[0].top;h.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!==o(arguments[0])?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==u(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==u(arguments[0])){var n=function(t){for(;t!==e.body&&!1===(r=d(n=t,"Y")&&p(n,"Y"),o=d(n,"X")&&p(n,"X"),r||o);)t=t.parentNode||t.host;var n,r,o;return t}(this),r=n.getBoundingClientRect(),o=this.getBoundingClientRect();n!==e.body?(h.call(this,n,n.scrollLeft+o.left-r.left,n.scrollTop+o.top-r.top),"fixed"!==t.getComputedStyle(n).position&&t.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else a.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(t,e){this.scrollLeft=t,this.scrollTop=e}function u(t){if(null===t||"object"!==o(t)||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"===o(t)&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function d(t,e){return"Y"===e?t.clientHeight+c<t.scrollHeight:"X"===e?t.clientWidth+c<t.scrollWidth:void 0}function p(e,n){var r=t.getComputedStyle(e,null)["overflow"+n];return"auto"===r||"scroll"===r}function f(e){var n,r,o,a,c=(s()-e.startTime)/i;a=c=1<c?1:c,n=.5*(1-Math.cos(Math.PI*a)),r=e.startX+(e.x-e.startX)*n,o=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,r,o),r===e.x&&o===e.y||t.requestAnimationFrame(f.bind(t,e))}function h(n,r,o){var i,c,u,d,p=s();d=n===e.body?(c=(i=t).scrollX||t.pageXOffset,u=t.scrollY||t.pageYOffset,a.scroll):(c=(i=n).scrollLeft,u=n.scrollTop,l),f({scrollable:i,method:d,startTime:p,startX:c,startY:u,x:r,y:o})}}}}(po={exports:{}}),po.exports).polyfill,(ho=fo=fo||{})[ho.JSERROR=0]="JSERROR",ho[ho.DEFAULT=1]="DEFAULT",(_o=mo=mo||{}).INCLUDE="include",_o.REGEX="regex";var xo=(To.prototype.getEvents=function(){return this.events},To.prototype.visibleChange=function(t){!1===t?(this.behaviorPost(!1),this.stopRecord()):(this.stopRecord(),this.initRecord())},To.prototype.initRecord=function(){this.checkUrlPattern(this.patterns)&&(this.record=So({emit:this.emit}),this.mode===fo.DEFAULT&&this.shared.emitter&&this.intervalPost())},To.prototype.stopRecord=function(){this.cachedEvents=d(this.events),this.events=[],this.record&&(this.record(),this.record=void 0),this.intervalId&&window.clearInterval(this.intervalId)},To.prototype.resetRecord=function(){this.stopRecord(),this.record=So({emit:this.emit})},To.prototype.intervalPost=function(){var t=this;this.intervalId=window.setInterval((function(){t.behaviorPost(!1),t.events=[]}),2e4)},To.prototype.checkUrlPattern=function(t){if(m(t)&&0===t.length)return!0;var e=window.location.href;return t.some((function(t){if(t.match_type===mo.INCLUDE)return-1<e.indexOf(t.pattern);if(t.match_type!==mo.REGEX)return!0;var n=t.pattern.match(/^\/(.*?)\/([gim]*)$/);return(n?new RegExp(n[1],n[2]):new RegExp(t.pattern)).test(e)}))},To);function To(t,e){var n=this;this.shared=window.Slardar&&window.Slardar.shared||{},this.errorBehaviorPost=function(t){var e=[];if(n.events.length<100){var r=0===n.cachedEvents.length?n.events:n.events.slice(2);e=n.cachedEvents.concat(r)}else e=n.events;var o={ev_type:"behavior",events:e,event_id:t};n.shared.sendEvent&&f(n.shared.sendEvent)&&0<e.length&&n.shared.sendEvent({event:o,type:"post",name:"BehaviorPlugin"}),n.resetRecord()},this.behaviorPost=function(t){var e={ev_type:"behavior",events:n.events};n.shared.sendEvent&&f(n.shared.sendEvent)&&0<n.events.length&&n.shared.sendEvent({event:e,type:"post",name:"BehaviorPlugin"}),t&&n.resetRecord()},this.urlChange=function(){0===n.patterns.length?n.behaviorPost(!1):n.checkUrlPattern(n.patterns)?n.record||(n.stopRecord(),n.initRecord()):(n.behaviorPost(!1),n.stopRecord())},this.emit=function(t){n.mode===fo.JSERROR?(n.events.push(t),150<n.events.length&&n.resetRecord()):n.events.push(t)},this.mode=t,this.pluginSettings=e,this.patterns=N(this.pluginSettings,"behavior.patterns",[]),this.events=[],this.intervalId=null,this.cachedEvents=[]}var Oo,Co,ko=window.Slardar&&window.Slardar.shared||{};function No(t,e){var n=N(t,e[0]),r=N(t,e[1]),o=N(t,e[2]),i=M(document.cookie,B);return n&&(m(o)&&-1<o.indexOf(i)||Math.random()<r)}function Io(t){if(g()&&"undefined"!=typeof Set&&void 0!==Array.from&&"undefined"!=typeof WeakMap){if(No(t,["behavior.enable","behavior.sample_rate","behavior.slardar_web_ids"])){var e=new xo(Oo.DEFAULT,t);e.initRecord(),(new dt).setup((function(){return e.urlChange()})),ko.emitter&&ko.emitter.on&&f(ko.emitter.on)&&ko.emitter.on("visibilitychange",(function(t){return e.visibleChange(t)}))}if(No(t,["sentry.behavior_enable","sentry.behavior_sample_rate","sentry.behavior_slardar_web_ids"])){var n=new xo(Oo.JSERROR,t);if(n.initRecord(),ko.emitter&&ko.emitter.on&&f(ko.emitter.on)&&ko.emitter.on("event_id",(function(t){n.errorBehaviorPost(t)})),window.Slardar&&window.Slardar.shared){var r=ko.plugins||{};r.behavior=n,window.Slardar.shared.plugins=r}}}}function Ao(t){var e={};ko.config&&p(ko.config.plugins)&&(e=ko.config.plugins),t(e)}document.addEventListener("visibilitychange",(function(){ko.emitter&&("hidden"===document.visibilityState&&ko.emitter.emit("visibilitychange",!1),"visible"===document.visibilityState&&ko.emitter.emit("visibilitychange",!0))})),(Co=Oo=Oo||{})[Co.JSERROR=0]="JSERROR",Co[Co.DEFAULT=1]="DEFAULT",function(t){if("script"===ko.installedType)return Ao(t);if("npm"===ko.installedType){if("async"===ko.pluginsLoadType)return Ao(t);ko.emitter&&ko.emitter.on("pluginsReady",(function(){Ao(t)}))}}(Io);var Do=Ut;e.BehaviorMonitor=Io,e.Sentry=Ar,e.SlardarBrowser=jt,e.default=Do,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,n(213),n(44),n(214)(t))},,,,,function(t,e,n){"use strict";var r=n(239);t.exports=r.default||r},,,function(t,e,n){var r=n(29);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},,,function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return i})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return d})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return h})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return _})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return g})),n.d(e,"__asyncDelegator",(function(){return y})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return b})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function c(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function p(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function _(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=o[t](e)).value instanceof v?Promise.resolve(n.value.v).then(c,l):u(i[0][2],n)}catch(t){u(i[0][3],t)}var n}function c(t){s("next",t)}function l(t){s("throw",t)}function u(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function y(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}},,,,,,function(t,e,n){var r=n(28),o=n(51),i=n(74),a=n(122),s=n(124),c=function(t,e,n){var l,u,d,p,f=t&c.F,h=t&c.G,m=t&c.S,_=t&c.P,v=t&c.B,g=h?r:m?r[e]||(r[e]={}):(r[e]||{}).prototype,y=h?o:o[e]||(o[e]={}),w=y.prototype||(y.prototype={});for(l in h&&(n=e),n)d=((u=!f&&g&&void 0!==g[l])?g:n)[l],p=v&&u?s(d,r):_&&"function"==typeof d?s(Function.call,d):d,g&&a(g,l,d,t&c.U),y[l]!=d&&i(y,l,p),_&&w[l]!=d&&(w[l]=d)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){t.exports=!n(30)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},,,,,,function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(77)("wks"),o=n(76),i=n(28).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},,,,,,function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(79),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(37);r(r.S+r.F*!n(38),"Object",{defineProperty:n(75).f})},,,,,,,,,,,,,,,,,function(t,e,n){(function(e){var r=n(120),o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function i(t){return void 0===t}function a(t){return"[object Object]"===Object.prototype.toString.call(t)}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(){if(!("fetch"in o))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function u(t,e){var n,r;if(i(t.length))for(n in t)p(t,n)&&e.call(null,n,t[n]);else if(r=t.length)for(n=0;n<r;n++)e.call(null,n,t[n])}function d(t,e){if("number"!=typeof e)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"…"}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t){for(var e,n=[],r=0,o=t.length;r<o;r++)s(e=t[r])?n.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&n.push(e.source);return new RegExp(n.join("|"),"i")}function h(t){var e,n,r,o,i,a=[];if(!t||!t.tagName)return"";if(a.push(t.tagName.toLowerCase()),t.id&&a.push("#"+t.id),(e=t.className)&&s(e))for(n=e.split(/\s+/),i=0;i<n.length;i++)a.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],(o=t.getAttribute(r))&&a.push("["+r+'="'+o+'"]');return a.join("")}function m(t,e){return!!(!!t^!!e)}function _(t,e){if(m(t,e))return!1;var n,r,o=t.frames,i=e.frames;if(void 0===o||void 0===i)return!1;if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++)if(n=o[a],r=i[a],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}function v(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function g(t){if("string"==typeof t){return d(t,40)}if("number"==typeof t||"boolean"==typeof t||void 0===t)return t;var e=Object.prototype.toString.call(t);return"[object Object]"===e?"[Object]":"[object Array]"===e?"[Array]":"[object Function]"===e?t.name?"[Function: "+t.name+"]":"[Function]":t}t.exports={isObject:function(t){return"object"==typeof t&&null!==t},isError:function(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},isErrorEvent:function(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)},isDOMError:function(t){return"[object DOMError]"===Object.prototype.toString.call(t)},isDOMException:function(t){return"[object DOMException]"===Object.prototype.toString.call(t)},isUndefined:i,isFunction:function(t){return"function"==typeof t},isPlainObject:a,isString:s,isArray:c,isEmptyObject:function(t){if(!a(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(t){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(t){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(t){return!1}},supportsFetch:l,supportsReferrerPolicy:function(){if(!l())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(t){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(t){return function(e,n){var r=t(e)||e;return n&&n(r)||r}},each:u,objectMerge:function(t,e){return e?(u(e,(function(e,n){t[e]=n})),t):t},truncate:d,objectFrozen:function(t){return!!Object.isFrozen&&Object.isFrozen(t)},hasKey:p,joinRegExp:f,urlencode:function(t){var e=[];return u(t,(function(t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})),e.join("&")},uuid4:function(){var t=o.crypto||o.msCrypto;if(!i(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},htmlTreeAsString:function(t){for(var e,n=[],r=0,o=0,i=" > ".length;t&&r++<5&&!("html"===(e=h(t))||r>1&&o+n.length*i+e.length>=80);)n.push(e),o+=e.length,t=t.parentNode;return n.reverse().join(" > ")},htmlElementAsString:h,isSameException:function(t,e){return!m(t,e)&&(t=t.values[0],e=e.values[0],t.type===e.type&&t.value===e.value&&(n=t.stacktrace,r=e.stacktrace,(!i(n)||!i(r))&&_(t.stacktrace,e.stacktrace)));var n,r},isSameStacktrace:_,parseUrl:function(t){if("string"!=typeof t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=e[6]||"",r=e[8]||"";return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+n+r}},fill:function(t,e,n,r){if(null!=t){var o=t[e];t[e]=n(o),t[e].__raven__=!0,t[e].__orig__=o,r&&r.push([t,e,o])}},safeJoin:function(t,e){if(!c(t))return"";for(var n=[],r=0;r<t.length;r++)try{n.push(String(t[r]))}catch(t){n.push("[value cannot be serialized]")}return n.join(e)},serializeException:function t(e,n,o){if(!a(e))return e;o="number"!=typeof(n="number"!=typeof n?3:n)?51200:o;var i=function t(e,n){return 0===n?g(e):a(e)?Object.keys(e).reduce((function(r,o){return r[o]=t(e[o],n-1),r}),{}):Array.isArray(e)?e.map((function(e){return t(e,n-1)})):g(e)}(e,n);return v(r(i))>o?t(e,n-1):i},serializeKeysForMessage:function(t,e){if("number"==typeof t||"string"==typeof t)return t.toString();if(!Array.isArray(t))return"";if(0===(t=t.filter((function(t){return"string"==typeof t}))).length)return"[object has no keys]";if(e="number"!=typeof e?40:e,t[0].length>=e)return t[0];for(var n=t.length;n>0;n--){var r=t.slice(0,n).join(", ");if(!(r.length>e))return n===t.length?r:r+"…"}return""},sanitize:function(t,e){if(!c(e)||c(e)&&0===e.length)return t;var n,o=f(e);try{n=JSON.parse(r(t))}catch(e){return t}return function t(e){return c(e)?e.map((function(e){return t(e)})):a(e)?Object.keys(e).reduce((function(n,r){return o.test(r)?n[r]="********":n[r]=t(e[r]),n}),{}):e}(n)}}}).call(this,n(44))},function(t,e,n){var r=n(75),o=n(228);t.exports=n(38)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(25),o=n(226),i=n(227),a=Object.defineProperty;e.f=n(38)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(51),o=n(28),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(230)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(53);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},,function(t,e,n){},function(t,e,n){},function(t,e,n){var r=n(131);function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}t.exports=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}},function(t,e,n){"use strict";var r,o,i=n(291),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,l=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(t){var e,n,r,o,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),l&&(e=c.lastIndex),r=a.call(c,t),l&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=c},function(t,e,n){"use strict";var r,o;Object.defineProperty(e,"__esModule",{value:!0});var i,a,s=n(86);!function(t){t[t.VIP_NOT_BORROW=1]="VIP_NOT_BORROW",t[t.VIP_BORROWED=2]="VIP_BORROWED",t[t.NORMAL_NOT_BUY=3]="NORMAL_NOT_BUY",t[t.NORMAL_BUYED=4]="NORMAL_BUYED",t[t.AD_UNLOCKED=5]="AD_UNLOCKED"}(e.EUserPermType||(e.EUserPermType={})),function(t){t[t.FREE=0]="FREE",t[t.WEIXIN=1]="WEIXIN",t[t.PZ=2]="PZ",t[t.GONGZHONGHAO=3]="GONGZHONGHAO",t[t.MINIPROGRAM=4]="MINIPROGRAM",t[t.BALANCE=10]="BALANCE",t[t.PZ_AUTO=21]="PZ_AUTO",t[t.REWARD=40]="REWARD",t[t.CJPAY_IAP_AUTO=41]="CJPAY_IAP_AUTO",t[t.COMBINED_PAY=70]="COMBINED_PAY",t[t.APPLE_PAY=100]="APPLE_PAY"}(e.EPayWay||(e.EPayWay={})),function(t){t[t.SUCCESS=0]="SUCCESS",t[t.WAITING_TO_PAY=1]="WAITING_TO_PAY",t[t.PAYING=2]="PAYING",t[t.CLOSED=3]="CLOSED",t[t.FAIL=4]="FAIL",t[t.REFUNDING=5]="REFUNDING",t[t.REFUNDED=6]="REFUNDED",t[t.UNKNOWN=99]="UNKNOWN"}(e.ETradeStatus||(e.ETradeStatus={})),function(t){t.ALBUM="album",t.BOOK="book",t.AUDIO_BOOK="audio_book",t.VIP="vip",t.SUBJECT="subject",t.EBOOK="ebook"}(i=e.EGoodsType||(e.EGoodsType={})),function(t){t.ALBUM="专辑",t.BOOK="书籍",t.AUDIO_BOOK="有声书",t.VIP="VIP",t.SUBJECT="专题",t.EBOOK="电子书"}(a=e.EGoodsTypeDesc||(e.EGoodsTypeDesc={})),e.goodsTypeMap=((r={})[i.ALBUM]=a.ALBUM,r[i.BOOK]=a.BOOK,r[i.EBOOK]=a.EBOOK,r[i.AUDIO_BOOK]=a.AUDIO_BOOK,r[i.VIP]=a.VIP,r[i.SUBJECT]=a.SUBJECT,r),e.contentTypeNumToGoodsTypeMap=((o={})[s.EContentTypeNum.ALBUM]=i.ALBUM,o[s.EContentTypeNum.BOOK]=i.BOOK,o[s.EContentTypeNum.AUDIO_BOOK]=i.AUDIO_BOOK,o[s.EContentTypeNum.EBOOK]=i.EBOOK,o)},function(t,e,n){"use strict";var r,o,i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.ALBUM="album",t.BOOK="book",t.AUDIO_BOOK="audio_book",t.EBOOK="ebook",t.MAGAZINE="journal",t.LIVE_COURSE="live_course"}(o=e.EContentType||(e.EContentType={})),function(t){t[t.ALBUM=1]="ALBUM",t[t.BOOK=2]="BOOK",t[t.AUDIO_BOOK=3]="AUDIO_BOOK",t[t.EBOOK=4]="EBOOK",t[t.MAGAZINE=5]="MAGAZINE",t[t.LIVE_COURSE=6]="LIVE_COURSE"}(i=e.EContentTypeNum||(e.EContentTypeNum={})),function(t){t[t.LEARNING_ADMIN=1]="LEARNING_ADMIN",t[t.PGC_MP=2]="PGC_MP",t[t.SCRIPT=3]="SCRIPT"}(e.EContentSource||(e.EContentSource={})),e.contentTypeMap=((r={})[o.ALBUM]=i.ALBUM,r[o.BOOK]=i.BOOK,r[o.AUDIO_BOOK]=i.AUDIO_BOOK,r[o.EBOOK]=i.EBOOK,r[o.MAGAZINE]=i.MAGAZINE,r[o.LIVE_COURSE]=i.LIVE_COURSE,r[i.ALBUM]=o.ALBUM,r[i.BOOK]=o.BOOK,r[i.AUDIO_BOOK]=o.AUDIO_BOOK,r[i.EBOOK]=o.EBOOK,r[i.MAGAZINE]=o.MAGAZINE,r[i.LIVE_COURSE]=o.LIVE_COURSE,r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.AUDIO=1]="AUDIO",t[t.VIDEO=2]="VIDEO",t[t.AUDIO_AND_VIDEO=3]="AUDIO_AND_VIDEO",t[t.TEXT=4]="TEXT",t[t.AUDIO_AND_TEXT=5]="AUDIO_AND_TEXT",t[t.VIDEO_AND_TEXT=6]="VIDEO_AND_TEXT",t[t.AUDIO_AND_VIDEO_AND_TEXT=7]="AUDIO_AND_VIDEO_AND_TEXT",t[t.LIVE_STREAM=8]="LIVE_STREAM"}(e.EItemType||(e.EItemType={})),function(t){t[t.AUDIO=1]="AUDIO",t[t.VIDEO=2]="VIDEO",t[t.AUDIO_AND_VIDEO=3]="AUDIO_AND_VIDEO",t[t.TEXT=4]="TEXT",t[t.AUDIO_AND_TEXT=5]="AUDIO_AND_TEXT",t[t.VIDEO_AND_TEXT=6]="VIDEO_AND_TEXT",t[t.AUDIO_AND_VIDEO_AND_TEXT=7]="AUDIO_AND_VIDEO_AND_TEXT",t[t.LIVE_STREAM=8]="LIVE_STREAM"}(e.EAllItemCommonType||(e.EAllItemCommonType={})),function(t){t[t.NEED_PAY=0]="NEED_PAY",t[t.FREE=1]="FREE"}(e.EItemFree||(e.EItemFree={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES"}(e.EIsFuture||(e.EIsFuture={})),function(t){t[t.NOT_FREE=0]="NOT_FREE",t[t.FREE=1]="FREE"}(e.EVIPFreeFlag||(e.EVIPFreeFlag={}))},function(t,e,n){"use strict";var r=n(48);function o(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new o(t)}},,,,function(t,e,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&t.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()},,,,function(t,e,n){t.exports={default:n(343),__esModule:!0}},,,,,,,,,,,,,,,,,,,,,,,,function(t,e){function n(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function r(t,e){var r=[],o=[];return null==e&&(e=function(t,e){return r[0]===e?"[Circular ~]":"[Circular ~."+o.slice(0,n(r,e)).join(".")+"]"}),function(i,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?o.splice(s,1/0,i):o.push(i),~n(r,a)&&(a=e.call(this,i,a))}else r.push(a);return null==t?a instanceof Error?function(t){var e={stack:t.stack,message:t.message,name:t.name};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(a):a:t.call(this,i,a)}}(t.exports=function(t,e,n,o){return JSON.stringify(t,r(e,o),n)}).getSerialize=r},function(t,e,n){var r=n(29),o=n(28).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(28),o=n(74),i=n(123),a=n(76)("src"),s=n(229),c=(""+s).split("toString");n(51).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(l&&(i(n,a)||o(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(52);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(233),o=n(128);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(78),o=n(54);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(77)("keys"),o=n(76);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";var r=n(52),o=n(29),i=n(237),a=[].slice,s={},c=function(t,e,n){if(!(e in s)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?c(e,r.length,r):i(e,r,t)};return o(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,n){},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){var r=n(54);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(131),o=n(283);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(284);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){"use strict";var r=n(289)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){"use strict";var r=n(290),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){"use strict";n(292);var r=n(122),o=n(74),i=n(30),a=n(54),s=n(45),c=n(84),l=s("species"),u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var p=s(t),f=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=f?!i((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[p](""),!e})):void 0;if(!f||!h||"replace"===t&&!u||"split"===t&&!d){var m=/./[p],_=n(a,p,""[t],(function(t,e,n,r,o){return e.exec===c?f&&!o?{done:!0,value:m.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),v=_[0],g=_[1];r(String.prototype,t,v),o(RegExp.prototype,p,2==e?function(t,e){return g.call(t,this,e)}:function(t){return g.call(t,this)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=null;e.getBrowserVersions=function(){var t,e,n,o;return r||(t=navigator.userAgent,e=window.screen,n=e.width,o=e.height,r={wx:!!t.match(/MicroMessenger/i),trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1===t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1===t.indexOf("Safari"),webview:!!t.match(/Learning/gi),iPhoneX:t.indexOf("iPhone")>-1&&(375===n&&812===o||812===n&&375===o),iPhoneXSMax:/iphone/gi.test(window.navigator.userAgent)&&!!window.devicePixelRatio&&3===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height,iPhoneXR:/iphone/gi.test(window.navigator.userAgent)&&!!window.devicePixelRatio&&2===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height}),r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.SUCCESS=0]="SUCCESS",t[t.ERROR_NOT_LOGIN=100001]="ERROR_NOT_LOGIN",t[t.ERROR_LOGIN_IN_OTHER_DEVICE=100002]="ERROR_LOGIN_IN_OTHER_DEVICE",t[t.ERROR_EXPIRED=100003]="ERROR_EXPIRED",t[t.ERROR_OPEN_ID=600027]="ERROR_OPEN_ID",t[t.ERRNO_ITEM_DELETE_ERROR=300002]="ERRNO_ITEM_DELETE_ERROR",t[t.ERRNO_ITEM_NOT_FIND_ERROR=300003]="ERRNO_ITEM_NOT_FIND_ERROR",t[t.ERRNO_TRADE_VIP_AND_VIP_FLAG_IN_TOUTIAO=600005]="ERRNO_TRADE_VIP_AND_VIP_FLAG_IN_TOUTIAO"}(e.EResponseCode||(e.EResponseCode={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(85),o=n(87),i=n(86);e.hasArticle=function(t){return!!(4&t)},e.hasVideo=function(t){return!!(2&t)},e.hasAudio=function(t){return!!(1&t)},e.getThumbUri=function(t,e){return e===i.EContentType.ALBUM||e===i.EContentTypeNum.ALBUM?t.horizontal||"":e===i.EContentType.BOOK||e===i.EContentTypeNum.BOOK?t.vertical||"":e===i.EContentType.AUDIO_BOOK||e===i.EContentTypeNum.AUDIO_BOOK?t.square||"":t&&t.square||""},e.getThumbUriForTT=function(t,e){return e===i.EContentType.ALBUM||e===i.EContentTypeNum.ALBUM?t.square||"":e===i.EContentType.BOOK||e===i.EContentTypeNum.BOOK?t.vertical||"":e===i.EContentType.AUDIO_BOOK||e===i.EContentTypeNum.AUDIO_BOOK?t.vertical||"":t&&t.square||""},e.getThumbUriForLearning=function(t,e){return e===i.EContentType.ALBUM||e===i.EContentTypeNum.ALBUM?t.square||"":e===i.EContentType.BOOK||e===i.EContentTypeNum.BOOK?t.vertical||"":e===i.EContentType.AUDIO_BOOK||e===i.EContentTypeNum.AUDIO_BOOK?t.square||"":t&&t.square||""},e.contentPurchased=function(t){return[r.EUserPermType.VIP_BORROWED,r.EUserPermType.NORMAL_BUYED].indexOf(t)>-1},e.checkPlayPermission=function(t){return t!==r.EUserPermType.NORMAL_NOT_BUY},e.contentPurchasedForTT=function(t){return t===r.EUserPermType.NORMAL_BUYED},e.convertContentTypeEnumToContentType=function(t){return i.contentTypeMap[t]},e.convertContentTypeToContentTypeEnum=function(t){return i.contentTypeMap[t]},e.isVideo=function(t){return 1==(t>>1&1)},e.findFirstFree=function(t){return t.find((function(t){return t.item_base_info.item_free===o.EItemFree.FREE}))},e.formatScore=function(t){return(t/2).toFixed(1)},e.formatScoreWithRound=function(t){return(Math.round(t/2*10)/10).toFixed(1)},e.hasFreeItem=function(t){return(t.item||[]).some((function(t){return t.item_free===o.EItemFree.FREE}))},e.isVerticalContent=function(t){return t===i.EContentTypeNum.EBOOK||t===i.EContentTypeNum.BOOK||t===i.EContentTypeNum.MAGAZINE||t===i.EContentType.EBOOK||t===i.EContentType.BOOK||t===i.EContentType.MAGAZINE}},function(t,e,n){"use strict";var r,o,i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.VALID=1]="VALID",t[t.FROZEN=2]="FROZEN",t[t.USED=3]="USED",t[t.EXPIRED=4]="EXPIRED",t[t.NOT_MEET=5]="NOT_MEET"}(e.ECouponStatus||(e.ECouponStatus={})),function(t){t[t.ALL=0]="ALL",t[t.ALBUM_ONLY=1]="ALBUM_ONLY",t[t.BOOK_ONLY=2]="BOOK_ONLY",t[t.SPECIFY=3]="SPECIFY",t[t.ALBUM_AND_BOOK=4]="ALBUM_AND_BOOK",t[t.VIP_MONTH=10]="VIP_MONTH",t[t.VIP_HALF_YEAR=11]="VIP_HALF_YEAR",t[t.VIP_YEAR=12]="VIP_YEAR"}(e.EGoodsRule||(e.EGoodsRule={})),function(t){t[t.NO_RESTRICTION=1]="NO_RESTRICTION",t[t.WITH_RESTRICTION=2]="WITH_RESTRICTION",t[t.DISCOUNT=3]="DISCOUNT"}(o=e.ECouponWay||(e.ECouponWay={})),function(t){t.NO_RESTRICTION="no-restriction",t.WITH_RESTRICTION="with-restriction",t.DISCOUNT="discount"}(i=e.ECouponWayDesc||(e.ECouponWayDesc={})),e.couponWayDescMap=((r={})[o.NO_RESTRICTION]=i.NO_RESTRICTION,r[o.WITH_RESTRICTION]=i.WITH_RESTRICTION,r[o.DISCOUNT]=i.DISCOUNT,r),function(t){t[t.COUPON_STATUS_DISABLED=0]="COUPON_STATUS_DISABLED",t[t.COUPON_STATUS_SELECTED=1]="COUPON_STATUS_SELECTED",t[t.COUPON_STATUS_AVAILABLE=2]="COUPON_STATUS_AVAILABLE"}(e.ECouponStatusForUse||(e.ECouponStatusForUse={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31);r.__exportStar(n(85),e),r.__exportStar(n(143),e),r.__exportStar(n(147),e),r.__exportStar(n(147),e),r.__exportStar(n(86),e),r.__exportStar(n(87),e),r.__exportStar(n(325),e),r.__exportStar(n(326),e),r.__exportStar(n(327),e),r.__exportStar(n(328),e),r.__exportStar(n(145),e),r.__exportStar(n(329),e),r.__exportStar(n(330),e);var o=n(331);e.EBizId=o.EBizId},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.ANY=0]="ANY",t[t.VIP=1]="VIP",t[t.INVITE=2]="INVITE",t[t.VIP_AND_INVITE=3]="VIP_AND_INVITE",t[t.BUY=4]="BUY",t[t.INVITE_AND_BUY=6]="INVITE_AND_BUY"}(e.ECondition||(e.ECondition={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.BOUNDLESS=1]="BOUNDLESS"}(e.EChallengeMode||(e.EChallengeMode={})),function(t){t[t.Unfinished=0]="Unfinished",t[t.Finish=1]="Finish",t[t.DelayedFinish=2]="DelayedFinish"}(e.ETaskDoneStatus||(e.ETaskDoneStatus={})),function(t){t[t.COURSE=1]="COURSE",t[t.WRITE=2]="WRITE",t[t.CHOICE=4]="CHOICE"}(e.ESubTaskType||(e.ESubTaskType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=null;e.getBrowserVersions=function(){var t,e,n,r;return o||(t=navigator.userAgent,e=window.screen,n=e.width,r=e.height,o={wx:!!t.match(/MicroMessenger/i),trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1===t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1===t.indexOf("Safari"),webview:!!t.match(/Learning/gi),iPhoneX:t.indexOf("iPhone")>-1&&(375===n&&812===r||812===n&&375===r),iPhoneXSMax:/iphone/gi.test(window.navigator.userAgent)&&!!window.devicePixelRatio&&3===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height,iPhoneXR:/iphone/gi.test(window.navigator.userAgent)&&!!window.devicePixelRatio&&2===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height}),o},e.isAndroid=e.getBrowserVersions().android,e.getAppVersionByUa=function(t){var e=(t||navigator.userAgent).toLowerCase().match(/newsarticle\/\s*([0-9.]*)/);return e?e[1]:""},e.getLiteAppVersionByUa=function(t){var e=(t||navigator.userAgent).toLowerCase(),n=e.match(/newsarticle\/\s*([0-9.]*)/);return n&&/newslite/.test(e)?n[1]:""},e.getTTProAppVersionByUa=function(t){var e=(t||navigator.userAgent).toLowerCase(),n=e.match(/newsarticle\/\s*([0-9.]*)/);return n&&/newssocial/.test(e)?n[1]:""},e.getXiguaAppVersionByUa=function(t){var e=(t||navigator.userAgent).toLowerCase().match(/videoarticle\/\s*([0-9.]*)/);return e?e[1]:""},e.isInToutiao=function(){return/NewsArticle/.test(navigator.userAgent)&&!/NewsLite/.test(navigator.userAgent)&&!/NewsSocial/.test(navigator.userAgent)},e.isInToutiaoLite=function(){return/NewsArticle/.test(navigator.userAgent)&&/NewsLite/.test(navigator.userAgent)},e.isInXigua=function(){return/VideoArticle/.test(navigator.userAgent)},e.isInToutiaoPro=function(){return/NewsSocial/.test(navigator.userAgent)&&/NewsArticle/.test(navigator.userAgent)},e.isInApp=function(){return e.isInToutiao()||e.isInToutiaoLite()||e.isInXigua()||e.isInToutiaoPro()},e.getIOSVersionByUa=function(){var t=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return t?{majorVersion:parseInt(t[1],10),minorVersion:parseInt(t[2],10),patchVersion:parseInt(t[3]||"0",10)}:{majorVersion:0,minorVersion:0,patchVersion:0}},function(t){t.ANDROID="android",t.IOS="ios",t.IPHONE="iphone",t.IPAD="ipad",t.UNKNOWN="unknown"}(r=e.EPlatform||(e.EPlatform={})),e.isPlatform=function(t){var n=e.getBrowserVersions();switch(t){case r.ANDROID:return n.android;case r.IOS:return n.ios;case r.IPAD:return n.iPad;case r.IPHONE:return n.iPhone;default:return!1}}},function(t,e,n){var r=n(19),o=n(48),i=n(15)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r,o,i,a=n(36),s=n(347),c=n(103),l=n(66),u=n(13),d=u.process,p=u.setImmediate,f=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,_=0,v={},g=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},y=function(t){g.call(t.data)};p&&f||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++_]=function(){s("function"==typeof t?t:Function(t),e)},r(_),_},f=function(t){delete v[t]},"process"==n(39)(d)?r=function(t){d.nextTick(a(g,t,1))}:m&&m.now?r=function(t){m.now(a(g,t,1))}:h?(i=(o=new h).port2,o.port1.onmessage=y,r=a(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):r="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),g.call(t)}}:function(t){setTimeout(a(g,t,1),0)}),t.exports={set:p,clear:f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(19),o=n(20),i=n(88);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},,,,,,function(t,e,n){t.exports={default:n(264),__esModule:!0}},function(t,e,n){"use strict";var r=n(83),o=n(132);n(56),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(267),n(268);var i=o(n(274));n(275);var a=o(n(279)),s=o(n(134)),c=o(n(135)),l=o(n(136)),u=o(n(137)),d=o(n(138)),p=o(n(285)),f=o(n(92)),h=r(n(0)),m=o(n(294)),_=o(n(295)),v=function(t){function e(t){var n;(0,s.default)(this,e),(n=(0,l.default)(this,(0,u.default)(e).call(this,t))).handleMouseEnter=function(t){if(t&&"mouseenter"===t.type){var e=(0,p.default)(navigator.userAgent).os;if(e.android||e.ios)return}n.pause()},n.handleMouseLeave=function(){n.props.autoplay&&n.autoplay()};var r=t.children,o=t.infinite,i=t.size;return n.count=h.Children.count(r),o&&n.count>1?(n.children=[h.cloneElement(r[n.count-1],{key:-1})].concat((0,a.default)(r),[h.cloneElement(r[0],{key:n.count+1})]),n.state={selectedIndex:0,transition:!1,translate:-i}):(n.children=r,n.state={selectedIndex:0,transition:!1,translate:0}),n}return(0,d.default)(e,t),(0,c.default)(e,[{key:"autoplay",value:function(){var t=this,e=this.props.autoplayInterval;this.autoplayTimer||(this.autoplayTimer=window.setTimeout((function(){t.next(),t.autoplayTimer=0,t.autoplay()}),e))}},{key:"pause",value:function(){clearTimeout(this.autoplayTimer),this.autoplayTimer=0}},{key:"next",value:function(){this.count>1&&this.switchTo(this.state.selectedIndex+1)}},{key:"prev",value:function(){this.count>1&&this.switchTo(this.state.selectedIndex-1)}},{key:"afterChange",value:function(t){var e=this.props.afterChange;if(e){var n=t;n<0?n=this.count-1:n>=this.count&&(n=0),e(n)}}},{key:"switchTo",value:function(t){var e=this,n=this.props,r=n.size,o=n.transitionDuration,i=n.infinite,a=n.offset;if((i||!(t>=this.count||t<0))&&!this.isSwiping){var s=+(i&&this.count>1);if(this.isSwiping=!0,t>=this.count)this.setState({selectedIndex:0,transition:!0,translate:-(t+s)*r}),this.swipeTimer=window.setTimeout((function(){e.setState({transition:!1,translate:-r}),e.isSwiping=!1,e.afterChange(t)}),o);else if(t<0)this.setState({selectedIndex:this.count-1,transition:!0,translate:-(t+s)*r}),this.swipeTimer=window.setTimeout((function(){e.setState({transition:!1,translate:-e.count*r}),e.isSwiping=!1,e.afterChange(t)}),o);else{var c=-(t+s)*r;i||a&&(t===this.count-1?c+=2*a:0!==t&&(c+=a)),this.setState({selectedIndex:t,transition:!0,translate:c}),this.swipeTimer=window.setTimeout((function(){e.isSwiping=!1,e.afterChange(t)}),o)}}}},{key:"componentDidMount",value:function(){var t=this.props.autoplay;this.count>1&&t&&this.autoplay()}},{key:"componentWillUnmount",value:function(){this.pause(),clearTimeout(this.swipeTimer)}},{key:"renderList",value:function(){var t=this,e=this.props,n=e.onTouchStart,r=e.onTouchMove,o=e.onTouchEnd,i=e.size,a=e.sizeUnit,s=e.swipeable,c=e.transitionDuration,l=e.vertical,u=this.state,d=u.transition,p=u.translate,f=h.createElement(_.default,{vertical:l,translate:p,transitionDuration:c,size:i,sizeUnit:a,transition:d},this.children);return s&&this.count>1?h.createElement(m.default,{action:l?"Y":"X",onStart:function(){return n&&n(l),l?t.curY=t.state.translate:t.curX=t.state.translate,t.handleMouseEnter(),!1},onMoveX:l?void 0:function(e){var n=e.x,o=e.X;r&&r();var a=Math.max(Math.min(t.curX-n+o,0),-i*(t.children.length-1));return t.isSwiping||t.setState({transition:!1,translate:a}),!1},onMoveY:l?function(e){var n=e.y,r=e.Y,o=Math.max(Math.min(t.curY-n+r,0),-i*(t.children.length-1));return t.isSwiping||t.setState({transition:!1,translate:o}),!1}:void 0,onEndX:l?void 0:function(e){var n=e.x,r=e.X;return o&&o(),n>r?t.next():n<r&&t.prev(),t.handleMouseLeave(),!1},onEndY:l?function(e){var n=e.y,r=e.Y;return o&&o(),n>r?t.next():n<r&&t.prev(),t.handleMouseLeave(),!1}:void 0},f):f}},{key:"render",value:function(){var t,e=this,n=this.props,r=n.children,o=n.className,a=n.dots,s=n.infinite,c=n.size,l=n.sizeUnit,u=n.vertical,d=this.props,p=d.offset,m=d.style,_=this.state.selectedIndex;s&&(p=0),m=Object.assign({},m,(0,i.default)({},u?"height":"width","".concat(c+2*p).concat(l)));return h.createElement("div",{className:(0,f.default)(o,"lego-carousel",(t={},(0,i.default)(t,"".concat("lego-carousel","-horizontal"),!u),(0,i.default)(t,"".concat("lego-carousel","-vertical"),u),t)),onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleMouseEnter,onTouchEnd:this.handleMouseLeave,onTouchCancel:this.handleMouseLeave,onMouseLeave:this.handleMouseLeave,style:m},this.renderList(),!!a&&this.count>1&&h.createElement("div",{className:"".concat("lego-carousel","-dot-list")},h.Children.map(r,(function(t,n){return h.createElement("div",{className:(0,f.default)("".concat("lego-carousel","-dot-item"),(0,i.default)({},"".concat("lego-carousel","-dot-item-selected"),n===_)),key:n,onClick:e.switchTo.bind(e,n)})}))))}}]),e}(h.Component);v.defaultProps={autoplay:!1,autoplayInterval:3e3,dots:!0,infinite:!1,offset:0,sizeUnit:"px",transitionDuration:1e3,vertical:!1};var g=v;e.default=g,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31);r.__exportStar(n(315),e),r.__exportStar(n(317),e),r.__exportStar(n(322),e),r.__exportStar(n(144),e),r.__exportStar(n(323),e),r.__exportStar(n(324),e),r.__exportStar(n(332),e),r.__exportStar(n(333),e),r.__exportStar(n(338),e),r.__exportStar(n(146),e)},function(t,e,n){t.exports=n(356)},,,,,function(t,e,n){var r=n(9),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},,,,,,,,,,,,,,,,,,,,,function(t,e){window.felog=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=performance.now(),o=window.feTemplateLastStepTime?r-window.feTemplateLastStepTime:r;"fe_template"===t?(console.log("bytedance://felog?type=fe_template&message="+e),console.log("bytedance://felog?type=fe_template_"+e+"_time&message="+o),window.feTemplateLastStepTime=performance.now()):console.log("bytedance://felog?type="+t+"&message="+e);var i=window.ttwebview&&window.ttwebview.onReportRenderMsg;try{i&&(n&&n.origin?i(t+"",e+"",""):(i(t+"_"+e,"","time_delta"),"fe_template"===t&&i(t+"_"+e+"_time",o+"","float_num")))}catch(t){console.error("logToTTWebview error:",t)}},window.felog("fe_template","start_import")},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var t=s(p);u=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,,,,function(t,e,n){(function(e){var r=n(220),o=n(120),i=n(221),a=n(222),s=n(73),c=s.isErrorEvent,l=s.isDOMError,u=s.isDOMException,d=s.isError,p=s.isObject,f=s.isPlainObject,h=s.isUndefined,m=s.isFunction,_=s.isString,v=s.isArray,g=s.isEmptyObject,y=s.each,w=s.objectMerge,b=s.truncate,E=s.objectFrozen,S=s.hasKey,x=s.joinRegExp,T=s.urlencode,O=s.uuid4,C=s.htmlTreeAsString,k=s.isSameException,N=s.isSameStacktrace,I=s.parseUrl,A=s.fill,D=s.supportsFetch,R=s.supportsReferrerPolicy,L=s.serializeKeysForMessage,P=s.serializeException,M=s.sanitize,j=n(223).wrapMethod,U="source protocol user pass host port path".split(" "),H=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function F(){return+new Date}var B="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},V=B.document,q=B.navigator;function W(t,e){return m(e)?function(n){return e(n,t)}:e}function G(){for(var t in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!h(V),this._hasNavigator=!h(q),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:B.SENTRY_RELEASE&&B.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:R()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=B.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=F(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=B.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}G.prototype={VERSION:"3.27.2",debug:!1,TraceKit:r,config:function(t,e){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!t)return n;var o=n._globalOptions;e&&y(e,(function(t,e){"tags"===t||"extra"===t||"user"===t?n._globalContext[t]=e:o[t]=e})),n.setDSN(t),o.ignoreErrors.push(/^Script error\.?$/),o.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),o.ignoreErrors=x(o.ignoreErrors),o.ignoreUrls=!!o.ignoreUrls.length&&x(o.ignoreUrls),o.whitelistUrls=!!o.whitelistUrls.length&&x(o.whitelistUrls),o.includePaths=x(o.includePaths),o.maxBreadcrumbs=Math.max(0,Math.min(o.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=o.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=w(i,a):!1!==a&&(a=i),o.autoBreadcrumbs=a;var s={tryCatch:!0},c=o.instrument;return"[object Object]"==={}.toString.call(c)?c=w(s,c):!1!==c&&(c=s),o.instrument=c,r.collectWindowErrors=!!o.collectWindowErrors,n},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(r.report.subscribe((function(){t._handleOnErrorStackInfo.apply(t,arguments)})),t._globalOptions.captureUnhandledRejections&&t._attachPromiseRejectionHandler(),t._patchFunctionToString(),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var e=this._parseDSN(t),n=e.path.lastIndexOf("/"),r=e.path.substr(1,n);this._dsn=t,this._globalKey=e.user,this._globalSecret=e.pass&&e.pass.substr(1),this._globalProject=e.path.substr(n+1),this._globalServer=this._getGlobalServer(e),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(t,e,n){return m(t)&&(n=e||[],e=t,t={}),this.wrap(t,e).apply(this,n)},wrap:function(t,e,n){var r=this;if(h(e)&&!m(t))return t;if(m(t)&&(e=t,t=void 0),!m(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(t){return e}function o(){var o=[],i=arguments.length,a=!t||t&&!1!==t.deep;for(n&&m(n)&&n.apply(this,arguments);i--;)o[i]=a?r.wrap(t,arguments[i]):arguments[i];try{return e.apply(this,o)}catch(e){throw r._ignoreNextOnError(),r.captureException(e,t),e}}for(var i in e)S(e,i)&&(o[i]=e[i]);return o.prototype=e.prototype,e.__raven_wrapper__=o,o.__raven__=!0,o.__orig__=e,o},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(t){this._logDebug("debug","Raven caught unhandled promise rejection:",t),this.captureException(t.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),B.addEventListener&&B.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return B.removeEventListener&&B.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(t,e){if(e=w({trimHeadFrames:0},e||{}),c(t)&&t.error)t=t.error;else{if(l(t)||u(t)){var n=t.name||(l(t)?"DOMError":"DOMException"),o=t.message?n+": "+t.message:n;return this.captureMessage(o,w(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}))}if(d(t))t=t;else{if(!f(t))return this.captureMessage(t,w(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}));e=this._getCaptureExceptionOptionsFromPlainObject(e,t),t=new Error(e.message)}}this._lastCapturedException=t;try{var i=r.computeStackTrace(t);this._handleStackInfo(i,e)}catch(e){if(t!==e)throw e}return this},_getCaptureExceptionOptionsFromPlainObject:function(t,e){var n=Object.keys(e).sort(),r=w(t,{message:"Non-Error exception captured with keys: "+L(n),fingerprint:[i(n)],extra:t.extra||{}});return r.extra.__serialized__=P(e),r},captureMessage:function(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){var n,o=w({message:t+=""},e=e||{});try{throw new Error(t)}catch(t){n=t}n.name=null;var i=r.computeStackTrace(n),a=v(i.stack)&&i.stack[1];a&&"Raven.captureException"===a.func&&(a=i.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||e.stacktrace||""===o.message){o.fingerprint=null==o.fingerprint?t:o.fingerprint,(e=w({trimHeadFrames:0},e)).trimHeadFrames+=1;var c=this._prepareFrames(i,e);o.stacktrace={frames:c.reverse()}}return o.fingerprint&&(o.fingerprint=v(o.fingerprint)?o.fingerprint:[o.fingerprint]),this._send(o),this}}},captureBreadcrumb:function(t){var e=w({timestamp:F()/1e3},t);if(m(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(e);if(p(n)&&!g(n))e=n;else if(!1===n)return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var e=[].slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(o(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var e=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=W(e,t),this},setBreadcrumbCallback:function(t){var e=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=W(e,t),this},setShouldSendCallback:function(t){var e=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=W(e,t),this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var t=B.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(V){if(!(t=w({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},t)).eventId)throw new a("Missing eventId");if(!t.dsn)throw new a("Missing DSN");var e=encodeURIComponent,n=[];for(var r in t)if("user"===r){var o=t.user;o.name&&n.push("name="+e(o.name)),o.email&&n.push("email="+e(o.email))}else n.push(e(r)+"="+e(t[r]));var i=this._getGlobalServer(this._parseDSN(t.dsn)),s=V.createElement("script");s.async=!0,s.src=i+"/api/embed/error-page/?"+n.join("&"),(V.head||V.body).appendChild(s)}},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout((function(){t._ignoreOnError-=1}))},_triggerEvent:function(t,e){var n,r;if(this._hasDocument){for(r in e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),V.createEvent?(n=V.createEvent("HTMLEvents")).initEvent(t,!0,!0):(n=V.createEventObject()).eventType=t,e)S(e,r)&&(n[r]=e[r]);if(V.createEvent)V.dispatchEvent(n);else try{V.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(t){}}},_breadcrumbEventHandler:function(t){var e=this;return function(n){if(e._keypressTimeout=null,e._lastCapturedEvent!==n){var r;e._lastCapturedEvent=n;try{r=C(n.target)}catch(t){r="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:r})}}},_keypressEventHandler:function(){var t=this;return function(e){var n;try{n=e.target}catch(t){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var o=t._keypressTimeout;o||t._breadcrumbEventHandler("input")(e),clearTimeout(o),t._keypressTimeout=setTimeout((function(){t._keypressTimeout=null}),1e3)}}},_captureUrlChange:function(t,e){var n=I(this._location.href),r=I(e),o=I(t);this._lastHref=e,n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),n.protocol===o.protocol&&n.host===o.host&&(t=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_patchFunctionToString:function(){var t=this;t._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?t._originalFunctionToString.apply(this.__orig__,arguments):t._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var t=this,e=t._wrappedBuiltIns;function n(e){return function(n,r){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var a=o[0];return m(a)&&(o[0]=t.wrap({mechanism:{type:"instrument",data:{function:e.name||"<anonymous>"}}},a)),e.apply?e.apply(this,o):e(o[0],o[1])}}var r=this._globalOptions.autoBreadcrumbs;function o(n){var o=B[n]&&B[n].prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(A(o,"addEventListener",(function(e){return function(o,i,a,s){try{i&&i.handleEvent&&(i.handleEvent=t.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:i&&i.name||"<anonymous>"}}},i.handleEvent))}catch(t){}var c,l,u;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(l=t._breadcrumbEventHandler("click"),u=t._keypressEventHandler(),c=function(t){if(t){var e;try{e=t.type}catch(t){return}return"click"===e?l(t):"keypress"===e?u(t):void 0}}),e.call(this,o,t.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:i&&i.name||"<anonymous>"}}},i,c),a,s)}}),e),A(o,"removeEventListener",(function(t){return function(e,n,r,o){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(t){}return t.call(this,e,n,r,o)}}),e))}A(B,"setTimeout",n,e),A(B,"setInterval",n,e),B.requestAnimationFrame&&A(B,"requestAnimationFrame",(function(e){return function(n){return e(t.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:e&&e.name||"<anonymous>"}}},n))}}),e);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<i.length;a++)o(i[a])},_instrumentBreadcrumbs:function(){var t=this,e=this._globalOptions.autoBreadcrumbs,n=t._wrappedBuiltIns;function r(e,n){e in n&&m(n[e])&&A(n,e,(function(n){return t.wrap({mechanism:{type:"instrument",data:{function:e,handler:n&&n.name||"<anonymous>"}}},n)}))}if(e.xhr&&"XMLHttpRequest"in B){var o=B.XMLHttpRequest&&B.XMLHttpRequest.prototype;A(o,"open",(function(e){return function(n,r){return _(r)&&-1===r.indexOf(t._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),e.apply(this,arguments)}}),n),A(o,"send",(function(e){return function(){var n=this;function o(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(t){}t.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var i=["onload","onerror","onprogress"],a=0;a<i.length;a++)r(i[a],n);return"onreadystatechange"in n&&m(n.onreadystatechange)?A(n,"onreadystatechange",(function(e){return t.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:e&&e.name||"<anonymous>"}}},e,o)})):n.onreadystatechange=o,e.apply(this,arguments)}}),n)}e.xhr&&D()&&A(B,"fetch",(function(e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var o,i=n[0],a="GET";if("string"==typeof i?o=i:"Request"in B&&i instanceof B.Request?(o=i.url,i.method&&(a=i.method)):o=""+i,-1!==o.indexOf(t._globalKey))return e.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:o,status_code:null};return e.apply(this,n).then((function(e){return s.status_code=e.status,t.captureBreadcrumb({type:"http",category:"fetch",data:s}),e})).catch((function(e){throw t.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),e}))}}),n),e.dom&&this._hasDocument&&(V.addEventListener?(V.addEventListener("click",t._breadcrumbEventHandler("click"),!1),V.addEventListener("keypress",t._keypressEventHandler(),!1)):V.attachEvent&&(V.attachEvent("onclick",t._breadcrumbEventHandler("click")),V.attachEvent("onkeypress",t._keypressEventHandler())));var i=B.chrome,a=!(i&&i.app&&i.app.runtime)&&B.history&&B.history.pushState&&B.history.replaceState;if(e.location&&a){var s=B.onpopstate;B.onpopstate=function(){var e=t._location.href;if(t._captureUrlChange(t._lastHref,e),s)return s.apply(this,arguments)};var c=function(e){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&t._captureUrlChange(t._lastHref,n+""),e.apply(this,arguments)}};A(B.history,"pushState",c,n),A(B.history,"replaceState",c,n)}if(e.console&&"console"in B&&console.log){var l=function(e,n){t.captureBreadcrumb({message:e,level:n.level,category:"console"})};y(["debug","info","warn","error","log"],(function(t,e){j(console,e,l)}))}},_restoreBuiltIns:function(){for(var t;this._wrappedBuiltIns.length;){var e=(t=this._wrappedBuiltIns.shift())[0],n=t[1],r=t[2];e[n]=r}},_restoreConsole:function(){for(var t in this._originalConsoleMethods)this._originalConsole[t]=this._originalConsoleMethods[t]},_drainPlugins:function(){var t=this;y(this._plugins,(function(e,n){var r=n[0],o=n[1];r.apply(t,[t].concat(o))}))},_parseDSN:function(t){var e=H.exec(t),n={},r=7;try{for(;r--;)n[U[r]]=e[r]||""}catch(e){throw new a("Invalid DSN: "+t)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function(t,e){(e=e||{}).mechanism=e.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(t,e)},_handleStackInfo:function(t,e){var n=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,n,e)},_prepareFrames:function(t,e){var n=this,r=[];if(t.stack&&t.stack.length&&(y(t.stack,(function(e,o){var i=n._normalizeFrame(o,t.url);i&&r.push(i)})),e&&e.trimHeadFrames))for(var o=0;o<e.trimHeadFrames&&o<r.length;o++)r[o].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(t,e){var n={filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return t.url||(n.filename=e),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(t,e,n,r,o,i){var a,s=(t?t+": ":"")+(e||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)&&!this._globalOptions.ignoreErrors.test(s))&&(o&&o.length?(n=o[0].filename||n,o.reverse(),a={frames:o}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var c=w({exception:{values:[{type:t,value:e,stacktrace:a}]},transaction:n},i),l=c.exception.values[0];null==l.type&&""===l.value&&(l.value="Unrecoverable error caught"),!c.exception.mechanism&&c.mechanism&&(c.exception.mechanism=c.mechanism,delete c.mechanism),c.exception.mechanism=w({type:"generic",handled:!0},c.exception.mechanism||{}),this._send(c)}},_trimPacket:function(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=b(t.message,e)),t.exception){var n=t.exception.values[0];n.value=b(n.value,e)}var r=t.request;return r&&(r.url&&(r.url=b(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=b(r.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){for(var e,n,r,o=["to","from","url"],i=0;i<t.values.length;++i)if((n=t.values[i]).hasOwnProperty("data")&&p(n.data)&&!E(n.data)){r=w({},n.data);for(var a=0;a<o.length;++a)e=o[a],r.hasOwnProperty(e)&&r[e]&&(r[e]=b(r[e],this._globalOptions.maxUrlLength));t.values[i].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&q.userAgent&&(t.headers={"User-Agent":q.userAgent}),B.location&&B.location.href&&(t.url=B.location.href),this._hasDocument&&V.referrer&&(t.headers||(t.headers={}),t.headers.Referer=V.referrer),t}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&F()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var e=this._lastData;return!(!e||t.message!==e.message||t.transaction!==e.transaction)&&(t.stacktrace||e.stacktrace?N(t.stacktrace,e.stacktrace):t.exception||e.exception?k(t.exception,e.exception):!t.fingerprint&&!e.fingerprint||Boolean(t.fingerprint&&e.fingerprint)&&JSON.stringify(t.fingerprint)===JSON.stringify(e.fingerprint))},_setBackoffState:function(t){if(!this._shouldBackoff()){var e=t.status;if(400===e||401===e||429===e){var n;try{n=D()?t.headers.get("Retry-After"):t.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(t){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=F()}}},_send:function(t){var e=this._globalOptions,n={project:this._globalProject,logger:e.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),t.trimHeadFrames&&delete t.trimHeadFrames,(t=w(n,t)).tags=w(w({},this._globalContext.tags),t.tags),t.extra=w(w({},this._globalContext.extra),t.extra),t.extra["session:duration"]=F()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this._sanitizeData(t),Object.keys(t).forEach((function(e){(null==t[e]||""===t[e]||g(t[e]))&&delete t[e]})),m(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!g(t)&&(m(e.shouldSendCallback)&&!e.shouldSendCallback(t)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",t):"number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t)))},_sanitizeData:function(t){return M(t,this._globalOptions.sanitizeKeys)},_getUuid:function(){return O()},_sendProcessedPayload:function(t,e){var n=this,r=this._globalOptions;if(this.isSetup())if(t=this._trimPacket(t),this._globalOptions.allowDuplicates||!this._isRepeatData(t)){this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var i=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:t.message,event_id:t.event_id,level:t.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:o,data:t,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:t,src:a}),e&&e()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:t,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),e&&e(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",t)},_makeRequest:function(t){var e=t.url+"?"+T(t.auth),n=null,r={};if(t.options.headers&&(n=this._evaluateHash(t.options.headers)),t.options.fetchParameters&&(r=this._evaluateHash(t.options.fetchParameters)),D()){r.body=o(t.data);var i=w({},this._fetchDefaults),a=w(i,r);return n&&(a.headers=n),B.fetch(e,a).then((function(e){if(e.ok)t.onSuccess&&t.onSuccess();else{var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError&&t.onError(n)}})).catch((function(){t.onError&&t.onError(new Error("Sentry error code: network unavailable"))}))}var s=B.XMLHttpRequest&&new B.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)t.onSuccess&&t.onSuccess();else if(t.onError){var e=new Error("Sentry error code: "+s.status);e.request=s,t.onError(e)}}:(s=new XDomainRequest,e=e.replace(/^https?:/,""),t.onSuccess&&(s.onload=t.onSuccess),t.onError&&(s.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=s,t.onError(e)})),s.open("POST",e),n&&y(n,(function(t,e){s.setRequestHeader(t,e)})),s.send(o(t.data))))},_evaluateHash:function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e[n]="function"==typeof r?r():r}return e},_logDebug:function(t){this._originalConsoleMethods[t]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,e){h(e)?delete this._globalContext[t]:this._globalContext[t]=w(this._globalContext[t]||{},e)}},G.prototype.setUser=G.prototype.setUserContext,G.prototype.setReleaseContext=G.prototype.setRelease,t.exports=G}).call(this,n(44))},function(t,e,n){(function(e){var r=n(73),o={collectWindowErrors:!0,debug:!1},i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},a=[].slice,s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function c(){return"undefined"==typeof document||null==document.location?"":document.location.href}o.report=function(){var t,e,n=[],l=null,u=null,d=null;function p(t,e){var r=null;if(!e||o.collectWindowErrors){for(var i in n)if(n.hasOwnProperty(i))try{n[i].apply(null,[t].concat(a.call(arguments,2)))}catch(t){r=t}if(r)throw r}}function f(e,n,i,a,l){var u=r.isErrorEvent(l)?l.error:l,f=r.isErrorEvent(e)?e.message:e;if(d)o.computeStackTrace.augmentStackTraceWithInitialElement(d,n,i,f),h();else if(u&&r.isError(u))p(o.computeStackTrace(u),!0);else{var m,_={url:n,line:i,column:a},v=void 0;if("[object String]"==={}.toString.call(f))(m=f.match(s))&&(v=m[1],f=m[2]);_.func="?",p({name:v,message:f,url:c(),stack:[_]},!0)}return!!t&&t.apply(this,arguments)}function h(){var t=d,e=l;l=null,d=null,u=null,p.apply(null,[t,!1].concat(e))}function m(t,e){var n=a.call(arguments,1);if(d){if(u===t)return;h()}var r=o.computeStackTrace(t);if(d=r,u=t,l=n,setTimeout((function(){u===t&&h()}),r.incomplete?2e3:0),!1!==e)throw t}return m.subscribe=function(r){!function(){if(e)return;t=i.onerror,i.onerror=f,e=!0}(),n.push(r)},m.unsubscribe=function(t){for(var e=n.length-1;e>=0;--e)n[e]===t&&n.splice(e,1)},m.uninstall=function(){!function(){if(!e)return;i.onerror=t,e=!1,t=void 0}(),n=[]},m}(),o.computeStackTrace=function(){function t(t){if(void 0!==t.stack&&t.stack){for(var e,n,r,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,s=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,u=t.stack.split("\n"),d=[],p=(/^(.*) is undefined$/.exec(t.message),0),f=u.length;p<f;++p){if(n=o.exec(u[p])){var h=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=l.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:h?null:n[2],func:n[1]||"?",args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=i.exec(u[p]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(u[p])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=s.exec(n[3]))?(n[3]=e[1],n[4]=e[2],n[5]=null):0!==p||n[5]||void 0===t.columnNumber||(d[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func="?"),r.url&&"blob:"===r.url.substr(0,5)){var m=new XMLHttpRequest;if(m.open("GET",r.url,!1),m.send(null),200===m.status){var _=m.responseText||"",v=(_=_.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(v){var g=v[1];"~"===g.charAt(0)&&(g=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+g.slice(1)),r.url=g.slice(0,-4)}}}d.push(r)}return d.length?{name:t.name,message:t.message,url:c(),stack:d}:null}}function e(t,e,n,r){var o={url:e,line:n};if(o.url&&o.line){if(t.incomplete=!1,o.func||(o.func="?"),t.stack.length>0&&t.stack[0].url===o.url){if(t.stack[0].line===o.line)return!1;if(!t.stack[0].line&&t.stack[0].func===o.func)return t.stack[0].line=o.line,!1}return t.stack.unshift(o),t.partial=!0,!0}return t.incomplete=!0,!1}function n(t,i){for(var a,s,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,u=[],d={},p=!1,f=n.caller;f&&!p;f=f.caller)if(f!==r&&f!==o.report){if(s={url:null,func:"?",line:null,column:null},f.name?s.func=f.name:(a=l.exec(f.toString()))&&(s.func=a[1]),void 0===s.func)try{s.func=a.input.substring(0,a.input.indexOf("{"))}catch(t){}d[""+f]?p=!0:d[""+f]=!0,u.push(s)}i&&u.splice(0,i);var h={name:t.name,message:t.message,url:c(),stack:u};return e(h,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),h}function r(e,r){var i=null;r=null==r?0:+r;try{if(i=t(e))return i}catch(t){if(o.debug)throw t}try{if(i=n(e,r+1))return i}catch(t){if(o.debug)throw t}return{name:e.name,message:e.message,url:c()}}return r.augmentStackTraceWithInitialElement=e,r.computeStackTraceFromStackProp=t,r}(),t.exports=o}).call(this,n(44))},function(t,e){function n(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function r(t,e,r,o,i,a){return n((s=n(n(e,t),n(o,a)))<<(c=i)|s>>>32-c,r);var s,c}function o(t,e,n,o,i,a,s){return r(e&n|~e&o,t,e,i,a,s)}function i(t,e,n,o,i,a,s){return r(e&o|n&~o,t,e,i,a,s)}function a(t,e,n,o,i,a,s){return r(e^n^o,t,e,i,a,s)}function s(t,e,n,o,i,a,s){return r(n^(e|~o),t,e,i,a,s)}function c(t,e){var r,c,l,u,d;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var p=1732584193,f=-271733879,h=-1732584194,m=271733878;for(r=0;r<t.length;r+=16)c=p,l=f,u=h,d=m,p=o(p,f,h,m,t[r],7,-680876936),m=o(m,p,f,h,t[r+1],12,-389564586),h=o(h,m,p,f,t[r+2],17,606105819),f=o(f,h,m,p,t[r+3],22,-1044525330),p=o(p,f,h,m,t[r+4],7,-176418897),m=o(m,p,f,h,t[r+5],12,1200080426),h=o(h,m,p,f,t[r+6],17,-1473231341),f=o(f,h,m,p,t[r+7],22,-45705983),p=o(p,f,h,m,t[r+8],7,1770035416),m=o(m,p,f,h,t[r+9],12,-1958414417),h=o(h,m,p,f,t[r+10],17,-42063),f=o(f,h,m,p,t[r+11],22,-1990404162),p=o(p,f,h,m,t[r+12],7,1804603682),m=o(m,p,f,h,t[r+13],12,-40341101),h=o(h,m,p,f,t[r+14],17,-1502002290),p=i(p,f=o(f,h,m,p,t[r+15],22,1236535329),h,m,t[r+1],5,-165796510),m=i(m,p,f,h,t[r+6],9,-1069501632),h=i(h,m,p,f,t[r+11],14,643717713),f=i(f,h,m,p,t[r],20,-373897302),p=i(p,f,h,m,t[r+5],5,-701558691),m=i(m,p,f,h,t[r+10],9,38016083),h=i(h,m,p,f,t[r+15],14,-660478335),f=i(f,h,m,p,t[r+4],20,-405537848),p=i(p,f,h,m,t[r+9],5,568446438),m=i(m,p,f,h,t[r+14],9,-1019803690),h=i(h,m,p,f,t[r+3],14,-187363961),f=i(f,h,m,p,t[r+8],20,1163531501),p=i(p,f,h,m,t[r+13],5,-1444681467),m=i(m,p,f,h,t[r+2],9,-51403784),h=i(h,m,p,f,t[r+7],14,1735328473),p=a(p,f=i(f,h,m,p,t[r+12],20,-1926607734),h,m,t[r+5],4,-378558),m=a(m,p,f,h,t[r+8],11,-2022574463),h=a(h,m,p,f,t[r+11],16,1839030562),f=a(f,h,m,p,t[r+14],23,-35309556),p=a(p,f,h,m,t[r+1],4,-1530992060),m=a(m,p,f,h,t[r+4],11,1272893353),h=a(h,m,p,f,t[r+7],16,-155497632),f=a(f,h,m,p,t[r+10],23,-1094730640),p=a(p,f,h,m,t[r+13],4,681279174),m=a(m,p,f,h,t[r],11,-358537222),h=a(h,m,p,f,t[r+3],16,-722521979),f=a(f,h,m,p,t[r+6],23,76029189),p=a(p,f,h,m,t[r+9],4,-640364487),m=a(m,p,f,h,t[r+12],11,-421815835),h=a(h,m,p,f,t[r+15],16,530742520),p=s(p,f=a(f,h,m,p,t[r+2],23,-995338651),h,m,t[r],6,-198630844),m=s(m,p,f,h,t[r+7],10,1126891415),h=s(h,m,p,f,t[r+14],15,-1416354905),f=s(f,h,m,p,t[r+5],21,-57434055),p=s(p,f,h,m,t[r+12],6,1700485571),m=s(m,p,f,h,t[r+3],10,-1894986606),h=s(h,m,p,f,t[r+10],15,-1051523),f=s(f,h,m,p,t[r+1],21,-2054922799),p=s(p,f,h,m,t[r+8],6,1873313359),m=s(m,p,f,h,t[r+15],10,-30611744),h=s(h,m,p,f,t[r+6],15,-1560198380),f=s(f,h,m,p,t[r+13],21,1309151649),p=s(p,f,h,m,t[r+4],6,-145523070),m=s(m,p,f,h,t[r+11],10,-1120210379),h=s(h,m,p,f,t[r+2],15,718787259),f=s(f,h,m,p,t[r+9],21,-343485551),p=n(p,c),f=n(f,l),h=n(h,u),m=n(m,d);return[p,f,h,m]}function l(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function u(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function d(t){var e,n,r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}function p(t){return unescape(encodeURIComponent(t))}function f(t){return function(t){return l(c(u(t),8*t.length))}(p(t))}function h(t,e){return function(t,e){var n,r,o=u(t),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=c(o,8*t.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=c(i.concat(u(e)),512+8*e.length),l(c(a.concat(r),640))}(p(t),p(e))}t.exports=function(t,e,n){return e?n?h(e,t):d(h(e,t)):n?f(t):d(f(t))}},function(t,e){function n(t){this.name="RavenConfigError",this.message=t}n.prototype=new Error,n.prototype.constructor=n,t.exports=n},function(t,e,n){var r=n(73);t.exports={wrapMethod:function(t,e,n){var o=t[e],i=t;if(e in t){var a="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),s=r.safeJoin(t," "),c={level:a,logger:"console",extra:{arguments:t}};"assert"===e?!1===t[0]&&(s="Assertion failed: "+(r.safeJoin(t.slice(1)," ")||"console.assert"),c.extra.arguments=t.slice(1),n&&n(s,c)):n&&n(s,c),o&&Function.prototype.apply.call(o,i,t)}}}}},function(t,e,n){n(225),t.exports=n(51).Reflect.construct},function(t,e,n){var r=n(37),o=n(231),i=n(52),a=n(25),s=n(29),c=n(30),l=n(129),u=(n(28).Reflect||{}).construct,d=c((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),p=!c((function(){u((function(){}))}));r(r.S+r.F*(d||p),"Reflect",{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!d)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var c=n.prototype,f=o(s(c)?c:Object.prototype),h=Function.apply.call(t,f,e);return s(h)?h:f}})},function(t,e,n){t.exports=!n(38)&&!n(30)((function(){return 7!=Object.defineProperty(n(121)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(29);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){t.exports=n(77)("native-function-to-string",Function.toString)},function(t,e){t.exports=!1},function(t,e,n){var r=n(25),o=n(232),i=n(128),a=n(127)("IE_PROTO"),s=function(){},c=function(){var t,e=n(121)("iframe"),r=i.length;for(e.style.display="none",n(236).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(75),o=n(25),i=n(125);t.exports=n(38)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,c=0;s>c;)r.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var r=n(123),o=n(126),i=n(234)(!1),a=n(127)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~i(l,n)||l.push(n));return l}},function(t,e,n){var r=n(126),o=n(55),i=n(235);t.exports=function(t){return function(e,n,a){var s,c=r(e),l=o(c.length),u=i(a,l);if(t&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var r=n(79),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(28).document;t.exports=r&&r.documentElement},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e){
/**
@license @nocompile
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(function(){"use strict";var t=window.Document.prototype.createElement,e=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,r=window.Document.prototype.prepend,o=window.Document.prototype.append,i=window.DocumentFragment.prototype.prepend,a=window.DocumentFragment.prototype.append,s=window.Node.prototype.cloneNode,c=window.Node.prototype.appendChild,l=window.Node.prototype.insertBefore,u=window.Node.prototype.removeChild,d=window.Node.prototype.replaceChild,p=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),f=window.Element.prototype.attachShadow,h=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),m=window.Element.prototype.getAttribute,_=window.Element.prototype.setAttribute,v=window.Element.prototype.removeAttribute,g=window.Element.prototype.getAttributeNS,y=window.Element.prototype.setAttributeNS,w=window.Element.prototype.removeAttributeNS,b=window.Element.prototype.insertAdjacentElement,E=window.Element.prototype.insertAdjacentHTML,S=window.Element.prototype.prepend,x=window.Element.prototype.append,T=window.Element.prototype.before,O=window.Element.prototype.after,C=window.Element.prototype.replaceWith,k=window.Element.prototype.remove,N=window.HTMLElement,I=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),A=window.HTMLElement.prototype.insertAdjacentElement,D=window.HTMLElement.prototype.insertAdjacentHTML,R=new Set;function L(t){var e=R.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!e&&t}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(t){return R.add(t)}));var P=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function M(t){var e=t.isConnected;if(void 0!==e)return e;if(P(t))return!0;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function j(t){var e=t.children;if(e)return Array.prototype.slice.call(e);for(e=[],t=t.firstChild;t;t=t.nextSibling)t.nodeType===Node.ELEMENT_NODE&&e.push(t);return e}function U(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function H(t,e,n){t[e]=n}function F(t){var e=document;this.c=t,this.a=e,this.b=void 0,et(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function B(t){t.b&&t.b.disconnect()}function V(){var t=this;this.b=this.a=void 0,this.c=new Promise((function(e){t.b=e,t.a&&e(t.a)}))}function q(t){if(t.a)throw Error("Already resolved.");t.a=void 0,t.b&&t.b(void 0)}function W(t){this.f=new Map,this.g=new Map,this.l=new Map,this.i=!1,this.b=t,this.j=new Map,this.c=function(t){return t()},this.a=!1,this.h=[],this.m=t.f?new F(t):void 0}function G(t,e){if(!L(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(X(t,e))throw Error("A custom element with name '"+e+"' has already been defined.");if(t.i)throw Error("A custom element is already being defined.")}function z(t,e,n){var r;t.i=!0;try{var o=function(t){var e=i[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},i=n.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var a=o("connectedCallback"),s=o("disconnectedCallback"),c=o("adoptedCallback"),l=(r=o("attributeChangedCallback"))&&n.observedAttributes||[]}catch(t){throw t}finally{t.i=!1}return n={localName:e,constructorFunction:n,connectedCallback:a,disconnectedCallback:s,adoptedCallback:c,attributeChangedCallback:r,observedAttributes:l,constructionStack:[]},t.g.set(e,n),t.l.set(n.constructorFunction,n),n}function Y(t){if(!1!==t.a){t.a=!1;for(var e=[],n=t.h,r=new Map,o=0;o<n.length;o++)r.set(n[o],[]);for(et(t.b,document,{upgrade:function(n){if(void 0===n.__CE_state){var o=n.localName,i=r.get(o);i?i.push(n):t.g.has(o)&&e.push(n)}}}),o=0;o<e.length;o++)nt(t.b,e[o]);for(o=0;o<n.length;o++){for(var i=n[o],a=r.get(i),s=0;s<a.length;s++)nt(t.b,a[s]);(i=t.j.get(i))&&q(i)}n.length=0}}function X(t,e){var n=t.g.get(e);if(n)return n;if(n=t.f.get(e)){t.f.delete(e);try{return z(t,e,n())}catch(t){ot(t)}}}function J(){var t=ct&&ct.noDocumentConstructionObserver,e=ct&&ct.shadyDomFastWalk;this.b=[],this.c=[],this.a=!1,this.shadyDomFastWalk=e,this.f=!t}function K(t,e,n,r){var o=window.ShadyDOM;if(t.shadyDomFastWalk&&o&&o.inUse){if(e.nodeType===Node.ELEMENT_NODE&&n(e),e.querySelectorAll)for(t=o.nativeMethods.querySelectorAll.call(e,"*"),e=0;e<t.length;e++)n(t[e])}else!function t(e,n,r){for(var o=e;o;){if(o.nodeType===Node.ELEMENT_NODE){var i=o;n(i);var a=i.localName;if("link"===a&&"import"===i.getAttribute("rel")){if(o=i.import,void 0===r&&(r=new Set),o instanceof Node&&!r.has(o))for(r.add(o),o=o.firstChild;o;o=o.nextSibling)t(o,n,r);o=U(e,i);continue}if("template"===a){o=U(e,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)t(i,n,r)}o=o.firstChild?o.firstChild:U(e,o)}}(e,n,r)}function $(t,e){t.a&&K(t,e,(function(e){return Z(t,e)}))}function Z(t,e){if(t.a&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.b.length;n++)t.b[n](e);for(n=0;n<t.c.length;n++)t.c[n](e)}}function Q(t,e){var n=[];for(K(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state?t.connectedCallback(r):nt(t,r)}}function tt(t,e){var n=[];for(K(t,e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state&&t.disconnectedCallback(r)}}function et(t,e,n){var r=(n=void 0===n?{}:n).s,o=n.upgrade||function(e){return nt(t,e)},i=[];for(K(t,e,(function(e){if(t.a&&Z(t,e),"link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",(function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var i=new Set;r&&(r.forEach((function(t){return i.add(t)})),i.delete(n)),et(t,n,{s:i,upgrade:o})}}))}else i.push(e)}),r),e=0;e<i.length;e++)o(i[e])}function nt(t,e){try{var n=e.ownerDocument,r=n.__CE_registry,o=r&&(n.defaultView||n.__CE_isImportDocument)?X(r,e.localName):void 0;if(o&&void 0===e.__CE_state){o.constructionStack.push(e);try{try{if(new o.constructorFunction!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{o.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=o,o.attributeChangedCallback&&e.hasAttributes()){var i=o.observedAttributes;for(o=0;o<i.length;o++){var a=i[o],s=e.getAttribute(a);null!==s&&t.attributeChangedCallback(e,a,null,s,null)}}M(e)&&t.connectedCallback(e)}}catch(t){ot(t)}}function rt(n,r,o,i){var a=r.__CE_registry;if(a&&(null===i||"http://www.w3.org/1999/xhtml"===i)&&(a=X(a,o)))try{var s=new a.constructorFunction;if(void 0===s.__CE_state||void 0===s.__CE_definition)throw Error("Failed to construct '"+o+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==s.namespaceURI)throw Error("Failed to construct '"+o+"': The constructed element's namespace must be the HTML namespace.");if(s.hasAttributes())throw Error("Failed to construct '"+o+"': The constructed element must not have any attributes.");if(null!==s.firstChild)throw Error("Failed to construct '"+o+"': The constructed element must not have any children.");if(null!==s.parentNode)throw Error("Failed to construct '"+o+"': The constructed element must not have a parent node.");if(s.ownerDocument!==r)throw Error("Failed to construct '"+o+"': The constructed element's owner document is incorrect.");if(s.localName!==o)throw Error("Failed to construct '"+o+"': The constructed element's local name is incorrect.");return s}catch(a){return ot(a),r=null===i?t.call(r,o):e.call(r,i,o),Object.setPrototypeOf(r,HTMLUnknownElement.prototype),r.__CE_state=2,r.__CE_definition=void 0,Z(n,r),r}return Z(n,r=null===i?t.call(r,o):e.call(r,i,o)),r}function ot(t){var e=t.message,n=t.sourceURL||t.fileName||"",r=t.line||t.lineNumber||0,o=t.column||t.columnNumber||0,i=void 0;void 0===ErrorEvent.prototype.initErrorEvent?i=new ErrorEvent("error",{cancelable:!0,message:e,filename:n,lineno:r,colno:o,error:t}):((i=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,e,n,r),i.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===i.error&&Object.defineProperty(i,"error",{configurable:!0,enumerable:!0,get:function(){return t}}),window.dispatchEvent(i),i.defaultPrevented||console.error(t)}F.prototype.f=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||B(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,r=0;r<n.length;r++)et(this.c,n[r])},W.prototype.o=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");G(this,t),this.f.set(t,e),this.h.push(t),this.a||(this.a=!0,this.c((function(){return Y(n)})))},W.prototype.define=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");G(this,t),z(this,t,e),this.h.push(t),this.a||(this.a=!0,this.c((function(){return Y(n)})))},W.prototype.upgrade=function(t){et(this.b,t)},W.prototype.get=function(t){if(t=X(this,t))return t.constructorFunction},W.prototype.whenDefined=function(t){if(!L(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.j.get(t);if(e)return e.c;e=new V,this.j.set(t,e);var n=this.g.has(t)||this.f.has(t);return t=-1===this.h.indexOf(t),n&&t&&q(e),e.c},W.prototype.polyfillWrapFlushCallback=function(t){this.m&&B(this.m);var e=this.c;this.c=function(n){return t((function(){return e(n)}))}},window.CustomElementRegistry=W,W.prototype.define=W.prototype.define,W.prototype.upgrade=W.prototype.upgrade,W.prototype.get=W.prototype.get,W.prototype.whenDefined=W.prototype.whenDefined,W.prototype.polyfillDefineLazy=W.prototype.o,W.prototype.polyfillWrapFlushCallback=W.prototype.polyfillWrapFlushCallback,J.prototype.connectedCallback=function(t){var e=t.__CE_definition;if(e.connectedCallback)try{e.connectedCallback.call(t)}catch(t){ot(t)}},J.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;if(e.disconnectedCallback)try{e.disconnectedCallback.call(t)}catch(t){ot(t)}},J.prototype.attributeChangedCallback=function(t,e,n,r,o){var i=t.__CE_definition;if(i.attributeChangedCallback&&-1<i.observedAttributes.indexOf(e))try{i.attributeChangedCallback.call(t,e,n,r,o)}catch(t){ot(t)}};var it=new function(){};function at(t,e,n){function r(e){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&M(s)&&i.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)o.push(s);else o.push(s)}for(e.apply(this,r),r=0;r<i.length;r++)tt(t,i[r]);if(M(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&Q(t,i)}}void 0!==n.prepend&&H(e,"prepend",r(n.prepend)),void 0!==n.append&&H(e,"append",r(n.append))}function st(t){function n(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var r=this,o=void 0;if(M(this)&&(o=[],K(t,this,(function(t){t!==r&&o.push(t)}))),n.set.call(this,e),o)for(var i=0;i<o.length;i++){var a=o[i];1===a.__CE_state&&t.disconnectedCallback(a)}return this.ownerDocument.__CE_registry?et(t,this):$(t,this),e}})}function r(e,n){H(e,"insertAdjacentElement",(function(e,r){var o=M(r);return e=n.call(this,e,r),o&&tt(t,r),M(e)&&Q(t,r),e}))}function o(e,n){function r(e,n){for(var r=[];e!==n;e=e.nextSibling)r.push(e);for(n=0;n<r.length;n++)et(t,r[n])}H(e,"insertAdjacentHTML",(function(t,e){if("beforebegin"===(t=t.toLowerCase())){var o=this.previousSibling;n.call(this,t,e),r(o||this.parentNode.firstChild,this)}else if("afterbegin"===t)o=this.firstChild,n.call(this,t,e),r(this.firstChild,o);else if("beforeend"===t)o=this.lastChild,n.call(this,t,e),r(o||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");o=this.nextSibling,n.call(this,t,e),r(this.nextSibling,o)}}))}f&&H(Element.prototype,"attachShadow",(function(e){if(e=f.call(this,e),t.a&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.b.length;n++)t.b[n](e)}return this.__CE_shadowRoot=e})),h&&h.get?n(Element.prototype,h):I&&I.get?n(HTMLElement.prototype,I):function(t,e){t.a=!0,t.c.push(e)}(t,(function(t){n(t,{enumerable:!0,configurable:!0,get:function(){return s.call(this,!0).innerHTML},set:function(t){var n="template"===this.localName,r=n?this.content:this,o=e.call(document,this.namespaceURI,this.localName);for(o.innerHTML=t;0<r.childNodes.length;)u.call(r,r.childNodes[0]);for(t=n?o.content:o;0<t.childNodes.length;)c.call(r,t.childNodes[0])}})})),H(Element.prototype,"setAttribute",(function(e,n){if(1!==this.__CE_state)return _.call(this,e,n);var r=m.call(this,e);_.call(this,e,n),n=m.call(this,e),t.attributeChangedCallback(this,e,r,n,null)})),H(Element.prototype,"setAttributeNS",(function(e,n,r){if(1!==this.__CE_state)return y.call(this,e,n,r);var o=g.call(this,e,n);y.call(this,e,n,r),r=g.call(this,e,n),t.attributeChangedCallback(this,n,o,r,e)})),H(Element.prototype,"removeAttribute",(function(e){if(1!==this.__CE_state)return v.call(this,e);var n=m.call(this,e);v.call(this,e),null!==n&&t.attributeChangedCallback(this,e,n,null,null)})),H(Element.prototype,"removeAttributeNS",(function(e,n){if(1!==this.__CE_state)return w.call(this,e,n);var r=g.call(this,e,n);w.call(this,e,n);var o=g.call(this,e,n);r!==o&&t.attributeChangedCallback(this,n,r,o,e)})),A?r(HTMLElement.prototype,A):b&&r(Element.prototype,b),D?o(HTMLElement.prototype,D):E&&o(Element.prototype,E),at(t,Element.prototype,{prepend:S,append:x}),function(t){function e(e){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],a=0;a<r.length;a++){var s=r[a];if(s instanceof Element&&M(s)&&i.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)o.push(s);else o.push(s)}for(e.apply(this,r),r=0;r<i.length;r++)tt(t,i[r]);if(M(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&Q(t,i)}}var n=Element.prototype;void 0!==T&&H(n,"before",e(T)),void 0!==O&&H(n,"after",e(O)),void 0!==C&&H(n,"replaceWith",(function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var o=[],i=0;i<n.length;i++){var a=n[i];if(a instanceof Element&&M(a)&&o.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)r.push(a);else r.push(a)}for(i=M(this),C.apply(this,n),n=0;n<o.length;n++)tt(t,o[n]);if(i)for(tt(t,this),n=0;n<r.length;n++)(o=r[n])instanceof Element&&Q(t,o)})),void 0!==k&&H(n,"remove",(function(){var e=M(this);k.call(this),e&&tt(t,this)}))}(t)}var ct=window.customElements;function lt(){var e=new J;!function(e){window.HTMLElement=function(){function n(){var n=this.constructor,r=document.__CE_registry.l.get(n);if(!r)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var o=r.constructionStack;if(0===o.length)return o=t.call(document,r.localName),Object.setPrototypeOf(o,n.prototype),o.__CE_state=1,o.__CE_definition=r,Z(e,o),o;var i=o.length-1,a=o[i];if(a===it)throw Error("Failed to construct '"+r.localName+"': This element was already constructed.");return o[i]=it,Object.setPrototypeOf(a,n.prototype),Z(e,a),a}return n.prototype=N.prototype,Object.defineProperty(n.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:n}),n}()}(e),function(t){H(Document.prototype,"createElement",(function(e){return rt(t,this,e,null)})),H(Document.prototype,"importNode",(function(e,r){return e=n.call(this,e,!!r),this.__CE_registry?et(t,e):$(t,e),e})),H(Document.prototype,"createElementNS",(function(e,n){return rt(t,this,n,e)})),at(t,Document.prototype,{prepend:r,append:o})}(e),at(e,DocumentFragment.prototype,{prepend:i,append:a}),function(t){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e);else{var r=void 0;if(this.firstChild){var o=this.childNodes,i=o.length;if(0<i&&M(this)){r=Array(i);for(var a=0;a<i;a++)r[a]=o[a]}}if(n.set.call(this,e),r)for(e=0;e<r.length;e++)tt(t,r[e])}}})}H(Node.prototype,"insertBefore",(function(e,n){if(e instanceof DocumentFragment){var r=j(e);if(e=l.call(this,e,n),M(this))for(n=0;n<r.length;n++)Q(t,r[n]);return e}return r=e instanceof Element&&M(e),n=l.call(this,e,n),r&&tt(t,e),M(this)&&Q(t,e),n})),H(Node.prototype,"appendChild",(function(e){if(e instanceof DocumentFragment){var n=j(e);if(e=c.call(this,e),M(this))for(var r=0;r<n.length;r++)Q(t,n[r]);return e}return n=e instanceof Element&&M(e),r=c.call(this,e),n&&tt(t,e),M(this)&&Q(t,e),r})),H(Node.prototype,"cloneNode",(function(e){return e=s.call(this,!!e),this.ownerDocument.__CE_registry?et(t,e):$(t,e),e})),H(Node.prototype,"removeChild",(function(e){var n=e instanceof Element&&M(e),r=u.call(this,e);return n&&tt(t,e),r})),H(Node.prototype,"replaceChild",(function(e,n){if(e instanceof DocumentFragment){var r=j(e);if(e=d.call(this,e,n),M(this))for(tt(t,n),n=0;n<r.length;n++)Q(t,r[n]);return e}r=e instanceof Element&&M(e);var o=d.call(this,e,n),i=M(this);return i&&tt(t,n),r&&tt(t,e),i&&Q(t,e),o})),p&&p.get?e(Node.prototype,p):function(t,e){t.a=!0,t.b.push(e)}(t,(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=this.firstChild;e;e=e.nextSibling)e.nodeType!==Node.COMMENT_NODE&&t.push(e.textContent);return t.join("")},set:function(t){for(;this.firstChild;)u.call(this,this.firstChild);null!=t&&""!==t&&c.call(this,document.createTextNode(t))}})}))}(e),st(e),e=new W(e),document.__CE_registry=e,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:e})}ct&&!ct.forcePolyfill&&"function"==typeof ct.define&&"function"==typeof ct.get||lt(),window.__CE_installPolyfill=lt}).call(this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=navigator.userAgent,o=/Android/.test(r),i=/iPad|iPhone|iPod/.test(r),a=window.enableBDNative||window.ttGlobalConfig&&window.ttGlobalConfig.isRenderInBrowser&&window.ttGlobalConfig.isRenderInBrowser();function s(){return o}function c(){return i}function l(){return a}function u(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}function d(t){return t.replace(/\B([A-Z])/g,"-$1").toLowerCase()}function p(t){window.Promise?window.Promise.resolve().then(t):setTimeout(t,0)}var f,h=(f=[0,1],function t(e){return"number"==typeof f[e]?f[e]:f[e]=t(e-1)+t(e-2)});function m(t,e){return l()?t:e}var _=Object.freeze({isAndroid:s,isIOS:c,supportNativeView:l,camelCased:u,hyphenate:d,capitalize:function(t){return"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)},nextTick:p,fibonacci:h,platformSelect:m}),v=document.createDocumentFragment(),g={},y=1;function w(){}var b=""+Date.now();function E(t){var e=void 0;try{e=JSON.parse(t)}catch(e){return void console.warn("Unrecognized message from native: ",t)}if(e.iFrameID&&e.iFrameID!==b)for(var n=document.getElementsByTagName("iframe"),r=n.length,o=0;o<r;o++){var i=n[o];i.contentWindow&&i.contentWindow.postMessage(t,"*")}else if(e.responseId){var a=g[e.responseId];if(a){var s=e,c=s.respTime,l=s.recvTime;a(Object.assign(Object.assign({},e.responseData),{respTime:c,recvTime:l})),delete g[e.responseId]}}}function S(t,e,n){n=n||w;var r="cb_"+y+++"_"+(new Date).getTime(),o={iFrameID:b,handlerName:t,data:e,callbackId:r,ts:Date.now()};g[r]=n,console.info("nc:invoke",o),s()?window.ttJSCore&&window.ttJSCore[o.handlerName](JSON.stringify(o)):window.__instantPostMessage?window.__instantPostMessage(JSON.stringify(o)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.nativeInvokeHandler&&window.webkit.messageHandlers.nativeInvokeHandler.postMessage(JSON.stringify(o))}var x=[],T=[],O=null;function C(t,e){x.push(t),T.push(e),O&&cancelAnimationFrame(O),O=requestAnimationFrame((function(){if(x.length){var t=[].concat(T);S("insertNativeTag",{data:[].concat(x)},(function(e){if(e.data.length){var n=e.recvTime,r=e.respTime;e.data.forEach((function(e,o){return t[o](Object.assign(Object.assign({},e),{recvTime:n,respTime:r}))}))}})),x.length=0,T.length=0}}))}function k(t,e){requestAnimationFrame((function(){S("insertNativeTag",{data:[t]},(function(t){if(t.data.length){var n=t.recvTime,r=t.respTime;t.data.forEach((function(t){return e(Object.assign(Object.assign({},t),{recvTime:n,respTime:r}))}))}}))}))}window.NativeComponentsBridge=window.NativeComponentsBridge||{invoke:S,_handleMessageFromObjC:E},window.addEventListener("message",(function(t){return E(t.data)})),window.onBDNativeEvent=function(t,e){console.info("nc:event",e),v.dispatchEvent(new CustomEvent(t,{detail:e}))},S("deleteAllNativeTag",{});var N=Object.freeze({invoke:S,invokeInsertNativeTag:C,invokeInsertNativeTagSingle:k}),I=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},A=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),D=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},R=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},L=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};function P(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(P.prototype,HTMLElement.prototype),Object.setPrototypeOf(P,HTMLElement);var M,j=function(t){function e(){I(this,e);var t=L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.cachedAttributes=[],t}return R(e,t),A(e,[{key:"getProperty",value:function(t){var e=this.constructor.properties;return"function"==typeof e[t]?e[t](this):this.getAttribute(t)}}],[{key:"properties",get:function(){return{}}}]),e}(P);!function(t){t[t.Inited=0]="Inited",t[t.Insert=1]="Insert",t[t.Inserted=2]="Inserted",t[t.InsertError=3]="InsertError"}(M||(M={}));var U,H=(U=Date.now()%1e6,function(){return++U}),F=function(t){function e(){I(this,e);var t=L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t._id=H(),t.isInserted=!1,t.state=M.Inited,t.type=t.tagName.toLowerCase(),t.cachedStyleProperties={},t.counter=0,t.nativeTagActionListener=function(e){var n=e.detail,r=n.action;n.id===t._id&&t.dispatchEvent(new CustomEvent(r,{detail:e.detail}))},t}return R(e,t),A(e,[{key:"updateStyleProperties",value:function(){var t=getComputedStyle(this);return this.cachedStyleProperties={borderRadius:t.borderRadius,objectFit:t.objectFit||"fill",backgroundColor:t.backgroundColor},this.cachedStyleProperties}},{key:"insertToNative",value:function(){var t=this;this.state=M.Insert;var e=null!==this.getAttribute("single");this.updateStyleProperties();var n=Object.assign({},this.cachedStyleProperties),r=this.constructor.properties;Object.keys(r).forEach((function(e){n[e]=t.getProperty(e)}));var o=e?k:C;!function e(){o({id:t._id,type:t.type,data:n},(function(n){if(t.counter++,0===n.result)return t.isInserted=!0,t.state=M.Inserted,void t.dispatchEvent(new CustomEvent("insertsuccess",{detail:Object.assign(Object.assign({},n),{counter:t.counter})}));if(t.counter>10)return t.isInserted=!1,t.state=M.InsertError,void t.dispatchEvent(new CustomEvent("inserterror",{detail:Object.assign(Object.assign({},n),{counter:t.counter})}));var r=40*h(t.counter);setTimeout(e,r)}))}(),this.cachedAttributes=[]}},{key:"updateToNative",value:function(){var t=this;if(!(this.state<M.Inserted||this.state===M.InsertError)&&this.cachedAttributes.length){var e=!1,n={};this.cachedAttributes.forEach((function(r){if(["class","style"].indexOf(r)>-1)e=!0;else{var o=u(r);n[o]=t.getProperty(o)}})),e&&this.updateStyleProperties(),S("updateNativeTag",{data:[{id:this._id,type:this.type,data:Object.assign(Object.assign({},n),this.cachedStyleProperties)}]},(function(e){var n=e.respTime,r=e.recvTime;e.data&&e.data[0]?t.dispatchEvent(new CustomEvent("updatesuccess",{detail:Object.assign(Object.assign({},e.data[0]),{respTime:n,recvTime:r})})):t.dispatchEvent(new CustomEvent("updateerror",{detail:{respTime:n,recvTime:r}}))})),this.cachedAttributes=[]}}},{key:"deleteToNative",value:function(){var t=this;S("deleteNativeTag",{data:[{id:this._id,type:this.type}]},(function(e){var n=e.respTime,r=e.recvTime;e.data&&e.data[0]?t.dispatchEvent(new CustomEvent("deletesuccess",{detail:Object.assign(Object.assign({},e.data[0]),{respTime:n,recvTime:r})})):t.dispatchEvent(new CustomEvent("deleteerror",{detail:{respTime:n,recvTime:r}}))})),this.state=M.Inited,this.cachedAttributes=[]}},{key:"connectedCallback",value:function(){var t=this;this.buildInnerHTML(),p((function(){return t.insertToNative()})),v.addEventListener("nativeTagAction",this.nativeTagActionListener)}},{key:"disconnectedCallback",value:function(){this.isInserted=!1,this.innerHTML="",this.deleteToNative(),v.removeEventListener("nativeTagAction",this.nativeTagActionListener)}},{key:"attributeChangedCallback",value:function(t){var e=this;this.firstChild&&(this.cachedAttributes.push(t),p((function(){return e.updateToNative()})))}},{key:"buildInnerHTML",value:function(){c()?this.innerHTML=['<native-element-inner style="-webkit-overflow-scrolling:touch;overflow:scroll;width:100%;height:100%;display:block;user-select:none;">','<div style="width:100%;height:100%;"></div>','<div style="width:100%;height:'+this._id+'px;"></div>',"</native-element-inner>"].join(""):this.innerHTML='<div tt-render-in-browser="'+this._id+'" style="width:100%;height:100%;user-select:none;"></div>'}},{key:"dispatchAction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];S("dispatchAction",{data:{id:this._id,methodName:t,data:e}},n)}}],[{key:"properties",get:function(){return{}}},{key:"observedAttributes",get:function(){var t=Object.keys(this.properties).map(d);return["style","class"].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))}}]),e}(j),B=function(t){function e(){I(this,e);var t=L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.naturalWidth=0,t.naturalHeight=0,t}return R(e,t),A(e,[{key:"connectedCallback",value:function(){var t=this;D(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this),this.addEventListener("imageLoadFinish",(function(e){var n=e.detail;if(n&&n.params){var r=n.params;0===r.code?(t.naturalWidth=r.width||0,t.naturalHeight=r.height||0,t.dispatchEvent(new CustomEvent("load",{detail:n}))):t.dispatchEvent(new CustomEvent("error"))}}))}}],[{key:"properties",get:function(){return{src:function(t){return t.getAttribute("src")},dataExtra:function(t){return t.getAttribute("data-extra")}}}}]),e}(F),V=function(t){function e(){I(this,e);var t=L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t._id=0,t.isInserted=!1,t}return R(e,t),A(e,[{key:"connectedCallback",value:function(){var t=this;this.buildInnerHTML();var e=this.constructor.properties;Object.keys(e).forEach((function(e){var n=t.getProperty(e);"boolean"==typeof n?n?t.firstChild.setAttribute(e,e):t.firstChild.removeAttribute(e):t.firstChild.setAttribute(e,""+n)}))}},{key:"disconnectedCallback",value:function(){this.isInserted=!1,this.innerHTML=""}},{key:"attributeChangedCallback",value:function(t,e,n){this.firstChild&&this.firstChild.setAttribute(t,n)}},{key:"dispatchAction",value:function(){}}],[{key:"properties",get:function(){return{}}},{key:"observedAttributes",get:function(){return Object.keys(this.properties)}}]),e}(j),q=m(B,function(t){function e(){I(this,e);var t=L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.naturalWidth=0,t.naturalHeight=0,t}return R(e,t),A(e,[{key:"buildInnerHTML",value:function(){this.innerHTML='<img style="width:100%;height:100%;"></img>'}},{key:"connectedCallback",value:function(){var t=this;D(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this);var n=this.firstChild;n.addEventListener("load",(function(){t.naturalHeight=n.naturalHeight,t.naturalWidth=n.naturalWidth,t.dispatchEvent(new CustomEvent("load"))})),n.addEventListener("error",(function(){return t.dispatchEvent(new CustomEvent("error"))}))}},{key:"attributeChangedCallback",value:function(t,n,r){c()&&"src"===t&&(r=(r=(r=r.replace(/\.heic/,".jpg")).replace(/\.webp/,".jpg")).replace(/\.awebp/,".gif")),D(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,n,r)}}],[{key:"properties",get:function(){return{src:function(t){return t.getAttribute("src")||""}}}}]),e}(V)),W=m(function(t){function e(){return I(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return R(e,t),A(e,[{key:"play",value:function(){this.dispatchAction("play")}},{key:"pause",value:function(){this.dispatchAction("pause")}},{key:"stop",value:function(){this.dispatchAction("stop")}}],[{key:"properties",get:function(){return{src:function(t){return t.getAttribute("src")},vid:function(t){return t.getAttribute("vid")},vertical:function(t){return parseInt(t.getAttribute("vertical")||"0",10)},autoplay:function(t){return null!=t.getAttribute("autoplay")},controls:function(t){return null!=t.getAttribute("controls")},loop:function(t){return null!=t.getAttribute("loop")},muted:function(t){return null!=t.getAttribute("muted")},poster:function(t){return t.getAttribute("poster")||""},initialTime:function(t){var e=t.getAttribute("initial-time");return null==e?0:parseInt(e,10)}}}}]),e}(F),function(t){function e(){I(this,e);var t=L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.initiaTime=0,t}return R(e,t),A(e,[{key:"buildInnerHTML",value:function(){this.innerHTML='<video style="width:100%;height:100%;"></video>'}},{key:"connectedCallback",value:function(){var t=this;D(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this);var n=this.video=this.firstChild;this.initiaTime&&(n.currentTime=this.initiaTime),n.addEventListener("canplay",(function(e){return t.dispatchEvent(new CustomEvent("canplay"))})),n.addEventListener("loadeddata",(function(e){return t.dispatchEvent(new CustomEvent("loadeddata"))})),n.addEventListener("loadstart",(function(e){return t.dispatchEvent(new CustomEvent("loadstart"))})),n.addEventListener("ended",(function(e){return t.dispatchEvent(new CustomEvent("ended"))})),n.addEventListener("error",(function(e){return t.dispatchEvent(new CustomEvent("error"))})),n.addEventListener("pause",(function(e){return t.dispatchEvent(new CustomEvent("pause"))})),n.addEventListener("play",(function(e){return t.dispatchEvent(new CustomEvent("play"))})),n.addEventListener("playing",(function(e){return t.dispatchEvent(new CustomEvent("playing"))})),n.addEventListener("seeked",(function(e){return t.dispatchEvent(new CustomEvent("seeked"))})),n.addEventListener("seeking",(function(e){return t.dispatchEvent(new CustomEvent("seeking"))}))}},{key:"play",value:function(){return this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"stop",value:function(){this.video.pause(),this.video.currentTime=0}}],[{key:"properties",get:function(){return{src:function(t){return t.getAttribute("src")},vid:function(t){return t.getAttribute("vid")},vertical:function(t){return null!=t.getAttribute("vertical")},autoplay:function(t){return null!=t.getAttribute("autoplay")},controls:function(t){return null!=t.getAttribute("controls")},loop:function(t){return null!=t.getAttribute("loop")},muted:function(t){return null!=t.getAttribute("muted")},poster:function(t){return t.getAttribute("poster")||""},initialTime:function(t){var e=t.getAttribute("initial-time");return null==e?0:parseInt(e,10)}}}}]),e}(V));e.NativeElement=F,e.NativeImage=q,e.NativeVideo=W,e.WebElement=V,e.event=v,e.jsbridge=N,e.utils=_},function(t,e){var n=document.body,r=document.createElement("div");r.id="empty",n.appendChild(r)},,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){n(265),t.exports=n(9).Object.entries},function(t,e,n){var r=n(12),o=n(266)(!0);r(r.S,"Object",{entries:function(t){return o(t)}})},function(t,e,n){var r=n(16),o=n(34),i=n(23),a=n(42).f;t.exports=function(t){return function(e){for(var n,s=i(e),c=o(s),l=c.length,u=0,d=[];l>u;)n=c[u++],r&&!a.call(s,n)||d.push(t?[n,s[n]]:s[n]);return d}}},function(t,e,n){var r=n(37);r(r.P,"Function",{bind:n(129)})},function(t,e,n){"use strict";var r=n(37),o=n(269)(1);r(r.P+r.F*!n(273)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var r=n(124),o=n(78),i=n(133),a=n(55),s=n(270);t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,d=6==t,p=5==t||d,f=e||s;return function(e,s,h){for(var m,_,v=i(e),g=o(v),y=r(s,h,3),w=a(g.length),b=0,E=n?f(e,w):c?f(e,0):void 0;w>b;b++)if((p||b in g)&&(_=y(m=g[b],b,v),t))if(n)E[b]=_;else if(_)switch(t){case 3:return!0;case 5:return m;case 6:return b;case 2:E.push(m)}else if(u)return!1;return d?-1:l||u?u:E}}},function(t,e,n){var r=n(271);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(29),o=n(272),i=n(45)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(53);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r=n(30);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(37);r(r.S+r.F,"Object",{assign:n(276)})},function(t,e,n){"use strict";var r=n(38),o=n(125),i=n(277),a=n(278),s=n(133),c=n(78),l=Object.assign;t.exports=!l||n(30)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=s(t),l=arguments.length,u=1,d=i.f,p=a.f;l>u;)for(var f,h=c(arguments[u++]),m=d?o(h).concat(d(h)):o(h),_=m.length,v=0;_>v;)f=m[v++],r&&!p.call(h,f)||(n[f]=h[f]);return n}:l},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(280),o=n(281),i=n(282);t.exports=function(t){return r(t)||o(t)||i()}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){"use strict";n(56),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(286),n(293);var r=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n={},r={};return(t=(e=e.toLowerCase()).match(/android;?[\s/]+([\d.]+)?/))?(n.android=!0,t[1]&&(n.version=t[1])):((t=e.match(/ipod(?:.*os\s([\d_]+))?/))?(n.ipod=!0,t[1]&&(n.version=t[1].split("_").join("."))):(t=e.match(/ipad.*os\s([\d_]+)/))?(n.ipad=!0,n.version=t[1].split("_").join(".")):(t=e.match(/iphone\sos\s([\d_]+)/))&&(n.iphone=!0,n.version=t[1].split("_").join(".")),n.ios=n.ipad||n.iphone||n.ipod),(t=e.match(/micromessenger[\s/]+([\d.]+)/))?(r.weixin=!0,r.version=t[1]):(t=e.match(/\sqq[\s/]+([\d.]+)/))?(r.qq=!0,r.version=t[1]):(t=e.match(/weibo[\s_]+([\d.]+)/))&&(r.weibo=!0,r.version=t[1]),{browser:r,os:n}};e.default=r,t.exports=e.default},function(t,e,n){"use strict";var r=n(287),o=n(25),i=n(288),a=n(139),s=n(55),c=n(140),l=n(84),u=n(30),d=Math.min,p=[].push,f=!u((function(){RegExp(4294967295,"y")}));n(141)("split",2,(function(t,e,n,u){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var o=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(o,t,e);for(var i,a,s,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,f=void 0===e?4294967295:e>>>0,h=new RegExp(t.source,u+"g");(i=l.call(h,o))&&!((a=h.lastIndex)>d&&(c.push(o.slice(d,i.index)),i.length>1&&i.index<o.length&&p.apply(c,i.slice(1)),s=i[0].length,d=a,c.length>=f));)h.lastIndex===i.index&&h.lastIndex++;return d===o.length?!s&&h.test("")||c.push(""):c.push(o.slice(d)),c.length>f?c.slice(0,f):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var o=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):h.call(String(o),n,r)},function(t,e){var r=u(h,t,this,e,h!==n);if(r.done)return r.value;var l=o(t),p=String(this),m=i(l,RegExp),_=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(f?"y":"g"),g=new m(f?l:"^(?:"+l.source+")",v),y=void 0===e?4294967295:e>>>0;if(0===y)return[];if(0===p.length)return null===c(g,p)?[p]:[];for(var w=0,b=0,E=[];b<p.length;){g.lastIndex=f?b:0;var S,x=c(g,f?p:p.slice(b));if(null===x||(S=d(s(g.lastIndex+(f?0:b)),p.length))===w)b=a(p,b,_);else{if(E.push(p.slice(w,b)),E.length===y)return E;for(var T=1;T<=x.length-1;T++)if(E.push(x[T]),E.length===y)return E;b=w=S}}return E.push(p.slice(w)),E}]}))},function(t,e,n){var r=n(29),o=n(53),i=n(45)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(25),o=n(52),i=n(45)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r=n(79),o=n(54);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),c=r(n),l=s.length;return c<0||c>=l?t?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):i:t?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(t,e,n){var r=n(53),o=n(45)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";var r=n(25);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(84);n(37)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){"use strict";var r=n(25),o=n(55),i=n(139),a=n(140);n(141)("match",1,(function(t,e,n,s){return[function(n){var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var c=r(t),l=String(this);if(!c.global)return a(c,l);var u=c.unicode;c.lastIndex=0;for(var d,p=[],f=0;null!==(d=a(c,l));){var h=String(d[0]);p[f]=h,""===h&&(c.lastIndex=i(l,o(c.lastIndex),u)),f++}return 0===f?null:p}]}))},function(t,e,n){"use strict";var r=n(83),o=n(132);n(56),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(134)),a=o(n(135)),s=o(n(136)),c=o(n(137)),l=o(n(138)),u=r(n(0)),d=function(t){var e=t.touches[0];return e?{x:e.screenX,y:e.screenY}:{x:0,y:0}},p=function(t){function e(){var t;return(0,i.default)(this,e),(t=(0,s.default)(this,(0,c.default)(e).apply(this,arguments))).x=0,t.y=0,t.isSwipeX=!1,t.isSwipeY=!1,t.moveX=!1,t.moveY=!1,t.touchstartHandler=function(e){var n=d(e),r=n.x,o=n.y;if(t.currentTouches++,!(t.currentTouches>1)){var i=t.props,a=i.action,s=i.onStart;t.x=r,t.y=o,t.isSwipeX=!1,t.isSwipeY=!1,t.moveX=!0,t.moveY=!0,s&&s({x:r,y:o})&&("X"===a?t.moveX=!1:t.moveY=!1),window.__isTouchMove__=!1}},t.touchmoveHandler=function(e){if(!(t.currentTouches>1)){var n=d(e),r=n.x,o=n.y,i=t.props,a=i.onMoveX,s=i.onMoveY;if(window.__isTouchMove__=!1,t.isSwipeX||t.isSwipeY||(Math.abs(t.y-o)>5?(t.isSwipeY=!0,t.action=t.y-o>0?"up":"down"):Math.abs(t.x-r)>5&&(t.isSwipeX=!0,t.action=t.x-r>0?"left":"right")),t.isSwipeX&&!t.isSwipeY){if(t.endX=r,a&&a({X:r,action:t.action,moveX:t.moveX,x:t.x})&&(t.moveX=!1),t.moveX)return!1}else if(!t.isSwipeX&&t.isSwipeY&&(t.endY=o,s&&s({Y:o,action:t.action,moveY:t.moveY,y:t.y})&&(t.moveY=!1),t.moveY))return!1}},t.touchendHandler=function(){var e=t.props,n=e.onEndX,r=e.onEndY;t.currentTouches--,t.currentTouches>0||(t.currentTouches<0?t.currentTouches=0:t.moveX&&t.isSwipeX&&!t.isSwipeY?n&&n({X:t.endX,action:t.action,moveX:t.moveX,x:t.x}):t.moveY&&!t.isSwipeX&&t.isSwipeY&&r&&r({Y:t.endY,action:t.action,moveY:t.moveY,y:t.y}))},t}return(0,l.default)(e,t),(0,a.default)(e,[{key:"componentDidMount",value:function(){this.currentTouches=0,this.target&&(this.target.addEventListener("touchstart",this.touchstartHandler),this.target.addEventListener("touchmove",this.touchmoveHandler),this.target.addEventListener("touchend",this.touchendHandler),this.target.addEventListener("touchcancel",this.touchendHandler))}},{key:"componentWillUnmount",value:function(){this.target&&(this.target.removeEventListener("touchstart",this.touchstartHandler),this.target.removeEventListener("touchmove",this.touchmoveHandler),this.target.removeEventListener("touchend",this.touchendHandler),this.target.removeEventListener("touchcancel",this.touchendHandler))}},{key:"render",value:function(){var t=this,e=this.props.children;return u.createElement("div",null,u.cloneElement(e,{targetRef:function(e){t.target=e}}))}}]),e}(u.Component);p.defaultProps={onEndX:!1,onEndY:!1,onMoveX:!1,onMoveY:!1,onStart:!1};var f=p;e.default=f,t.exports=e.default},function(t,e,n){"use strict";var r=n(83);n(56),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(0)),i=function(t){var e=t.children,n=t.size,r=t.targetRef,i=t.transitionDuration,a=t.vertical,s=t.transition,c=t.translate,l=t.sizeUnit,u={};return a?(u.transform="translateY(".concat(c).concat(l,")"),u.WebkitTransform="translateY(".concat(c).concat(l,")")):(u.width="".concat(e.length*n).concat(l),u.transform="translateX(".concat(c).concat(l,")"),u.WebkitTransform="translateX(".concat(c).concat(l,")")),s&&(u.transition="".concat(i,"ms")),o.createElement("div",{className:"lego-carousel-list",ref:function(t){r&&r(t)},style:u},e)};e.default=i,t.exports=e.default},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(31).__exportStar(n(316),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.CONTENT="content",t.ITEM="item"}(e.ECommentType||(e.ECommentType={})),function(t){t.SMART_HOT="smart_hot"}(e.ECommentSort||(e.ECommentSort={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31);r.__exportStar(n(142),e),r.__exportStar(n(318),e),r.__exportStar(n(319),e),r.__exportStar(n(320),e),r.__exportStar(n(321),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatTime=function(t,e,n,r,o){var i;void 0===e&&(e=!0),void 0===n&&(n="-"),void 0===r&&(r=!0),void 0===o&&(o=!0);var a=(i="string"==typeof t?new Date(t.replace(/-/g,"/")):"number"==typeof t?new Date(1e3*t):t).getFullYear();if(isNaN(a))return"--";var s=i.getMonth()+1,c=i.getDate(),l=i.getHours(),u=i.getMinutes(),d=i.getSeconds(),p=s>9||"CN"===n?s:"0"+s,f=l>9||"CN"===n?l:"0"+l,h=c>9||"CN"===n?c:"0"+c,m=u>9?u:"0"+u,_=o?m+":"+(d>9?d:"0"+d):""+m;if("CN"===n){var v=r?a+"年":"";return e?""+v+p+"月"+h+"日 "+f+":"+_:""+v+p+"月"+h+"日"}var g=r?""+a+n:"";return e?""+g+p+n+h+" "+f+":"+_:""+g+p+n+h},e.formatDuration=function(t,e){void 0===e&&(e=!1);var n=t/60,r=Math.floor(n),o=""+r;r<10&&(o="0"+r);var i=t%60,a=Math.floor(i),s=""+a;return a<10&&(s="0"+a),e?o+"分"+s+"秒":o+":"+s},e.formatRelativeTime=function(t,n){var r;void 0===n&&(n="-"),r="string"==typeof t?new Date(t.replace(/-/g,"/")):"number"==typeof t?new Date(1e3*t):t;var o=new Date(r).getTime();if(o<=0)return"";var i=(new Date).getTime()-o,a=new Date(o).getFullYear();return i<864e5?i<6e4?"刚刚":i<36e5?Math.floor(i/6e4)+"分钟前":Math.floor(i/36e5)+"小时前":a===(new Date).getFullYear()?e.formatTime(o/1e3,!0,n,!1,!1):e.formatTime(o/1e3,!0,n,!0,!1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(142);e.formatImage=function(t,e,n,r,o,i){if(void 0===e&&(e="png"),!t)return"";if(!e)return"";if(!(n||r||o||i))return t+"~noop."+e;var a="";return n&&(a+=n),(r||o)&&(a=(a?a+"_":"")+(r&&Math.ceil(r)||0)+"x"+(o&&Math.ceil(o)||0)),i&&(a=(a?a+"_":"")+i),t+"~"+a+"."+e},e.formatMoney=function(t,e){void 0===e&&(e=2);var n=e;return e<0&&(n=0),((Number(t)||0)/100).toFixed(n)};var o="";e.parseUrlParam=function(t,e){void 0===e&&(e=o||window.location.href);var n=new RegExp("(\\?|&|#)"+t+"=([^#&]*)(#|&|$)"),r=e.match(n);return null!==r?decodeURIComponent(r[2]):null},e.setReplaceUrl=function(t){o=t},e.formatCount=function(t){if(!t)return 0;if(t<1e3)return t;if(t<1e4)return t.toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,");var e=(Math.floor(t/1e3)/10).toFixed(1).toString().split(".");return e[0]=e[0].replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,"),e[1]=e[1].replace(/0+$/,""),e.join(".").replace(/\.+$/,"")+"万"},e.sliceCount=function(t){return t?t.toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,"):t},e.isPhoneNumber=function(t){return/^(13[0-9]|14[0-9]|15[0-9]|166|17[0-9]|18[0-9]|19[8|9])\d{8}$/.test(t)},e.formatPriceUnit=function(t,n,o){void 0===n&&(n=2);var i=r.getBrowserVersions().ios?"币":"元";return o?""+Number(t)/100+i:""+e.formatMoney(t,n)+i},e.parseJsonData=function(t){var e=null;if(t&&"string"==typeof t)try{e=JSON.parse(t)}catch(t){console.log("parse error",t)}return e},e.stringifyData=function(t){if(!t)return"";if("string"!=typeof t)try{return JSON.stringify(t)}catch(t){return""}return t},e.formatLearningPrice=function(t,e){void 0===e&&(e=!0);var n=r.getBrowserVersions().ios,o=Number(t/100).toFixed(2);return e?n?o+"币":"¥"+o:""+o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildOpenUrl=function(t){var e=t.path,n=t.params,r=t.schema,o=void 0===r?"sslocal":r,i=Object.keys(n),a="";return i.length>0&&(a="?"+i.map((function(t){return t+"="+encodeURIComponent(""+n[t])})).join("&")),o+"://"+e+a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareVersions=function(t,e){for(var n=t.split("."),r=e.split("."),o=Math.max(n.length,r.length),i=0;i<o;i++){if(void 0===n[i])return-1;if(void 0===r[i])return 1;var a=Number(n[i]),s=Number(r[i]);if(a!==s)return a-s}return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31),o=n(143);e.isRequestNeedLogin=function(t){return t===o.EResponseCode.ERROR_EXPIRED||t===o.EResponseCode.ERROR_LOGIN_IN_OTHER_DEVICE||t===o.EResponseCode.ERROR_NOT_LOGIN},e.delayPromise=function(t){return new Promise((function(e){setTimeout(e,t)}))},e.retry=function(t,n,o,i){return void 0===n&&(n=1),void 0===o&&(o=1e3),void 0===i&&(i=!1),r.__awaiter(void 0,void 0,void 0,(function(){var a,s,c;return r.__generator(this,(function(r){switch(r.label){case 0:a=0,r.label=1;case 1:if(!(a<n))return[3,7];a++,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,t()];case 3:return(s=r.sent())?[2,s]:[3,5];case 4:if(c=r.sent(),i&&a===n)throw c;return[3,5];case 5:return[4,e.delayPromise(o)];case 6:return r.sent(),[3,1];case 7:return[2,!1]}}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(87),o=n(144);e.isItemFree=function(t){return"boolean"==typeof t?t:t===r.EItemFree.FREE},e.isItemHasMedia=function(t){return o.hasAudio(t)||o.hasVideo(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(145),o=n(146);e.convertCouponWayEnumToContentWayDesc=function(t){return o.couponWayDescMap[t]},e.isVipGoodsItem=function(t){return t===r.EGoodsRule.VIP_MONTH||t===r.EGoodsRule.VIP_HALF_YEAR||t===r.EGoodsRule.VIP_YEAR}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.PARAM_ERROR=1001]="PARAM_ERROR",t[t.TRANSACTION_TYPE_ERROR=1002]="TRANSACTION_TYPE_ERROR",t[t.CREATE_TRADE_ERROR=1003]="CREATE_TRADE_ERROR",t[t.TRADE_ORDER_NOT_EXIST=1004]="TRADE_ORDER_NOT_EXIST",t[t.IAP_RECEIPT_FAIL=1005]="IAP_RECEIPT_FAIL",t[t.THIRD_PARTY_PARAMS_ERROR=1006]="THIRD_PARTY_PARAMS_ERROR",t[t.THIRD_PARTY_USED=1007]="THIRD_PARTY_USED",t[t.TRADE_INFO_FAIL=1008]="TRADE_INFO_FAIL",t[t.NOT_SUFFICIENT_BALANCE=1009]="NOT_SUFFICIENT_BALANCE",t[t.REPEAT_PURCHASE=1010]="REPEAT_PURCHASE",t[t.INVALID_LIST_ERROR=1011]="INVALID_LIST_ERROR",t[t.SUCCESS=0]="SUCCESS"}(e.ETTIosPayCheckStatus||(e.ETTIosPayCheckStatus={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.DRAFT=5]="DRAFT",t[t.TO_VERIFY=10]="TO_VERIFY",t[t.PASSED=20]="PASSED",t[t.FAILED=25]="FAILED",t[t.DELETED=30]="DELETED",t[t.WAITING_TO_VERIFY=40]="WAITING_TO_VERIFY",t[t.VERIFIED_FAILED=45]="VERIFIED_FAILED",t[t.VERIFIED_PASSED=50]="VERIFIED_PASSED"}(e.EContentStatus||(e.EContentStatus={})),function(t){t[t.CASH=1]="CASH",t[t.PERCENTAGE=2]="PERCENTAGE",t[t.REACH=3]="REACH",t[t.NULL=-1]="NULL"}(e.ECouponDiscountType||(e.ECouponDiscountType={})),function(t){t.FINANCE="finance",t.HEALTH="health"}(e.ECategoryTypeTitle||(e.ECategoryTypeTitle={})),function(t){t.MENTAL_HEALTH="6658870735685026315",t.CHILD_HEALTH="6658871731886752269",t.MEDICAL="6659990922937238024",t.HEALTH_MAINTENANCE="6659990923587355143",t.NUTRITION="6595372294351094280"}(e.ECategoryLabelId||(e.ECategoryLabelId={})),function(t){t[t.NOT_RESERVED=0]="NOT_RESERVED",t[t.RESERVED=1]="RESERVED"}(e.ILiveItemReserveState||(e.ILiveItemReserveState={})),function(t){t.COMMON="0",t.SENIOR="1",t.ENTERPRISE="2"}(e.EAuthorAuthType||(e.EAuthorAuthType={})),function(t){t.COMMON="0",t.SENIOR="1",t.NoVerified="3"}(e.EUserVerified||(e.EUserVerified={})),function(t){t[t.EMPTY=0]="EMPTY",t[t.PREVIEW=1]="PREVIEW",t[t.PLAYING=2]="PLAYING",t[t.PAUSED=3]="PAUSED",t[t.FINISHED=4]="FINISHED",t[t.PLAY_BACK=5]="PLAY_BACK"}(e.ELiveBroadcastStatus||(e.ELiveBroadcastStatus={})),function(t){t[t.ORIGIN=0]="ORIGIN",t[t.TEST_A=1]="TEST_A",t[t.TEST_B=2]="TEST_B"}(e.ECashierType||(e.ECashierType={})),function(t){t[t.CATALOG=1]="CATALOG",t[t.INFO=2]="INFO"}(e.EContentDetailTabType||(e.EContentDetailTabType={})),function(t){t[t.EXPERIMENTAL_GROUP=1]="EXPERIMENTAL_GROUP",t[t.CONTRASTED_GROUP=0]="CONTRASTED_GROUP"}(e.EContentDetailAbTestVersion||(e.EContentDetailAbTestVersion={})),function(t){t[t.NOT_KNOW=-1]="NOT_KNOW",t[t.EXPERIMENTAL_GROUP=1]="EXPERIMENTAL_GROUP",t[t.CONTRASTED_GROUP=2]="CONTRASTED_GROUP"}(e.EContentBtnAbtestVersion||(e.EContentBtnAbtestVersion={})),function(t){t[t.EXPERIMENTAL_GROUP=1]="EXPERIMENTAL_GROUP",t[t.CONTRASTED_GROUP=0]="CONTRASTED_GROUP"}(e.ETTABTestVersion||(e.ETTABTestVersion={})),function(t){t[t.BIG_IMAGE=1]="BIG_IMAGE",t[t.SMALL_IMAGE_A=2]="SMALL_IMAGE_A",t[t.SMALL_IMAGE_B=3]="SMALL_IMAGE_B"}(e.EHeadABTestDisplayType||(e.EHeadABTestDisplayType={})),function(t){t[t.YEAR=1]="YEAR",t[t.MONTH=2]="MONTH",t[t.QUARTER=3]="QUARTER",t[t.FOREVER=10]="FOREVER"}(e.ECommunityPeriod||(e.ECommunityPeriod={})),function(t){t[t.CONNECTONLY=1]="CONNECTONLY",t[t.FREEGIFT=2]="FREEGIFT"}(e.EColumnAndCommunityBindType||(e.EColumnAndCommunityBindType={})),function(t){t[t.NOT_JOINED=0]="NOT_JOINED",t[t.HAS_JOINED=1]="HAS_JOINED",t[t.EXITED=2]="EXITED"}(e.ECommunityRight||(e.ECommunityRight={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.CONTENT=1]="CONTENT",t[t.ITEM_LIST=2]="ITEM_LIST",t[t.BANNER=3]="BANNER",t[t.CONTENT_CARD=4]="CONTENT_CARD",t[t.SMALL_BANNER=5]="SMALL_BANNER",t[t.UPGRADE_CONTENT_CARD=6]="UPGRADE_CONTENT_CARD",t[t.CHALLENGE=7]="CHALLENGE",t[t.MY_CHALLENGE=8]="MY_CHALLENGE",t[t.COMMON_CHALLENGE_CARD=9]="COMMON_CHALLENGE_CARD",t[t.COMMON_CONTENT_CARD=10]="COMMON_CONTENT_CARD",t[t.YOU_MAY_LIKE_CARD=11]="YOU_MAY_LIKE_CARD",t[t.BOOK_CARD=12]="BOOK_CARD",t[t.CONTENT_PLAN_B=10001]="CONTENT_PLAN_B",t[t.CHALLENGE_PLAN_B=70001]="CHALLENGE_PLAN_B"}(e.ECellType||(e.ECellType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.OLD_USER_VIP_DURATION_GIFT=1]="OLD_USER_VIP_DURATION_GIFT",t[t.HALF_YEAR_VIP_COUPON=2]="HALF_YEAR_VIP_COUPON"}(e.EPromotionType||(e.EPromotionType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.CAN_DRAW=0]="CAN_DRAW",t[t.ACTIVITY_NOT_BEGIN=1]="ACTIVITY_NOT_BEGIN",t[t.ACTIVITY_END=2]="ACTIVITY_END",t[t.EMPTY=3]="EMPTY",t[t.DRAWED=4]="DRAWED",t[t.NOT_LOGINED=5]="NOT_LOGINED",t[t.NOT_NEW=6]="NOT_NEW",t[t.NOT_VIP=7]="NOT_VIP",t[t.CAN_NOT_DRAW=8]="CAN_NOT_DRAW"}(e.EActivityCouponStatusNum||(e.EActivityCouponStatusNum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.HIDDEN=0]="HIDDEN",t[t.SHOW_PURCHASE_ALL=1]="SHOW_PURCHASE_ALL",t[t.SHOW_PURCHASE_ALL_WITH_HINT=2]="SHOW_PURCHASE_ALL_WITH_HINT"}(e.ESubjectPurchaseStatus||(e.ESubjectPurchaseStatus={})),function(t){t[t.HIDDEN=0]="HIDDEN",t[t.SHOW_BORROW_ALL=1]="SHOW_BORROW_ALL",t[t.SHOW_OPEN_VIP=2]="SHOW_OPEN_VIP"}(e.ESubjectBorrowStatus||(e.ESubjectBorrowStatus={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.WALLET=12]="WALLET",t[t.LEARNING=7]="LEARNING",t[t.COLUMN=100]="COLUMN",t[t.NOVEL=110]="NOVEL",t[t.COMMUINITY=120]="COMMUINITY",t[t.DOUYIN_MP_LEARNIG=121]="DOUYIN_MP_LEARNIG",t[t.XIGUA=122]="XIGUA",t[t.CHECKIN=123]="CHECKIN",t[t.PAY_WENDA=124]="PAY_WENDA",t[t.PAY_LIVE=125]="PAY_LIVE",t[t.COMIC=140]="COMIC",t.NULL=""}(e.EBizId||(e.EBizId={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(85);e.convertGoodsTypeStringToGoodsTypeDesc=function(t){return r.goodsTypeMap[t]},e.convertContentTypeToGoodsType=function(t){return r.contentTypeNumToGoodsTypeMap[t]},e.hasPurchased=function(t){return t===r.EUserPermType.NORMAL_BUYED||t===r.EUserPermType.VIP_BORROWED}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(334);e.cavelPriceUnit="¥",e.unitTextForIOS=function(t){return void 0===t&&(t=!1),r.isInXigua()?"西瓜糖":t?"头条币":"币"},e.formatTTPrice=function(t,n){void 0===n&&(n=!0);var o=r.getBrowserVersions().ios,i=Number((t/100).toFixed(2));return n?o?""+i+e.unitTextForIOS():""+e.cavelPriceUnit+i:""+i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(31).__exportStar(n(335),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31);r.__exportStar(n(148),e),r.__exportStar(n(336),e),r.__exportStar(n(337),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(148);e.isIOSFringeScreen=function(){return o.getBrowserVersions().iPhoneX||o.getBrowserVersions().iPhoneXSMax||o.getBrowserVersions().iPhoneXR},e.getAppVersion=function(){return o.isInToutiao()?o.getAppVersionByUa():o.isInToutiaoLite()?o.getLiteAppVersionByUa():o.isInXigua()?o.getXiguaAppVersionByUa():o.isInToutiaoPro()?o.getTTProAppVersionByUa():""},function(t){t.TOUTIAO="toutiao",t.TOUTIAO_LITE="lite",t.TOUTIAO_SOCIAL="pro",t.XIGUA="xigua",t.UNKNOWN="unknown"}(r=e.EAppName||(e.EAppName={})),function(t){t.TOUTIAO="13",t.TOUTIAO_LITE="35",t.TOUTIAO_SOCIAL="19",t.XIGUA="32",t.UNKNOWN=""}(e.EAppId||(e.EAppId={})),e.getAppName=function(){return o.isInToutiao()?r.TOUTIAO:o.isInToutiaoLite()?r.TOUTIAO_LITE:o.isInXigua()?r.XIGUA:o.isInToutiaoPro()?r.TOUTIAO_SOCIAL:r.UNKNOWN},e.getAppCNName=function(){return o.isInXigua()?"西瓜视频":o.isInToutiaoLite()?"今日头条极速版":"今日头条"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPageName=function(t){var e=t.match(/([^/]+?)\.html/);return e?(e[1]||"").replace(/-/g,"_"):""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.camelCaseToUnderscore=function(t){return t.replace(/([A-Z])/g,(function(t){return"_"+t.toLowerCase()}))},e.underscoreToCamelCase=function(t){return t.replace(/(_([a-z]))/g,(function(t){return t.toUpperCase()[1]}))},e.formatResponseData=function(t){var n=null;if("object"==typeof t&&null!==t)for(var r in n=(t.length&&t.length)>=0?[]:{},t)n["number"==typeof r?r:e.underscoreToCamelCase(r)]=e.formatResponseData(t[r]);else n=t;return n},e.formatRequestData=function(t){var n=null;if("object"==typeof t&&null!==t)for(var r in n=(t.length&&t.length)>=0?[]:{},t)n["number"==typeof r?r:e.camelCaseToUnderscore(r)]=e.formatRequestData(t[r]);else n=t;return n}},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){n(110),n(68),n(105),n(344),n(352),n(353),t.exports=n(9).Promise},function(t,e,n){"use strict";var r,o,i,a,s=n(40),c=n(13),l=n(36),u=n(116),d=n(12),p=n(20),f=n(48),h=n(345),m=n(346),_=n(149),v=n(150).set,g=n(348)(),y=n(88),w=n(151),b=n(349),E=n(152),S=c.TypeError,x=c.process,T=x&&x.versions,O=T&&T.v8||"",C=c.Promise,k="process"==u(x),N=function(){},I=o=y.f,A=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n(15)("species")]=function(t){t(N,N)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(N)instanceof e&&0!==O.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),D=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;g((function(){for(var r=t._v,o=1==t._s,i=0,a=function(e){var n,i,a,s=o?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{s?(o||(2==t._h&&M(t),t._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===e.promise?l(S("Promise-chain cycle")):(i=D(n))?i.call(n,c,l):c(n)):l(r)}catch(t){u&&!a&&u.exit(),l(t)}};n.length>i;)a(n[i++]);t._c=[],t._n=!1,e&&!t._h&&L(t)}))}},L=function(t){v.call(c,(function(){var e,n,r,o=t._v,i=P(t);if(i&&(e=w((function(){k?x.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)})),t._h=k||P(t)?2:1),t._a=void 0,i&&e.e)throw e.v}))},P=function(t){return 1!==t._h&&0===(t._a||t._c).length},M=function(t){v.call(c,(function(){var e;k?x.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},j=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},U=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=D(t))?g((function(){var r={_w:n,_d:!1};try{e.call(t,l(U,r,1),l(j,r,1))}catch(t){j.call(r,t)}})):(n._v=t,n._s=1,R(n,!1))}catch(t){j.call({_w:n,_d:!1},t)}}};A||(C=function(t){h(this,C,"Promise","_h"),f(t),r.call(this);try{t(l(U,this,1),l(j,this,1))}catch(t){j.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(350)(C.prototype,{then:function(t,e){var n=I(_(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=k?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=l(U,t,1),this.reject=l(j,t,1)},y.f=I=function(t){return t===C||t===a?new i(t):o(t)}),d(d.G+d.W+d.F*!A,{Promise:C}),n(50)(C,"Promise"),n(351)("Promise"),a=n(9).Promise,d(d.S+d.F*!A,"Promise",{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(s||!A),"Promise",{resolve:function(t){return E(s&&this===a?C:this,t)}}),d(d.S+d.F*!(A&&n(117)((function(t){C.all(t).catch(N)}))),"Promise",{all:function(t){var e=this,n=I(e),r=n.resolve,o=n.reject,i=w((function(){var n=[],i=0,a=1;m(t,!1,(function(t){var s=i++,c=!1;n.push(void 0),a++,e.resolve(t).then((function(t){c||(c=!0,n[s]=t,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=I(e),r=n.reject,o=w((function(){m(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(36),o=n(113),i=n(114),a=n(19),s=n(61),c=n(115),l={},u={};(e=t.exports=function(t,e,n,d,p){var f,h,m,_,v=p?function(){return t}:c(t),g=r(n,d,e?2:1),y=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(i(v)){for(f=s(t.length);f>y;y++)if((_=e?g(a(h=t[y])[0],h[1]):g(t[y]))===l||_===u)return _}else for(m=v.call(t);!(h=m.next()).done;)if((_=o(m,g,h.value,e))===l||_===u)return _}).BREAK=l,e.RETURN=u},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(13),o=n(150).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(39)(a);t.exports=function(){var t,e,n,l=function(){var r,o;for(c&&(r=a.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(l)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){o.call(r,l)};else{var d=!0,p=document.createTextNode("");new i(l).observe(p,{characterData:!0}),n=function(){p.data=d=!d}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var r=n(13).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(27);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},function(t,e,n){"use strict";var r=n(13),o=n(9),i=n(18),a=n(16),s=n(15)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];a&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(12),o=n(9),i=n(13),a=n(149),s=n(152);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){"use strict";var r=n(12),o=n(88),i=n(151);r(r.S,"Promise",{try:function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";n.r(e);var r,o,i=n(6),a=n.n(i),s=n(58),c=n.n(s);r=window,o=function(t){var e=function(){var e,n,r,o,i,s=[],l=s.concat,u=s.filter,d=s.slice,p=t.document,f={},h={},m={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},_=/^\s*<(\w+|!)[^>]*>/,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,y=/^(?:body|html)$/i,w=/([A-Z])/g,b=["val","css","html","text","data","width","height","offset"],E=p.createElement("table"),S=p.createElement("tr"),x={tr:p.createElement("tbody"),tbody:E,thead:E,tfoot:E,td:S,th:S,"*":p.createElement("div")},T=/complete|loaded|interactive/,O=/^[\w-]*$/,C={},k=C.toString,N={},I=p.createElement("div"),A={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},D=Array.isArray||function(t){return t instanceof Array};function R(t){return null==t?String(t):C[k.call(t)]||"object"}function L(t){return"function"==R(t)}function P(t){return null!=t&&t==t.window}function M(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function j(t){return"object"==R(t)}function U(t){return j(t)&&!P(t)&&c()(t)==Object.prototype}function H(t){var e=!!t&&"length"in t&&t.length,r=n.type(t);return"function"!=r&&!P(t)&&("array"==r||0===e||"number"==typeof e&&e>0&&e-1 in t)}function F(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function B(t){return t in h?h[t]:h[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function V(t,e){return"number"!=typeof e||m[F(t)]?e:e+"px"}function q(t){return"children"in t?d.call(t.children):n.map(t.childNodes,(function(t){if(1==t.nodeType)return t}))}function W(t,e){var n,r=t?t.length:0;for(n=0;n<r;n++)this[n]=t[n];this.length=r,this.selector=e||""}function G(t,n,r){for(e in n)r&&(U(n[e])||D(n[e]))?(U(n[e])&&!U(t[e])&&(t[e]={}),D(n[e])&&!D(t[e])&&(t[e]=[]),G(t[e],n[e],r)):void 0!==n[e]&&(t[e]=n[e])}function z(t,e){return null==e?n(t):n(t).filter(e)}function Y(t,e,n,r){return L(e)?e.call(t,n,r):e}function X(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function J(t,e){var n=t.className||"",r=n&&void 0!==n.baseVal;if(void 0===e)return r?n.baseVal:n;r?n.baseVal=e:t.className=e}function K(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?n.parseJSON(t):t):t}catch(e){return t}}function $(t,e){e(t);for(var n=0,r=t.childNodes.length;n<r;n++)$(t.childNodes[n],e)}return N.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,o=t.parentNode,i=!o;return i&&(o=I).appendChild(t),r=~N.qsa(o,e).indexOf(t),i&&I.removeChild(t),r},o=function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},i=function(t){return u.call(t,(function(e,n){return t.indexOf(e)==n}))},N.fragment=function(t,e,r){var o,i,a;return v.test(t)&&(o=n(p.createElement(RegExp.$1))),o||(t.replace&&(t=t.replace(g,"<$1></$2>")),void 0===e&&(e=_.test(t)&&RegExp.$1),e in x||(e="*"),(a=x[e]).innerHTML=""+t,o=n.each(d.call(a.childNodes),(function(){a.removeChild(this)}))),U(r)&&(i=n(o),n.each(r,(function(t,e){b.indexOf(t)>-1?i[t](e):i.attr(t,e)}))),o},N.Z=function(t,e){return new W(t,e)},N.isZ=function(t){return t instanceof N.Z},N.init=function(t,e){var r,o;if(!t)return N.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&_.test(t))r=N.fragment(t,RegExp.$1,e),t=null;else{if(void 0!==e)return n(e).find(t);r=N.qsa(p,t)}else{if(L(t))return n(p).ready(t);if(N.isZ(t))return t;if(D(t))o=t,r=u.call(o,(function(t){return null!=t}));else if(j(t))r=[t],t=null;else if(_.test(t))r=N.fragment(t.trim(),RegExp.$1,e),t=null;else{if(void 0!==e)return n(e).find(t);r=N.qsa(p,t)}}return N.Z(r,t)},(n=function(t,e){return N.init(t,e)}).extend=function(t){var e,n=d.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach((function(n){G(t,n,e)})),t},N.qsa=function(t,e){var n,r="#"==e[0],o=!r&&"."==e[0],i=r||o?e.slice(1):e,a=O.test(i);return t.getElementById&&a&&r?(n=t.getElementById(i))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:d.call(a&&!r&&t.getElementsByClassName?o?t.getElementsByClassName(i):t.getElementsByTagName(e):t.querySelectorAll(e))},n.contains=p.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},n.type=R,n.isFunction=L,n.isWindow=P,n.isArray=D,n.isPlainObject=U,n.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},n.isNumeric=function(t){var e=Number(t),n=void 0===t?"undefined":a()(t);return null!=t&&"boolean"!=n&&("string"!=n||t.length)&&!isNaN(e)&&isFinite(e)||!1},n.inArray=function(t,e,n){return s.indexOf.call(e,t,n)},n.camelCase=o,n.trim=function(t){return null==t?"":String.prototype.trim.call(t)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(t,e){var r,o,i,a,s=[];if(H(t))for(o=0;o<t.length;o++)null!=(r=e(t[o],o))&&s.push(r);else for(i in t)null!=(r=e(t[i],i))&&s.push(r);return(a=s).length>0?n.fn.concat.apply([],a):a},n.each=function(t,e){var n,r;if(H(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(r in t)if(!1===e.call(t[r],r,t[r]))return t;return t},n.grep=function(t,e){return u.call(t,e)},t.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){C["[object "+e+"]"]=e.toLowerCase()})),n.fn={constructor:N.Z,length:0,forEach:s.forEach,reduce:s.reduce,push:s.push,sort:s.sort,splice:s.splice,indexOf:s.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=N.isZ(e)?e.toArray():e;return l.apply(N.isZ(this)?this.toArray():this,n)},map:function(t){return n(n.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return n(d.apply(this,arguments))},ready:function(t){return T.test(p.readyState)&&p.body?t(n):p.addEventListener("DOMContentLoaded",(function(){t(n)}),!1),this},get:function(t){return void 0===t?d.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(t){return s.every.call(this,(function(e,n){return!1!==t.call(e,n,e)})),this},filter:function(t){return L(t)?this.not(this.not(t)):n(u.call(this,(function(e){return N.matches(e,t)})))},add:function(t,e){return n(i(this.concat(n(t,e))))},is:function(t){return this.length>0&&N.matches(this[0],t)},not:function(t){var e=[];if(L(t)&&void 0!==t.call)this.each((function(n){t.call(this,n)||e.push(this)}));else{var r="string"==typeof t?this.filter(t):H(t)&&L(t.item)?d.call(t):n(t);this.forEach((function(t){r.indexOf(t)<0&&e.push(t)}))}return n(e)},has:function(t){return this.filter((function(){return j(t)?n.contains(this,t):n(this).find(t).size()}))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!j(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!j(t)?t:n(t)},find:function(t){var e=this;return t?"object"==(void 0===t?"undefined":a()(t))?n(t).filter((function(){var t=this;return s.some.call(e,(function(e){return n.contains(e,t)}))})):1==this.length?n(N.qsa(this[0],t)):this.map((function(){return N.qsa(this,t)})):n()},closest:function(t,e){var r=[],o="object"==(void 0===t?"undefined":a()(t))&&n(t);return this.each((function(n,i){for(;i&&!(o?o.indexOf(i)>=0:N.matches(i,t));)i=i!==e&&!M(i)&&i.parentNode;i&&r.indexOf(i)<0&&r.push(i)})),n(r)},parents:function(t){for(var e=[],r=this;r.length>0;)r=n.map(r,(function(t){if((t=t.parentNode)&&!M(t)&&e.indexOf(t)<0)return e.push(t),t}));return z(e,t)},parent:function(t){return z(i(this.pluck("parentNode")),t)},children:function(t){return z(this.map((function(){return q(this)})),t)},contents:function(){return this.map((function(){return this.contentDocument||d.call(this.childNodes)}))},siblings:function(t){return z(this.map((function(t,e){return u.call(q(e.parentNode),(function(t){return t!==e}))})),t)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(t){return n.map(this,(function(e){return e[t]}))},show:function(){return this.each((function(){var t,e,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(t=this.nodeName,f[t]||(e=p.createElement(t),p.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),f[t]=n),f[t]))}))},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=L(t);if(this[0]&&!e)var r=n(t).get(0),o=r.parentNode||this.length>1;return this.each((function(i){n(this).wrapAll(e?t.call(this,i):o?r.cloneNode(!0):r)}))},wrapAll:function(t){if(this[0]){var e;for(n(this[0]).before(t=n(t));(e=t.children()).length;)t=e.first();n(t).append(this)}return this},wrapInner:function(t){var e=L(t);return this.each((function(r){var o=n(this),i=o.contents(),a=e?t.call(this,r):t;i.length?i.wrapAll(a):o.append(a)}))},unwrap:function(){return this.parent().each((function(){n(this).replaceWith(n(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(t){return this.each((function(){var e=n(this);(void 0===t?"none"==e.css("display"):t)?e.show():e.hide()}))},prev:function(t){return n(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return n(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each((function(e){var r=this.innerHTML;n(this).empty().append(Y(this,t,e,r))})):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each((function(e){var n=Y(this,t,e,this.textContent);this.textContent=null==n?"":""+n})):0 in this?this.pluck("textContent").join(""):null},attr:function(t,n){var r;return"string"!=typeof t||1 in arguments?this.each((function(r){if(1===this.nodeType)if(j(t))for(e in t)X(this,e,t[e]);else X(this,t,Y(this,n,r,this.getAttribute(t)))})):0 in this&&1==this[0].nodeType&&null!=(r=this[0].getAttribute(t))?r:void 0},removeAttr:function(t){return this.each((function(){1===this.nodeType&&t.split(" ").forEach((function(t){X(this,t)}),this)}))},prop:function(t,e){return t=A[t]||t,1 in arguments?this.each((function(n){this[t]=Y(this,e,n,this[t])})):this[0]&&this[0][t]},removeProp:function(t){return t=A[t]||t,this.each((function(){delete this[t]}))},data:function(t,e){var n="data-"+t.replace(w,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,e):this.attr(n);return null!==r?K(r):void 0},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each((function(e){this.value=Y(this,t,e,this.value)}))):this[0]&&(this[0].multiple?n(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each((function(t){var r=n(this),o=Y(this,e,t,r.offset()),i=r.offsetParent().offset(),a={top:o.top-i.top,left:o.left-i.left};"static"==r.css("position")&&(a.position="relative"),r.css(a)}));if(!this.length)return null;if(p.documentElement!==this[0]&&!n.contains(p.documentElement,this[0]))return{top:0,left:0};var r=this[0].getBoundingClientRect();return{left:r.left+t.pageXOffset,top:r.top+t.pageYOffset,width:Math.round(r.width),height:Math.round(r.height)}},css:function(t,r){if(arguments.length<2){var i=this[0];if("string"==typeof t){if(!i)return;return i.style[o(t)]||getComputedStyle(i,"").getPropertyValue(t)}if(D(t)){if(!i)return;var a={},s=getComputedStyle(i,"");return n.each(t,(function(t,e){a[e]=i.style[o(e)]||s.getPropertyValue(e)})),a}}var c="";if("string"==R(t))r||0===r?c=F(t)+":"+V(t,r):this.each((function(){this.style.removeProperty(F(t))}));else for(e in t)t[e]||0===t[e]?c+=F(e)+":"+V(e,t[e])+";":this.each((function(){this.style.removeProperty(F(e))}));return this.each((function(){this.style.cssText+=";"+c}))},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&s.some.call(this,(function(t){return this.test(J(t))}),B(t))},addClass:function(t){return t?this.each((function(e){if("className"in this){r=[];var o=J(this);Y(this,t,e,o).split(/\s+/g).forEach((function(t){n(this).hasClass(t)||r.push(t)}),this),r.length&&J(this,o+(o?" ":"")+r.join(" "))}})):this},removeClass:function(t){return this.each((function(e){if("className"in this){if(void 0===t)return J(this,"");r=J(this),Y(this,t,e,r).split(/\s+/g).forEach((function(t){r=r.replace(B(t)," ")})),J(this,r.trim())}}))},toggleClass:function(t,e){return t?this.each((function(r){var o=n(this);Y(this,t,r,J(this)).split(/\s+/g).forEach((function(t){(void 0===e?!o.hasClass(t):e)?o.addClass(t):o.removeClass(t)}))})):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return void 0===t?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return void 0===t?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),r=this.offset(),o=y.test(e[0].nodeName)?{top:0,left:0}:e.offset();return r.top-=parseFloat(n(t).css("margin-top"))||0,r.left-=parseFloat(n(t).css("margin-left"))||0,o.top+=parseFloat(n(e[0]).css("border-top-width"))||0,o.left+=parseFloat(n(e[0]).css("border-left-width"))||0,{top:r.top-o.top,left:r.left-o.left}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent||p.body;t&&!y.test(t.nodeName)&&"static"==n(t).css("position");)t=t.offsetParent;return t}))}},n.fn.detach=n.fn.remove,["width","height"].forEach((function(t){var e=t.replace(/./,(function(t){return t[0].toUpperCase()}));n.fn[t]=function(r){var o,i=this[0];return void 0===r?P(i)?i["inner"+e]:M(i)?i.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each((function(e){(i=n(this)).css(t,Y(this,r,e,i[t]()))}))}})),["after","prepend","before","append"].forEach((function(e,r){var o=r%2;n.fn[e]=function(){var e,i,a=n.map(arguments,(function(t){var r=[];return"array"==(e=R(t))?(t.forEach((function(t){return void 0!==t.nodeType?r.push(t):n.zepto.isZ(t)?r=r.concat(t.get()):void(r=r.concat(N.fragment(t)))})),r):"object"==e||null==t?t:N.fragment(t)})),s=this.length>1;return a.length<1?this:this.each((function(e,c){i=o?c:c.parentNode,c=0==r?c.nextSibling:1==r?c.firstChild:2==r?c:null;var l=n.contains(p.documentElement,i);a.forEach((function(e){if(s)e=e.cloneNode(!0);else if(!i)return n(e).remove();i.insertBefore(e,c),l&&$(e,(function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var n=e.ownerDocument?e.ownerDocument.defaultView:t;n.eval.call(n,e.innerHTML)}}))}))}))},n.fn[o?e+"To":"insert"+(r?"Before":"After")]=function(t){return n(t)[e](this),this}})),N.Z.prototype=W.prototype=n.fn,N.uniq=i,N.deserializeValue=K,n.zepto=N,n}();return t.Zepto=e,void 0===t.$&&(t.$=e),function(e){var n=1,r=Array.prototype.slice,o=e.isFunction,i=function(t){return"string"==typeof t},a={},s={},c="onfocusin"in t,l={focus:"focusin",blur:"focusout"},u={mouseenter:"mouseover",mouseleave:"mouseout"};function d(t){return t._zid||(t._zid=n++)}function p(t,e,n,r){if((e=f(e)).ns)var o=(i=e.ns,new RegExp("(?:^| )"+i.replace(" "," .* ?")+"(?: |$)"));var i;return(a[d(t)]||[]).filter((function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||o.test(t.ns))&&(!n||d(t.fn)===d(n))&&(!r||t.sel==r)}))}function f(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function h(t,e){return t.del&&!c&&t.e in l||!!e}function m(t){return u[t]||c&&l[t]||t}function _(t,n,r,o,i,s,c){var l=d(t),p=a[l]||(a[l]=[]);n.split(/\s/).forEach((function(n){if("ready"==n)return e(document).ready(r);var a=f(n);a.fn=r,a.sel=i,a.e in u&&(r=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return a.fn.apply(this,arguments)}),a.del=s;var l=s||r;a.proxy=function(e){if(!(e=E(e)).isImmediatePropagationStopped()){e.data=o;var n=l.apply(t,null==e._args?[e]:[e].concat(e._args));return!1===n&&(e.preventDefault(),e.stopPropagation()),n}},a.i=p.length,p.push(a),"addEventListener"in t&&t.addEventListener(m(a.e),a.proxy,h(a,c))}))}function v(t,e,n,r,o){var i=d(t);(e||"").split(/\s/).forEach((function(e){p(t,e,n,r).forEach((function(e){delete a[i][e.i],"removeEventListener"in t&&t.removeEventListener(m(e.e),e.proxy,h(e,o))}))}))}s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",e.event={add:_,remove:v},e.proxy=function(t,n){var a=2 in arguments&&r.call(arguments,2);if(o(t)){var s=function(){return t.apply(n,a?a.concat(r.call(arguments)):arguments)};return s._zid=d(t),s}if(i(n))return a?(a.unshift(t[n],t),e.proxy.apply(null,a)):e.proxy(t[n],t);throw new TypeError("expected function")},e.fn.bind=function(t,e,n){return this.on(t,e,n)},e.fn.unbind=function(t,e){return this.off(t,e)},e.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var g=function(){return!0},y=function(){return!1},w=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,b={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function E(t,n){if(n||!t.isDefaultPrevented){n||(n=t),e.each(b,(function(e,r){var o=n[e];t[e]=function(){return this[r]=g,o&&o.apply(n,arguments)},t[r]=y}));try{t.timeStamp||(t.timeStamp=Date.now())}catch(t){}(void 0!==n.defaultPrevented?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=g)}return t}function S(t){var e,n={originalEvent:t};for(e in t)w.test(e)||void 0===t[e]||(n[e]=t[e]);return E(n,t)}e.fn.delegate=function(t,e,n){return this.on(e,t,n)},e.fn.undelegate=function(t,e,n){return this.off(e,t,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,a,s,c){var l,u,d=this;return t&&!i(t)?(e.each(t,(function(t,e){d.on(t,n,a,e,c)})),d):(i(n)||o(s)||!1===s||(s=a,a=n,n=void 0),void 0!==s&&!1!==a||(s=a,a=void 0),!1===s&&(s=y),d.each((function(o,i){c&&(l=function(t){return v(i,t.type,s),s.apply(this,arguments)}),n&&(u=function(t){var o,a=e(t.target).closest(n,i).get(0);if(a&&a!==i)return o=e.extend(S(t),{currentTarget:a,liveFired:i}),(l||s).apply(a,[o].concat(r.call(arguments,1)))}),_(i,t,s,a,n,u||l)})))},e.fn.off=function(t,n,r){var a=this;return t&&!i(t)?(e.each(t,(function(t,e){a.off(t,n,e)})),a):(i(n)||o(r)||!1===r||(r=n,n=void 0),!1===r&&(r=y),a.each((function(){v(this,t,r,n)})))},e.fn.trigger=function(t,n){return(t=i(t)||e.isPlainObject(t)?e.Event(t):E(t))._args=n,this.each((function(){t.type in l&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)}))},e.fn.triggerHandler=function(t,n){var r,o;return this.each((function(a,s){(r=S(i(t)?e.Event(t):t))._args=n,r.target=s,e.each(p(s,t.type||t),(function(t,e){if(o=e.proxy(r),r.isImmediatePropagationStopped())return!1}))})),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}})),e.Event=function(t,e){i(t)||(t=(e=t).type);var n=document.createEvent(s[t]||"Events"),r=!0;if(e)for(var o in e)"bubbles"==o?r=!!e[o]:n[o]=e[o];return n.initEvent(t,r,!0),E(n)}}(e),function(e){var n,r,o=+new Date,i=t.document,a=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,c=/^(?:text|application)\/xml/i,l=/^\s*$/,u=i.createElement("a");function d(t,n,r,o){if(t.global)return function(t,n,r){var o=e.Event(n);return e(t).trigger(o,r),!o.isDefaultPrevented()}(n||i,r,o)}function p(t,e){var n=e.context;if(!1===e.beforeSend.call(n,t,e)||!1===d(e,n,"ajaxBeforeSend",[t,e]))return!1;d(e,n,"ajaxSend",[t,e])}function f(t,e,n,r){var o=n.context;n.success.call(o,t,"success",e),r&&r.resolveWith(o,[t,"success",e]),d(n,o,"ajaxSuccess",[e,n,t]),m("success",e,n)}function h(t,e,n,r,o){var i=r.context;r.error.call(i,n,e,t),o&&o.rejectWith(i,[n,e,t]),d(r,i,"ajaxError",[n,r,t||e]),m(e,n,r)}function m(t,n,r){var o=r.context;r.complete.call(o,n,t),d(r,o,"ajaxComplete",[n,r]),function(t){t.global&&!--e.active&&d(t,null,"ajaxStop")}(r)}function _(){}function v(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function g(t,n,r,o){return e.isFunction(n)&&(o=r,r=n,n=void 0),e.isFunction(r)||(o=r,r=void 0),{url:t,data:n,success:r,dataType:o}}u.href=t.location.href,e.active=0,e.ajaxJSONP=function(n,r){if(!("type"in n))return e.ajax(n);var a,s,c=n.jsonpCallback,l=(e.isFunction(c)?c():c)||"Zepto"+o++,u=i.createElement("script"),d=t[l],m=function(t){e(u).triggerHandler("error",t||"abort")},_={abort:m};return r&&r.promise(_),e(u).on("load error",(function(o,i){clearTimeout(s),e(u).off().remove(),"error"!=o.type&&a?f(a[0],_,n,r):h(null,i||"error",_,n,r),t[l]=d,a&&e.isFunction(d)&&d(a[0]),d=a=void 0})),!1===p(_,n)?(m("abort"),_):(t[l]=function(){a=arguments},u.src=n.url.replace(/\?(.+)=\?/,"?$1="+l),i.head.appendChild(u),n.timeout>0&&(s=setTimeout((function(){m("timeout")}),n.timeout)),_)},e.ajaxSettings={type:"GET",beforeSend:_,success:_,error:_,complete:_,context:null,global:!0,xhr:function(){return new t.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:_},e.ajax=function(o){var a,m,g=e.extend({},o||{}),y=e.Deferred&&e.Deferred();for(n in e.ajaxSettings)void 0===g[n]&&(g[n]=e.ajaxSettings[n]);!function(t){t.global&&0==e.active++&&d(t,null,"ajaxStart")}(g),g.crossDomain||((a=i.createElement("a")).href=g.url,a.href=a.href,g.crossDomain=u.protocol+"//"+u.host!=a.protocol+"//"+a.host),g.url||(g.url=t.location.toString()),(m=g.url.indexOf("#"))>-1&&(g.url=g.url.slice(0,m)),function(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()&&"jsonp"!=t.dataType||(t.url=v(t.url,t.data),t.data=void 0)}(g);var w=g.dataType,b=/\?.+=\?/.test(g.url);if(b&&(w="jsonp"),!1!==g.cache&&(o&&!0===o.cache||"script"!=w&&"jsonp"!=w)||(g.url=v(g.url,"_="+Date.now())),"jsonp"==w)return b||(g.url=v(g.url,g.jsonp?g.jsonp+"=?":!1===g.jsonp?"":"callback=?")),e.ajaxJSONP(g,y);var E,S=g.accepts[w],x={},T=function(t,e){x[t.toLowerCase()]=[t,e]},O=/^([\w-]+:)\/\//.test(g.url)?RegExp.$1:t.location.protocol,C=g.xhr(),k=C.setRequestHeader;if(y&&y.promise(C),g.crossDomain||T("X-Requested-With","XMLHttpRequest"),T("Accept",S||"*/*"),(S=g.mimeType||S)&&(S.indexOf(",")>-1&&(S=S.split(",",2)[0]),C.overrideMimeType&&C.overrideMimeType(S)),(g.contentType||!1!==g.contentType&&g.data&&"GET"!=g.type.toUpperCase())&&T("Content-Type",g.contentType||"application/x-www-form-urlencoded"),g.headers)for(r in g.headers)T(r,g.headers[r]);if(C.setRequestHeader=T,C.onreadystatechange=function(){if(4==C.readyState){C.onreadystatechange=_,clearTimeout(E);var t,n=!1;if(C.status>=200&&C.status<300||304==C.status||0==C.status&&"file:"==O){if(w=w||function(t){return t&&(t=t.split(";",2)[0]),t&&("text/html"==t?"html":"application/json"==t?"json":s.test(t)?"script":c.test(t)&&"xml")||"text"}(g.mimeType||C.getResponseHeader("content-type")),"arraybuffer"==C.responseType||"blob"==C.responseType)t=C.response;else{t=C.responseText;try{t=function(t,e,n){if(n.dataFilter==_)return t;var r=n.context;return n.dataFilter.call(r,t,e)}(t,w,g),"script"==w?(0,eval)(t):"xml"==w?t=C.responseXML:"json"==w&&(t=l.test(t)?null:e.parseJSON(t))}catch(t){n=t}if(n)return h(n,"parsererror",C,g,y)}f(t,C,g,y)}else h(C.statusText||null,C.status?"error":"abort",C,g,y)}},!1===p(C,g))return C.abort(),h(null,"abort",C,g,y),C;var N=!("async"in g)||g.async;if(C.open(g.type,g.url,N,g.username,g.password),g.xhrFields)for(r in g.xhrFields)C[r]=g.xhrFields[r];for(r in x)k.apply(C,x[r]);return g.timeout>0&&(E=setTimeout((function(){C.onreadystatechange=_,C.abort(),h(null,"timeout",C,g,y)}),g.timeout)),C.send(g.data?g.data:null),C},e.get=function(){return e.ajax(g.apply(null,arguments))},e.post=function(){var t=g.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=g.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var o,i=this,s=t.split(/\s/),c=g(t,n,r),l=c.success;return s.length>1&&(c.url=s[0],o=s[1]),c.success=function(t){i.html(o?e("<div>").html(t.replace(a,"")).find(o):t),l&&l.apply(i,arguments)},e.ajax(c),this};var y=encodeURIComponent;e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(y(t)+"="+y(n))},function t(n,r,o,i){var a,s=e.isArray(r),c=e.isPlainObject(r);e.each(r,(function(r,l){a=e.type(l),i&&(r=o?i:i+"["+(c||"object"==a||"array"==a?r:"")+"]"),!i&&s?n.add(l.name,l.value):"array"==a||!o&&"object"==a?t(n,l,o,r):n.add(r,l)}))}(r,t,n),r.join("&").replace(/%20/g,"+")}}(e),function(t){t.fn.serializeArray=function(){var e,n,r=[];return this[0]&&t.each(this[0].elements,(function(o,i){n=i.type,(e=i.name)&&"fieldset"!=i.nodeName.toLowerCase()&&!i.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||i.checked)&&function t(n){if(n.forEach)return n.forEach(t);r.push({name:e,value:n})}(t(i).val())})),r},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach((function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))})),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(e),function(){try{getComputedStyle(void 0)}catch(n){var e=getComputedStyle;t.getComputedStyle=function(t,n){try{return e(t,n)}catch(t){return null}}}}(),e},"function"==typeof define&&n(118)?define((function(){return o(r)})):o(r)},,function(t,e,n){"use strict";n.r(e);var r=n(14),o=n.n(r),i=n(8),a=n.n(i),s=n(7),c=n.n(s),l=n(2),u=n.n(l),d=n(3),p=n.n(d),f=n(4),h=n.n(f),m=(n(187),n(111),n(17)),_=n.n(m),v=n(0),g=n.n(v),y=n(10),w=n.n(y),b=n(11),E=n.n(b),S=(n(224),n(238),n(22)),x=(n(240),{empty:function(){x={}}});x.appVersion=window.APP_VERSION,x.system="iphone";var T=[],O="v55"===window.APP_VERSION&&!0,C=console.info;O&&(console.info=function(){T.push(arguments),C.apply(console,arguments)},x.init=!0),x.showConsoleInfo=function(){console.info=C,T.forEach((function(t,e){console.info.apply(console,t)})),T=[]},window.G=x;var k=x,N=n(6),I=n.n(N),A=function(t){var e={},n=[];return{getState:function(){return e},dispatch:function(r){e=t(e,r),n.forEach((function(t){return t()}))},subscribe:function(t){return n.push(t),function(){n=[],e={}}}}}((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if("object"===(void 0===e?"undefined":I()(e))){var n=e.type,r=e.data;t[n]=r}return t})),D=function(){return{width:document.body.offsetWidth||window.innerWidth,height:window.innerHeight}},R=function(t,e){var n=t.querySelectorAll(e);return n=Array.prototype.slice.call(n)},L=function(t,e){var n,r=[],o="?";for(n in e)e.hasOwnProperty(n)&&r.push(n+"="+encodeURIComponent(e[n]));return-1!==t.indexOf("?")&&(o="&"),[t,o,r.join("&")].join("")},P=(Array.prototype.slice,function(t,e,n){for(var r=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(r.call(t,e))return t;if(n)return null;t=t.parentElement}return null}),M=n(1),j=n(5),U=n.n(j),H={},F=[],B=[],V=[],q={},W="undefined"!=typeof document&&(document.documentElement.clientHeight||document.body.clientHeight);function z(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=!1,o=0;o<e.length;o++){r=!1;for(var i=0;i<t.length;i++)if(e[o].imp_item_id===t[i].imp_item_id){r=!0;break}r||n.push(e[o])}return n}function Y(){if(0!==V.length){for(var t=V.length-1;t>=0;t--){var e=V[t],n=e.el.getBoundingClientRect();n.bottom<=W&&!e.hasShow&&(a=e.id,q[a]||(e.hasShow=!0,q[e.id]=1,"function"==typeof e.callback&&e.callback()));for(var r=n.bottom<=W&&n.top>=0,o=!1,i=0;i<B.length;i++)if(B[i].imp_item_id===e.impressItemInfo.imp_item_id){o=!0;break}r&&!o&&B.push(e.impressItemInfo)}var a,s=z(F,B),l=z(B,F);(s.length||l.length)&&(U.a.invoke("impression",c()({},H,{impressions_in:s,impressions_out:l})),F=B,B=[])}}var X={show:[],header:[]};G.scrollStore=X;var J=function(t,e){var n=D(),r=n.height||window.innerHeight,o=n.width||window.innerWidth;try{var i=t.getBoundingClientRect();return i.bottom>0&&i.top<r&&i.right>0&&i.left<o}catch(t){return console.info(t,e,"判断DOM是否在屏幕之内出错, 并将这个展示埋点去除"),!0}},K=function(t,e){var n=D();try{var r=n.height||window.innerHeight,o=n.width||window.innerWidth,i=t.getBoundingClientRect();return i.height<r&&i.width<o?i.top>=0&&i.top<=r&&i.bottom>=0&&i.bottom<=r&&i.left>=0&&i.left<=o&&i.right>=0&&i.right<=o:i.height<r&&i.width>=o?i.top>=0&&i.top<=r&&i.bottom>=0&&i.bottom<=r&&i.left<=0&&i.right>=o:i.height>=r&&i.width<o?i.top<=0&&i.bottom>=r&&i.left>=0&&i.left<=o&&i.right>=0&&i.right<=o:i.top<=0&&i.bottom>=r&&i.left<=0&&i.right>=o}catch(t){return console.info(t,e,"判断DOM是否在屏幕之内出错, 并将这个展示埋点去除"),!0}},Z=function(t){var e=t.dom?t.dom:document.querySelector(t.domSelector),n=(t.isTotallyShown?K:J)(e,t);return n&&(t.label?M.statistics.sendUmengEvent(t.tag,t.label,t.params):M.statistics.sendUmengEventV3(t.value,t.obj),"function"==typeof t.callback&&t.callback()),n},Q=function(){var t=function(t){var e=X[t];e.length>0&&(e=e.filter((function(e){switch(t){case"show":return!Z(e);case"header":return function(t){var e,n=t.dom?t.dom:document.querySelector(t.domSelector);if(!n)return null;(e=n.getBoundingClientRect().bottom)<0&&!t.NativeShowHeader?(U.a.invoke(t.JsBridge,{show:!0}),t.NativeShowHeader=!0):e>0&&t.NativeShowHeader&&(U.a.invoke(t.JsBridge,{show:!1}),t.NativeShowHeader=!1)}(e),!0;default:return!0}}))),X[t]=e};for(var e in X)t(e);!function(){try{Y()}catch(t){}}()},tt=function(t,e){if("object"===(void 0===e?"undefined":I()(e)))if(X[t])switch(t){case"show":Z(e)||X.show.push(e);break;case"header":X.header.push(e);break;default:return}else console.error("scrollStore 不存在 "+t+" 这个属性");else console.error("data 不是一个对象")},et=function(){X={show:[],header:[]},G.scrollStore=X},nt=n(32),rt=n.n(nt),ot=n(21),it=n.n(ot),at=n(57),st=n.n(at).a,ct=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable;function ut(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var dt=function(){try{if(!it.a)return!1;var t=new String("abc");if(t[5]="de","5"===rt()(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==rt()(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===o()(it()({},r)).join("")}catch(t){return!1}}()?it.a:function(t,e){for(var n,r,o=ut(t),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))ct.call(n,a)&&(o[a]=n[a]);if(st){r=st(n);for(var s=0;s<r.length;s++)lt.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o},pt=function(t,e){var n=!1;return n=(n=(n=n||0==t.book_free_status||0==t.need_pay)||1==t.pay_status||3==t.pay_status)||1==t.recommend_limited_free&&["__all__","fake","ugc_fake"].indexOf(e.category_name)>-1&&!1!==e.isLogin&&!1!==window.isLogin},ft=function(t){var e="",n=0;for(var r in t)e+=(0===n?"":"&")+r+"="+("object"===I()(t[r])?a()(t[r]):t[r]),n++;return e},ht={},mt={};function _t(t){var e=t.h5_extra||{};return{font_size:e.font_size||"m",image_type:e.image_type||"thumb",is_daymode:void 0===t.h5_extra||!!e.is_daymode,use_lazyload:!!e.use_lazyload,url_prefix:e.url_prefix||"content://com.ss.android.article.base.ImageProvider/"}}var vt={v55:{android:function(){return{font_size:Object(M.getMeta)("font_size")||"m",image_type:Object(M.getMeta)("load_image")||"thumb",is_daymode:!Object(M.getMeta)("night_mode"),use_lazyload:void 0===window.close_lazyload,url_prefix:void 0===window.url_prefix?"content://com.ss.android.article.base.ImageProvider/":window.url_prefix}},iphone:function(){return{font_size:Object(M.hash)("tt_font")||"m",image_type:Object(M.hash)("tt_image")||"thumb",is_daymode:"1"==Object(M.hash)("tt_daymode"),use_lazyload:!!parseInt(Object(M.getMeta)("lazy_load")),url_prefix:""}}},v60:{iphone:_t,android:_t}};function gt(t,e){var n={},r=t.h5_extra||{};try{"object"===I()(r.h5_settings)?n.h5_settings=r.h5_settings:n.h5_settings=JSON.parse(r.h5_settings)}catch(t){n.h5_settings={}}if(n.h5_settings.is_liteapp=!!r.is_lite,n.h5_settings.user_verify_info_conf){if("string"==typeof n.h5_settings.user_verify_info_conf)try{n.h5_settings.user_verify_info_conf=JSON.parse(n.h5_settings.user_verify_info_conf)}catch(t){n.h5_settings.user_verify_info_conf={}}n.h5_settings.user_verify_info_conf=function(t){var e={};if(Array.isArray(t.type_config))for(var n=0;n<t.type_config.length;n++){var r=t.type_config[n];e[r.type]=r}return e}(n.h5_settings.user_verify_info_conf),n.h5_settings.useServerV=!0,n.useServerV=!0}else n.h5_settings.useServerV=!1,n.useServerV=!1;try{n.isRedFocusButton="red"===n.h5_settings.tt_follow_button_template.color_style,n.h5_settings.isRedFocusButton=n.isRedFocusButton}catch(t){n.isRedFocusButton=!1,n.h5_settings.isRedFocusButton=!1}n.hasExtraSpace=!n.h5_settings.is_liteapp&&M.client.isSeniorAndroid,n.hideFollowButton=!!r.hideFollowButton,n.statistics={group_id:r.str_group_id||r.group_id||"",item_id:r.str_item_id||r.item_id||"",category_name:r.category_name||"",enter_from:r.enter_from||"",log_pb:r.log_pb||"",g_source:r.g_source||"",g_composition:r.g_composition||""};try{n.pageSettings=vt[window.APP_VERSION].iphone(t)}catch(t){console.error("设置pageSettings报错",t),E.a.captureException(t)}return n.titleBarHeight=r.title_bar_height||0,n.foldArticle=r.article_fold||!1,n.longVideoData=r.long_video,n.articleWebContentUrl=r.article_web_content_url,n.ttImageList=r.tt_image_list,n.videoNativeEnable=r.video_native_enable&&S.utils.supportNativeView(),n.isTop=r.is_top,n}var yt={zhuanma:function(t,e){var n=t.h5_extra||{};e.article={title:n.title,publishTime:n.publish_time||"0000-00-00 00:00"},e.author.name=n.source,e.author.show=!0},wenda:function(t,e){var n=t.wenda_extra,r=n.user||{};t.wenda_extra.title=Object(M.escape)(t.wenda_extra.title),e.article={title:n.title,publishTime:n.publish_stamp?M.fmt.formatTime(1e3*n.publish_stamp):"",tagType:n.article_tag_type,showArticleTopTag:n.show_article_top_tag},e.author={userId:r.user_id,name:r.user_name,link:e.h5_settings.is_liteapp?"javascript:;":r.schema+"&from_page=answer_detail_top_card&group_source=10&group_id="+n.ansid+"&enter_from="+n.enter_from,intro:r.user_intro,avatar:r.user_profile_image_url,isAuthorSelf:!1,verifiedContent:r.is_verify?"PLACE_HOLDER":"",medals:r.medals,show:!0};var o={auth_type:"",auth_info:""};try{o=JSON.parse(r.user_auth_info)}catch(t){}if(e.author.auth_type=r.user_auth_info?o.auth_type||0:"",e.author.auth_info=o.auth_info,r.user_decoration){var i={};try{i=JSON.parse(r.user_decoration)}catch(t){}e.author.user_decoration=i}if("is_following"in n&&(e.author.followState=n.is_following?"following":""),e.hideFollowButton=!!n.hidden_follow_button,e.wenda_extra=n,e.wenda_extra.aniok=M.client.isSeniorAndroid,e.wenda_extra.headerFollowButtonStyle=n.question&&n.question.is_pay_wenda?"list":"",e.hasExtraSpace=e.hasExtraSpace&&!(n.question&&n.question.is_pay_wenda),n.question&&n.question.is_pay_wenda&&(4!=n.question.pay_status&&(e.author.show=!1),n.question.is_refuse&&(e.author.show=!1)),e.statistics.group_id=n.ansid,n.gd_ext_json)try{var a=JSON.parse(n.gd_ext_json);e.statistics.category_name=a.category_name,e.statistics.enter_from=a.enter_from}catch(t){console.error(t)}},pgc:function(t,e){var n=t.h5_extra,r=n.media||{},o={};try{o="object"===I()(n.h5_settings)?n.h5_settings:JSON.parse(n.h5_settings)}catch(t){o={}}var i={};n.bottom_banner_type&&o.bottom_banner_type&&(i=n.bottom_banner_link?dt(o.bottom_banner_type[n.bottom_banner_type],{link:n.bottom_banner_link}):o.bottom_banner_type[n.bottom_banner_type]),e.article={title:n.title,publishTime:n.publish_stamp?M.fmt.formatTime(1e3*n.publish_stamp):n.publish_time,showArticleTopTag:(void 0!==n.show_article_top_tag?n.show_article_top_tag:n.high_quality_flag)&&!n.is_lite,tagType:n.article_tag_type,tagServerLink:n.article_tag_link,showBottomBanner:n.show_bottom_banner||!1,bottomBanner:i},e.author={userId:n.media_user_id,mediaId:r.id,name:r.name,link:"sslocal://profile?refer=all&source=article_top_author&uid="+n.media_user_id+"&group_id="+e.statistics.group_id+"&from_page=detail_article"+(n.category_name?"&category_name="+n.category_name:""),intro:r.description,avatar:r.avatar_url,isAuthorSelf:!!n.is_author,show:!0},!e.h5_settings.is_liteapp&&n.media_user_id||(e.author.link="bytedance://media_account?refer=all&media_id="+r.id+"&loc=0&entry_id="+r.id+"&group_id="+e.statistics.group_id+"&from_page=detail_article"+(n.category_name?"&category_name="+n.category_name:""));var a={auth_type:"",auth_info:""};try{a=JSON.parse(r.user_auth_info)}catch(t){}if(e.author.auth_type=r.user_auth_info?a.auth_type||0:"",e.author.auth_info=a.auth_info,e.author.verifiedContent=r.user_verified&&e.author.auth_info||"",r.user_decoration){var s={};try{s=JSON.parse(r.user_decoration)}catch(t){}e.author.user_decoration=s}"is_subscribed"in n&&(e.author.followState=n.is_subscribed?"following":""),e.hideFollowButton=!!n.hideFollowButton,n.is_original&&(e.article.isOriginal=n.is_original),n.category_name&&(e.category_name=n.category_name),n.log_pb&&(e.log_pb=n.log_pb),n.enter_from&&(e.enter_from=n.enter_from),n.audio_info&&(e.audio_info=n.audio_info),e.styles={image_marginless:n.image_marginless||!1}},fiction:function(t,e){var n=t.h5_extra,r=n.media||{};e.article={title:n.title,publishTime:n.publish_stamp?M.fmt.formatTime(1e3*n.publish_stamp):n.publish_time,showArticleTopTag:(void 0!==n.show_article_top_tag?n.show_article_top_tag:n.high_quality_flag)&&!n.is_lite,tagType:n.article_tag_type},e.author={userId:n.media_user_id,mediaId:r.id,name:r.name,link:"sslocal://profile?refer=all&source=article_top_author&uid="+n.media_user_id+"&group_id="+e.statistics.group_id+"&from_page=detail_article"+(n.category_name?"&category_name="+n.category_name:""),intro:r.description,avatar:r.avatar_url,isAuthorSelf:!!n.is_author,show:!0},!e.h5_settings.is_liteapp&&n.media_user_id||(e.author.link="bytedance://media_account?refer=all&media_id="+r.id+"&loc=0&entry_id="+r.id+"&group_id="+e.statistics.group_id+"&from_page=detail_article"+(n.category_name?"&category_name="+n.category_name:""));var o={auth_type:"",auth_info:""};try{o=JSON.parse(r.user_auth_info)}catch(t){}if(e.author.auth_type=r.user_auth_info?o.auth_type||0:"",e.author.auth_info=o.auth_info,e.author.verifiedContent=r.user_verified&&e.author.auth_info||"",r.user_decoration){var i={};try{i=JSON.parse(r.user_decoration)}catch(t){}e.author.user_decoration=i}if("is_subscribed"in n&&(e.author.followState=n.is_subscribed?"following":""),e.hideFollowButton=!!n.hideFollowButton,n.is_original&&(e.article.isOriginal=n.is_original),"object"===I()(n.novel_data))e.novel_data=n.novel_data;else if("string"==typeof n.novel_data)try{e.novel_data=JSON.parse(n.novel_data)}catch(t){}"pay_status"in n&&(e.novel_data.pay_status=ht&&ht.pay_status&&-1!=ht.pay_status&&-1==n.pay_status.status?ht.pay_status:n.pay_status.status,e.novel_data.auto_pay_status=n.pay_status.auto_pay_status),e.novel_data.is_story=n.is_story,e.credible_content=n.credible_content,e.novel_data.can_read=pt(e.novel_data,n),e.author.show=e.novel_data.can_read||e.novel_data.is_story,n.category_name&&(e.category_name=n.category_name),n.log_pb&&(e.log_pb=n.log_pb),n.enter_from&&(e.enter_from=n.enter_from)}};function wt(t){void 0===t?(t=window,mt=window,console.info("build,page,undefined")):"object"===I()(t.h5_extra)||"object"===I()(t.wenda_extra)?(mt=t,console.info("build,page,object")):(console.info("build,page,2cd"),M.client.isIOS?t.wenda_extra||t.h5_extra?(t.wenda_extra&&(mt.wenda_extra=t.wenda_extra),t.h5_extra&&(mt.h5_extra=t.h5_extra)):mt.h5_extra=t:M.client.isAndroid&&(t.wenda_extra||t.h5_extra?(t.wenda_extra&&(mt.wenda_extra=Object(M.extend)(!0,mt.wenda_extra,t.wenda_extra)),t.h5_extra&&(mt.h5_extra=Object(M.extend)(!0,mt.h5_extra,t.h5_extra))):mt.h5_extra=Object(M.extend)(!0,mt.h5_extra,t))),console.info("page",mt);var e={article:{},author:{},tags:""},n=function(t){var e="zhuanma";if("object"===I()(t.wenda_extra))e="wenda";else if("object"===I()(t.h5_extra)){var n=t.h5_extra.media;"object"===(void 0===n?"undefined":I()(n))&&null!==n&&0!==n.id&&(e=t.h5_extra.novel_data?"fiction":"pgc")}return e}(mt);e.article.type=n,e=dt("pageSettings"in ht?ht:gt(mt),e),yt[n](mt,e),e.article.type=n,ht=e,G.page=e}function bt(t,e){if("string"!=typeof t)return ht;try{t=t.split(".");var n=ht;return t.forEach((function(t){n=n[t]})),n||e||n}catch(t){return e}}function Et(t,e){if("string"!=typeof t)return!1;try{t=t.split(".");var n=ht,r=t.length;return t.forEach((function(t,o){void 0===n[t]&&(n[t]=null),o===r-1&&(n[t]=e),n=n[t]})),!0}catch(t){return!1}}var St={},xt={},Tt=document&&document.body;function Ot(t){var e,n={originalEvent:t},r=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/;for(e in t)r.test(e)||void 0===t[e]||(n[e]=t[e]);return function(t,e){if(e||!t.isDefaultPrevented){e||(e=t);var n=function(n){var r=Nt[n],o=e[n];t[n]=function(){return this[r]=Ct,o&&o.apply(e,arguments)},t[r]=kt};for(var r in Nt)n(r);try{t.timeStamp||(t.timeStamp=Date.now())}catch(t){}(void 0!==e.defaultPrevented?e.defaultPrevented:"returnValue"in e?!1===e.returnValue:e.getPreventDefault&&e.getPreventDefault())&&(t.isDefaultPrevented=Ct)}return t}(n,t)}var Ct=function(){return!0},kt=function(){return!1},Nt={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};var It=function(t,e){var n=St[e],r=t.target,o=void 0;n.forEach((function(e){var n=e.selector,i=e.callback,a=function(t,e){for(var n=R(document,e),r=document.body,o=0;o<n.length;o++)for(var i=t,a=n[o];i&&i!==r;){if(a===i)return a;i=i.parentNode}return!1}(r,n);a&&r!==Tt&&((o=Ot(t)).currentTarget=a,o.liveFired=Tt,i.call(r,o))}))},At=function(t,e,n){Tt=Tt||document&&document.body,t.split(/\s/).forEach((function(t){St[t]?St[t].push({selector:e,callback:n}):(St[t]=[{selector:e,callback:n}],xt[t]=function(e){It(e,t)},Tt.addEventListener(t,xt[t]))}))},Dt=function(t,e){t.split(/\s/).forEach((function(t){St[t]&&(St[t]=St[t].filter((function(t){return t.selector!==e})))}))},Rt=function(){for(var t in St)Tt.removeEventListener(t,xt[t]);St={},xt={}},Lt=n(46),Pt=n.n(Lt);var Mt={config:function(t,e,n,r){Pt.a.config(t,e,r),U.a.invoke("TTNetwork.commonParams",{},(function(r){var o=r.data||r;o&&o.device_id&&E.a.config("http://key@m.toutiao.com/log/sentry/v2/183",{tags:{bid:"article_app",pid:"article_new",ac:o.ac,aid:o.aid,channel:o.channel,device_brand:o.device_brand,device_id:o.device_id,device_platform:o.device_platform,device_type:o.device_type,os_version:o.os_version,resolution:o.resolution,uuid:o.uuid,version_name:o.version_name||o.version_code,js_version:t,gid:"",service:e},ignoreErrors:["ReferenceError: Can't find variable: getElementPosition","Unexpected token ')'","Can't find variable: performance","null is not an object (evaluating 'el.tagName')","window._setbackXML_ is not a function"],dataCallback:function(e){window.globalErrors||(window.globalErrors=[]),window.globalErrors.push(e);var r=["lib.js","iphone.js","android.js"],o=["js"],i=["v55","v60","shared"],a="http://s3.pstatp.com/toutiao/app_web_article_online_updates/";return e&&e.exception&&Array.isArray(e.exception.values)&&e.exception.values.forEach((function(e){e&&e.stacktrace&&Array.isArray(e.stacktrace.frames)&&e.stacktrace.frames.forEach((function(e){var s=e.filename.split("/"),c=s.length;r.indexOf(s[c-1])>=0&&o.indexOf(s[c-2])>=0&&i.indexOf(s[c-3])>=0?e.filename=a+t+"/"+n+"/"+s[c-3]+"/"+s[c-2]+"/"+s[c-1]:r.indexOf(s[c-1])>=0&&o.indexOf(s[c-2])>=0&&(e.filename=a+t+"/"+n+"/"+s[c-2]+"/"+s[c-1])}))})),e.tags.gid=bt("statistics.group_id")||"",e}}).install()}))}},jt=(n(250),function(t){return function(e){function n(t){u()(this,n);var r=p()(this,e.call(this,t));return r.state={hasError:!1,error:null,errorInfo:null},r}return h()(n,e),n.prototype.componentDidCatch=function(t,e){this.setState({hasError:!0,error:t,errorInfo:e}),E.a.captureException(t,{extra:e}),console.error(t,e,this.props)},n.prototype.render=function(){return this.state.hasError?null:g.a.createElement(t,this.props)},n}(g.a.Component)}),Ut=(n(251),function(t){function e(n){u()(this,e),console.info("wdtitle",n);var r=p()(this,t.call(this,n));return r.state={totalAnswerCount:"",displayTotalAnswerCount:!1},r.wendaStatisticsParams={value:n.wendaExtra.qid,ext_value:n.wendaExtra.nice_ans_count,extra:{enter_from:n.wendaExtra.enter_from,ansid:n.wendaExtra.ansid,parent_enterfrom:n.wendaExtra.parent_enterfrom||"",group_id:n.wendaExtra.ansid}},r}return h()(e,t),e.prototype.updateWendaInfoAction=function(t,e){"ans_count"in e&&this.setState({totalAnswerCount:e.ans_count+"个回答",displayTotalAnswerCount:!0}),"nice_ans_count"in e&&(this.wendaStatisticsParams.ext_value=e.nice_ans_count)},e.prototype.goToAnswerAction=function(t){M.statistics.sendUmengEvent("answer_detail",t,this.wendaStatisticsParams)},e.prototype.ruleTipClickAction=function(){var t=this.props,e=(t.statistic,t.author),n=t.wendaContext;M.statistics.sendUmengEventV3("answer_detail_guide_click",{group_id:M.statistics.group_id,user_id:e.userId,tips_from:n.tips_data.tips_from||"",tips_type:n.tips_data.tips_type||""})},e.prototype.urlAddQueryParams=function(t,e){var n,r=[],o="?";for(n in e)e.hasOwnProperty(n)&&r.push(n+"="+encodeURIComponent(e[n]));return-1!==t.indexOf("?")&&(o="&"),[t,o,r.join("&")].join("")},e.prototype.renderAnswer=function(){var t=this.props,e=t.wendaExtra,n=t.wendaContext,r=(t.isLiteApp,e.show_post_answer_strategy,void 0),o=void 0,i="ft "+(n&&n.tips_data&&n.tips_data.show_tips&&n.tips_data.text&&n.tips_data.schema?"hide-border":"");return n&&"ans_count"in n&&(r=n.ans_count+"个回答",o=!0),g.a.createElement("div",{className:i},o?g.a.createElement("span",{className:"see-all-answers",id:"total-answer-count"},r):null,g.a.createElement("span",{className:"hide-placeholder"}," "))},e.prototype.renderRuleTip=function(){var t=this.props,e=t.wendaContext,n=t.wendaExtra,r=t.statistic,o=t.author,i=e&&e.tips_data;return console.log("fhuh",e),i&&i.show_tips&&i.text&&i.schema?(M.statistics.sendUmengEventV3("answer_detail_guide_show",Object(M.extend)(!0,{group_id:r.group_id,user_id:o.userId,tips_from:e.tips_data.tips_from||"",tips_type:e.tips_data.tips_type||""},n.gd_ext_json)),g.a.createElement("div",{className:"answer-tips"},g.a.createElement("div",{className:"line-gap"}),g.a.createElement("p",{className:"tip-text"},g.a.createElement("a",{className:"tip-link",href:i.schema,onClick:this.ruleTipClickAction.bind(this)},i.text)),g.a.createElement("div",{className:"line-border"}))):null},e.prototype.titleClickAction=function(t){if(!(t.target.className.indexOf("go-to-answer")>-1)){var e=this.props.wendaExtra;"wenda_title_handle"in e&&e.wenda_title_handle?U.a.invoke("clickWendaDetailHeader"):"need_return"in e?e.need_return?U.a.invoke("close"):e.list_schema&&(window.location.href=e.list_schema):["click_answer","click_answer_fold"].indexOf(e.enter_from)>-1?U.a.invoke("close"):e.list_schema&&(window.location.href=e.list_schema)}},e.prototype.render=function(){this.props;var t=this.props,e=t.wendaExtra,n=(t.wendaContext,t.isLiteApp,e.wd_version||0);return n<1||n>=3&&1==e.showMode?null:g.a.createElement(v.Fragment,null,g.a.createElement("div",{className:"wenda-title noans title-type"+(e.answer_detail_type||0),onClick:this.titleClickAction.bind(this)},g.a.createElement("div",{className:n>=13?"wt no-icon":"wt"},e.title),this.renderAnswer()),this.renderRuleTip())},e}(g.a.Component)),Ht=(n(252),function(t){function e(){return u()(this,e),p()(this,t.apply(this,arguments))}return h()(e,t),e.prototype.articleTopTagClickHandler=function(t){var e=this.props,n=e.statistic,r=e.articleType;M.statistics.sendUmengEventV3("click_icon",{group_id:n.group_id,icon_name:t,position:"detail",article_type:r})},e.prototype.renderRight=function(t){var e=this,n=t.right.text;return g.a.createElement("a",{className:"tag-right-content",href:t.link,onClick:function(){return e.articleTopTagClickHandler(t.icon_name)}},g.a.createElement("span",null,n),g.a.createElement("i",{className:"arrow-icon"}))},e.prototype.render=function(){var t=this,e=this.props,n=e.type,r=void 0===n?"1":n,o=e.tagSetting,i=void 0===o?{}:o,a=e.position,s=e.link;if(!r||!i||!i[r])return null;var c=i[r];return s&&(c=dt(i[r],{link:s})).right&&(c.right.link=s),g.a.createElement("span",{className:"high-quality "+a},g.a.createElement("a",{href:c.link,onClick:function(){return t.articleTopTagClickHandler(c.icon_name)}},g.a.createElement("i",{className:"icon",style:{background:'url("'+c.icon+'") center center no-repeat',backgroundSize:"contain"}}),g.a.createElement("span",null,c.text),g.a.createElement("i",{className:"split"}),g.a.createElement("span",{className:"sub-desc"},c.high_quality_text)),c.right?this.renderRight(c):null)},e}(g.a.PureComponent));n(253);var Ft=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.clickTitle=r.clickTitle.bind(r),r.isReportedAudioShow=!1,r}return h()(e,t),e.prototype.handleTitleHtml=function(t,e){var n,r,o=e.statistic,i=e.audioInfo,a=e.setting,s="",c=t;if(i&&M.client.isNewsArticleVersionNoLessThan("7.3.3")){var l=(n=a.audio_icon_type||2,r=a.audio_icon_conf,n&&r?r[n].icon:"");if(!l)return c;var u=t[t.length-1];s='<i class="audio-tag" style="background-image:url('+l+");margin-left:"+(!/。|！|？|》/.test(u)?"10px":0)+';"></i>',this.isReportedAudioShow||(M.statistics.sendUmengEventV3("show_play_toutiao",{is_audio:1,group_id:o.group_id,to_group_id:i.audio_id,category_name:o.category_name,enter_from:o.enter_from,log_pb:o.log_pb}),this.isReportedAudioShow=!0),c=t.slice(0,-1)+'<span style="white-space: nowrap; display: inline-block;">'+u+s+"</span>"}return c},e.prototype.clickTitle=function(t){var e=this.props,n=e.statistic,r=e.audioInfo;t.target.classList.contains("audio-tag")&&(U.a.invoke("playAudioByFloatView",{item_id:r.audio_id,query:"groupid="+r.audio_id+"&enter_from=click_tingtoutiao&parent_enterfrom="+n.enter_from+"&feed_group_id="+n.group_id+"&parent_gid="+n.group_id+"&category_name="+n.category_name,play_list_params:a()({category_name:n.category_name})}),M.statistics.sendUmengEventV3("click_play_toutiao",{is_audio:1,group_id:n.group_id,to_group_id:r.audio_id,category_name:n.category_name,enter_from:n.enter_from,log_pb:n.log_pb}))},e.prototype.render=function(){var t=this.props,e=t.article,n=t.setting,r=void 0===n?{}:n,o=t.statistic;switch(e.type){case"fiction":return g.a.createElement("div",{className:"tt-title",dangerouslySetInnerHTML:{__html:e.title}});case"pgc":return g.a.createElement(v.Fragment,null,e.showArticleTopTag?g.a.createElement(Ht,{type:e.tagType,link:e.tagServerLink,tagSetting:r.article_tag_type,position:"before-title",statistic:o,articleType:e.type}):null,g.a.createElement("div",{className:"tt-title",onClick:this.clickTitle,dangerouslySetInnerHTML:{__html:this.handleTitleHtml(e.title,this.props)}}));case"wenda":return g.a.createElement(Ut,this.props);case"zhuanma":return g.a.createElement("div",{className:"tt-title",onClick:this.clickTitle,dangerouslySetInnerHTML:{__html:this.handleTitleHtml(e.title,this.props)}});default:return null}},e}(g.a.Component),Bt=(n(254),function(t){function e(n){return u()(this,e),p()(this,t.call(this,n))}return h()(e,t),e.prototype.clickAvaterAction=function(){"pgc"===this.props.articleType&&M.statistics.sendUmengEvent("detail","click_pgc_header",{value:this.props.authorInfo.mediaId,extra:{item_id:this.props.statistic.item_id}})},e.prototype.renderVIcon=function(){if(this.props.useServerV&&this.props.authorInfo.auth_info&&null!=this.props.authorInfo.auth_type){var t=Object(M.buildServerVIcon)(this.props.authorInfo.auth_type,"avatar_icon",this.props.setting.user_verify_info_conf);if(t)return g.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}return""},e.prototype.render=function(){var t=this.props;return g.a.createElement("div",{className:"avatar"},g.a.createElement("a",{className:"author-avatar-link",href:t.authorInfo.link,onClick:this.clickAvaterAction.bind(this),"aria-label":"个人主页"},g.a.createElement("div",{className:"author-avatar"},t.authorInfo.avatar?g.a.createElement("img",{className:"author-avatar-img",src:t.authorInfo.avatar,alt:""}):null),this.renderVIcon()),t.authorInfo.user_decoration&&t.authorInfo.user_decoration.url?g.a.createElement("div",{className:"avatar-decoration","aria-hidden":"true",style:{backgroundImage:"url("+t.authorInfo.user_decoration.url+")"}}):null,g.a.createElement("a",{className:"avatar-decoration avatar-night-mask pgc-link","aria-hidden":"true",href:t.authorInfo.link,onClick:this.clickAvaterAction.bind(this)}))},e}(g.a.Component));function Vt(t){this.id=t,this.eventMap={}}Vt.prototype.on=function(t,e){t&&"string"==typeof t&&"function"==typeof e&&(Array.isArray(this.eventMap[t])?-1===this.eventMap[t].indexOf(e)&&this.eventMap[t].push(e):this.eventMap[t]=[e])},Vt.prototype.off=function(t,e){if(t&&"string"==typeof t)if(e){if("function"==typeof e&&Array.isArray(this.eventMap[t])){var n=this.eventMap[t].indexOf(e);n>-1&&this.eventMap[t].splice(n,1)}}else delete this.eventMap[t]},Vt.prototype.broadcast=function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];t&&"string"==typeof t&&Array.isArray(this.eventMap[t])&&this.eventMap[t].forEach((function(n){try{n.call.apply(n,[e].concat(r))}catch(e){console.error("event广播错误",t,e),E.a.captureException(e)}}))};var qt=Vt,Wt=new qt("pgc"),Gt=new qt("card"),zt=new qt("page");function Yt(t,e){var n=this,r=function(){try{n.broadcast&&n.broadcast.apply(n,t),e&&e()}catch(t){console.error(t),E.a.captureException(t)}};window.cardScriptInited?r():zt.on("card-script-inited",r)}Wt.cardSafeBroadcast=Yt,Gt.cardSafeBroadcast=Yt;n(255);var Xt=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.followDisabled=!1,r.followSource={pgc:30,wenda:28},r.followFrom={pgc:"article_detail",wenda:"answer_detail_top_card"},r}return h()(e,t),e.prototype.followActionHandler=function(t){if(!this.followDisabled){this.props.updateFollowDisabledState(!0),this.followDisabled=!0;var e=this,n=this.props,r=n.author,o=n.article,i=n.followState,a=n.statistic,s=n.wendaExtra,c=i,l={id:r.userId,action:c?"unfollow":"dofollow",source:this.followSource[o.type],from:this.followFrom[o.type]},u={to_user_id:r.userId,media_id:r.mediaId,follow_type:"from_group",group_id:a.group_id,item_id:a.item_id,category_name:a.category_name,enter_from:a.enter_from,log_pb:a.log_pb,source:"pgc"===o.type?"article_detail":"answer_detail_top_card",server_source:this.followSource[o.type],position:"pgc"===o.type?"title_below":"detail"};if(document.querySelector(".article-fold-wrap")&&!c){zt.broadcast("showArticleFoldWrap",null,!1),document.documentElement.classList.contains("noscroll")&&document.documentElement.classList.remove("noscroll");var d=document.documentElement.offsetHeight||document.body.offsetHeight||document.documentElement.scrollHeight;U.a.invoke("article_open",{height:d})}"wenda"==o.type&&(u=Object(M.extend)(!0,u,s.gd_ext_json||{})),U.a.invoke("user_follow_action",l,(function(t){e.followDisabled=!1,console.info("user_follow_action",c,t),t&&1==+t.code?e.props.updateFollowState(c?"":"following",!0):e.props.updateFollowState(c?"following":"",!0)})),M.statistics.sendUmengEventV3(c?"rt_unfollow":"rt_follow",u),c||e.props.initMediasugState&&e.props.initMediasugState()}},e.prototype.sugstateChangeAction=function(){M.statistics.sendUmengEvent("detail","click_arrow_down",{extra:{source:"article_detail"}}),this.props.updateSugstate&&this.props.updateSugstate()},e.prototype.componentDidMount=function(){var t=this;zt.on("pageStateChange",(function(e){switch(e.type){case"user_action":e.id==t.props.author.userId&&"status"in e&&(t.props.updateFollowState(e.status?"following":"",t.followDisabled),t.followDisabled=!1);break;case"pgc_action":e.id==t.props.author.mediaId&&"status"in e&&(t.props.updateFollowState(e.status?"following":"",t.followDisabled),t.followDisabled=!1)}}))},e.prototype.componentWillUnmount=function(){zt.off("pageStateChange")},e.prototype.render=function(){var t=this.props;console.info("followButton",t);var e=t.author.isAuthorSelf||t.wendaContext&&t.wendaContext.is_author,n=t.redPack&&t.redPack.token&&t.redPack.redpack_id>0,r=(t.setting.tt_follow_button_template&&t.setting.tt_follow_button_template.color_style,"subscribe-button follow-button "+t.followState+(this.props.followDisabled?" disabled ":" ")+t.followButtonStyle),o="open"!==t.sugState&&"close"!==t.sugState;return e||"wenda"===t.article.type&&t.setting.is_liteapp||t.hideFollowButton?null:g.a.createElement("div",{className:n?"author-function-buttons redpack-button-just-word follow-button-large":"author-function-buttons","extra-space":t.hasExtraSpace?"":"no"},g.a.createElement("button",{className:"mediasug-arrow-button iconfont","aria-hidden":o,onClick:this.sugstateChangeAction.bind(this)}),g.a.createElement("button",{className:r,id:"subscribe",onClick:this.followActionHandler.bind(this)},g.a.createElement("i",{className:"iconfont focusicon"}," ")))},e}(g.a.Component),Jt=(n(256),function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={browCount:n.wendaContext.brow_count,diggCount:n.wendaContext.digg_count,showCount:n.wendaContext.show_count,showText:n.wendaContext.show_text||"阅读"},r}return h()(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=(t.wendaContext,t.wendaExtra),n=this;zt.on("pageStateChange",(function(t){"wenda_digg"===t.type&&e&&t.id==e.ansid&&"status"in t&&(1==t.status?n.setState({diggCount:M.fmt.formatCount(parseInt(n.state.diggCount)+1,"0")}):n.state.diggCount>0&&n.setState({diggCount:M.fmt.formatCount(parseInt(n.state.diggCount)-1,"0")}))}))},e.prototype.componentWillUnmount=function(){zt.off("pageStateChange")},e.prototype.render=function(){var t=M.fmt.formatCount(this.state.showCount,"0"),e=M.fmt.formatCount(this.state.diggCount,"0"),n=this.state.showText;return g.a.createElement("div",{className:"wenda-info"},g.a.createElement("span",{className:"readtext"},n),g.a.createElement("span",{className:"read-info brow-count"},t),g.a.createElement("span",{className:"like-info digg-count-special"},e))},e}(g.a.Component)),Kt=(n(257),function(t){function e(n){return u()(this,e),p()(this,t.call(this,n))}return h()(e,t),e.prototype.renderMedals=function(){var t=this.props.authorInfo.medals,e=this.props.setting.ugc_user_medal;return t&&e?g.a.createElement("div",{className:"article-medal"},t.map((function(t){if(e[t])return g.a.createElement("img",{src:e[t]})}))):null},e.prototype.renderTags=function(){return this.props.article.isOriginal?g.a.createElement("div",{className:"article-tags"},g.a.createElement("div",{className:"article-tag-original"})):null},e.prototype.renderSubTitle=function(){var t=this.props,e=t.article,n=t.authorInfo;switch(e.type){case"pgc":case"wenda":return g.a.createElement("span",{className:"sub-title"},e.publishTime,e.publishTime&&n.auth_info?" · ":"",n.auth_info);default:return g.a.createElement("span",{className:"sub-title"},n.intro)}},e.prototype.render=function(){var t=this.props;return g.a.createElement("div",{className:"author-bar"},g.a.createElement("div",{className:"name-link-wrap"},g.a.createElement("div",{className:"wenda"!==t.article.type||t.authorInfo.intro||t.article.publishTime||t.article.isOriginal?"name-link-w":"name-link-w no-intro"},this.renderMedals(),g.a.createElement("a",{className:"author-name-link pgc-link",href:t.authorInfo.link},t.authorInfo.name))),g.a.createElement("a",{className:"sub-title-w",href:t.authorInfo.link},g.a.createElement("div",{className:"article-tags"},this.renderTags()),this.renderSubTitle()))},e}(g.a.Component)),$t=0;function Zt(){return null}var Qt=function(t,e,n,r){"function"==typeof e&&(n=e,e={}),e||(e={});var o,i,s=e.prefix||"__jp",c=e.name||s+$t++,l=e.param,u=e.timeout,d=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head;function f(){o.parentNode&&o.parentNode.removeChild(o),window[c]=Zt,i&&clearTimeout(i)}return u&&(i=setTimeout((function(){f(),r&&r({error:"TIMEOUT"})}),u)),window[c]=function(t){f(),n&&n(null,t)},t=(t+=(~t.indexOf("?")?"&":"?")+function(t){if(!t)return"";var e=[];for(var n in t)if(t.hasOwnProperty(n)&&"function"!=typeof t[n]){var r=t[n];"[object Object]"==Object.prototype.toString.call(r)&&(r=a()(r)),n=encodeURIComponent(n),r=encodeURIComponent(r),e.push(n+"="+r)}return e.join("&")}(l)+"&callback="+d(c)).replace("?&","?"),(o=document.createElement("script")).src=t,p.parentNode.insertBefore(o,p),function(){window[c]&&f()}};var te=(new(function(){function t(){u()(this,t),this.bridgeScheme="nativeapp://",this.dispatchMsgPath="dispatch_message/",this.setResultPath="private/setresult/",this.fetchQueue="SCENE_FETCHQUEUE",this.jsBridgeKey="JSBridge",this.callbackId=1e3,this.callbackMap={},this.eventHookMap={},this.sendMessageQueue=[],this.fallbackCheckFunction=null,this.jsbridge={}}return t.prototype._fetchQueue=function(){var t=a()(this.sendMessageQueue);return this.sendMessageQueue.length>0&&this._dispatchUrlMsg(""+this.bridgeScheme+this.setResultPath+this.fetchQueue+"&"+btoa(encodeURIComponent(t).replace(/%(..)/gi,(function(t,e){return String.fromCharCode(parseInt(e,16))})))),this.sendMessageQueue=[],t},t.prototype._dispatchUrlMsg=function(t){if("undefined"!=typeof document){var e=document.createElement("iframe");e.style.display="none",document.body.appendChild(e),e.src=t,setTimeout((function(){document.body.removeChild(e)}),300)}},t.prototype._handleMessageFromApp=function(t){var e=t.__params,n={__err_code:"cb404"},r=t.__callback_id;return"string"==typeof r&&"function"==typeof this.callbackMap[r]?(n=this.callbackMap[r](e),delete this.callbackMap[r]):"string"==typeof r&&Array.isArray(this.eventHookMap[r])&&this.eventHookMap[r].forEach((function(t){"function"==typeof t&&(n=t(e))})),a()(n)},t.prototype._call=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(t&&"string"==typeof t){var i=void 0;o?i=t:(this.callbackId+=1,i=this.callbackId.toString());var s=e&&e.jsb_sync,c=n;"function"==typeof c?this.callbackMap[i]=c:s||o||(this.callbackMap[i]=c);var l={JSSDK:r,func:t,params:e,__msg_type:o?"event":"call",__callback_id:i};s&&delete e.jsb_sync;var u=void 0;try{s&&window.JS2NativeBridge&&window.JS2NativeBridge.callSync?(l.currentUrl=window.location.href,u=window.JS2NativeBridge.callSync(t,a()(l))):window.JS2NativeBridge&&window.JS2NativeBridge.call?u=window.JS2NativeBridge.call(t,a()(l)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callMethodParams?u=window.webkit.messageHandlers.callMethodParams.postMessage(l):window.callMethodParams?u=window.callMethodParams(t,l):(this.sendMessageQueue.push(l),this._dispatchUrlMsg(""+this.bridgeScheme+this.dispatchMsgPath))}catch(t){console.error(t)}return c&&c.promise||u}},t.prototype._on=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(t&&"string"==typeof t&&"function"==typeof e){this.eventHookMap[t]?this.eventHookMap[t].push(e):this.eventHookMap[t]=[e];var r={JSSDK:n,__msg_type:"event",__callback_id:t,func:t};try{window.JS2NativeBridge&&window.JS2NativeBridge.on?window.JS2NativeBridge.on(t,a()(r)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.onMethodParams?window.webkit.messageHandlers.onMethodParams.postMessage(r):window.onMethodParams?window.onMethodParams(t,r):window.JS2NativeBridge||this._call(t,{},null,n,1)}catch(t){console.error(t)}}},t.prototype._off=function(t,e){t&&"string"==typeof t&&"function"==typeof e&&this.eventHookMap[t]&&(this.eventHookMap[t]=this.eventHookMap[t].filter((function(t){return t!==e})))},t.prototype._trigger=function(t,e){var n=this.eventHookMap[t],r=!1;if(n)for(var o=0,i=n.length;o<i;o++){var a=n[o];"function"==typeof a&&(r=!0,a(e))}return r},t.prototype.init=function(){var t=this;return this.jsbridge={call:function(){return t._call.apply(t,arguments)},on:function(){return t._on.apply(t,arguments)},off:function(){return t._off.apply(t,arguments)},trigger:function(){return t._trigger.apply(t,arguments)}},window.Native2JSBridge={_fetchQueue:function(){return t._fetchQueue.apply(t,arguments)},_handleMessageFromApp:function(){return t._handleMessageFromApp.apply(t,arguments)}},window.JSBridge=this.jsbridge,this.jsbridge},t}())).init(),ee=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TTNetwork.commonParams",e=void 0;function n(n){te.call(t,{},(function(t){e=t.data.data||t.data||t,"function"==typeof n&&n(e)}))}return n(),function(t){e?"function"==typeof t&&t(e):t&&n(t)}},ne=ee("TTNetwork.commonParams"),re=ee("appInfo"),oe=ne,ie=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.followSource={pgc_sug:34,pgc_sug_supplement:133,wenda_sug:71,wenda_sug_supplement:138},r.state={followDisabled:!1},r}return h()(e,t),e.prototype.handleFollowAction=function(t){t.stopPropagation(),this.state.followDisabled||this.props.followAction(this.props.item,this.followActionCallback.bind(this))},e.prototype.followActionCallback=function(t){var e=this.props,n=e.item,r=e.profileId,o=n.is_following;"pgc"===this.props.articleType&&"object"===(void 0===t?"undefined":I()(t))&&1===t.code&&M.statistics.sendUmengEvent("detail",o?"sub_rec_unsubscribe":"sub_rec_subscribe",{value:n.user_id,extra:{source:"article_detail",profile_user_id:r}})},e.prototype.cardClickAction=function(t){if("ms-subs"!==t.target.className){var e=this.props,n=e.item,r=e.statistic,o=e.articleType,i=e.profileId,a=n.is_following;M.statistics.sendUmengEventV3("follow_card",{action_type:"click_avatar",category_name:r.category_name,is_direct:0,is_follow:a,source:n.is_supplement?"detail_follow_card_related":"detail_follow_card",to_user_id:n.user_id,order:this.props.index,server_extra:n.server_extra}),window.location.href="sslocal://profile?uid="+n.user_id+("wenda"===o?"&refer=wenda":"")+"&group_id="+r.group_id+"&from_page="+r.from_page+"&profile_user_id="+i+(r.category_name?"&category_name="+r.category_name:"")}},e.prototype.dislikeItem=function(t){t.stopPropagation();var e=this.props,n=e.item,r=e.statistic,o=n.is_following;U.a.invoke("fetch",{url:"https://api.snssdk.com/user/relation/user_recommend/v1/dislike_user/",method:"POST",data:{dislike_user_id:n.user_id},needCommonParams:!0},(function(t){if(t.code&&t.response){try{JSON.parse(t.response)}catch(t){console.error(t)}}})),M.statistics.sendUmengEventV3("follow_card",{action_type:"delete",category_name:r.category_name,is_direct:0,is_follow:o,source:n.is_supplement?"detail_follow_card_related":"detail_follow_card",to_user_id:n.userId,order:this.props.index,server_extra:n.server_extra}),this.props.deleteItem(this.props.index)},e.prototype.renderVIcon=function(){var t=this.props,e=t.item,n=t.useServerV,r=t.setting;if(n&&e.user_verified&&e.user_auth_info&&e.user_auth_info.auth_type)return{__html:Object(M.buildServerVIcon)(e.user_auth_info.auth_type,"avatar_icon",r.user_verify_info_conf)}},e.prototype.render=function(){var t=this.props,e=t.item,n=t.setting,r="ms-subs ";r+=n.tt_follow_button_template&&"red"===n.tt_follow_button_template.color_style?" ms-red-btn ":"",r+=e.is_following?" isfollowing":"",r+=e.followDisabled?" disabled":"";var o="ms-item"+(e.is_supplement?" supplement":"");return g.a.createElement("div",{className:o,onClick:this.cardClickAction.bind(this)},g.a.createElement("div",{className:"ms-item-wrapper"},g.a.createElement("div",{className:"ms-close",onClick:this.dislikeItem.bind(this)}),g.a.createElement("div",{className:"ms-avatar"},g.a.createElement("div",{className:"ms-avatar-wrap"},g.a.createElement("img",{className:"ms-avatar-image",src:e.avatar_url,alt:"头像"})),g.a.createElement("div",{dangerouslySetInnerHTML:this.renderVIcon()})),e.user_decoration&&e.user_decoration.url?g.a.createElement("div",{className:"avatar-decoration","aria-hidden":"true",style:{backgroundImage:"url("+e.user_decoration.url+")"}}):null,g.a.createElement("div",{className:"avatar-decoration avatar-night-mask","aria-hidden":"true"}),g.a.createElement("div",{className:"ms-name-wrap"},g.a.createElement("div",{className:"ms-name"},e.name)),g.a.createElement("div",{className:"ms-desc"},e.reason_description),g.a.createElement("button",{className:r,onClick:this.handleFollowAction.bind(this)},g.a.createElement("span",{className:"focus-icon"}," "))))},e}(g.a.Component),ae=function(t){function e(n){return u()(this,e),p()(this,t.call(this,n))}return h()(e,t),e.prototype.cardClickAction=function(t){M.statistics.sendUmengEventV3("followcard_more_button",{action_type:"click",category_name:this.props.statistic.category_name,source:"detail_follow_card",server_extra:this.props.server_extra}),window.location.href=this.props.action_schema},e.prototype.render=function(){return g.a.createElement("div",{className:"ms-more",onClick:this.cardClickAction.bind(this)},g.a.createElement("div",{className:"ms-more-icon"}),g.a.createElement("div",{className:"ms-more-title"},this.props.action_card_title))},e}(g.a.Component),se=[];G.imageStore=se;var ce=D(),le=function(t){var e=function(t,e){ce.height||(ce.height=D().height);try{var n=t.getBoundingClientRect().top;return n<0||n<2*ce.height}catch(t){return console.error("在函数名为belowNextScreen",t,e),!1}}(t.dom?t.dom:document.querySelectorAll(".image-wrap")[t.index],t);return e&&(console.info("第"+t.index+"个图片加载成功","imageLoad"),t.successFn()),e},ue=function(){var t=0,e=se.length,n=e;if(se.length>0)for(;t<e;t++)le(se[t])||(n=t,t=e);se=se.slice(n)},de=function(){se=[]};function pe(t,e){for(var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.call(t,e))return t;t=t.parentElement}return null}function fe(t,e){for(var n in e)t[n]=e[n];return t}function he(){var t;G.imgArr.every((function(t){return"origin"===t.params.state}))&&(t=document.getElementById("toggle-img"))&&(t.style.visibility="hidden")}function me(t){return t?t.change_rate&&t.change_rate.indexOf("-")>-1?"#2FC94E":"#FF4442":""}function _e(t){return!t||"object"!==(void 0===t?"undefined":I()(t))||(!t.cur_price||!t.change_rate)}var ve=function(){function t(e,n,r){u()(this,t),this.setting=e,this.params=n,this.isNativeImage=r,this.reshapeImageWrapNodes(),this.appendImageRelatedNodes(),this.correctImgHolder()}return t.prototype.addIdentify=function(t){var e=document.createElement("div");e.innerHTML=t,e.style.cssText="\n            display: inline-block;\n            position: absolute;\n            top: 0px;\n            left: 0px;\n            padding: 0 12px 0 5px;\n            background: #eee;\n            border-radius: 0 0 10px 0;\n            opacity: 0.8;\n            color: #333;\n            font-size: 14px;\n        ",this.params.holder.appendChild(e)},t.prototype.reshapeImageWrapNodes=function(){var t=this.params,e=t.holder,n=t.index,r=e.parentNode,o=function(t,e,n){var r=document.createElement(n);return t.insertBefore(r,e),r.appendChild(e),r};(function(t,e){var r=void 0;return"P"===t.tagName?""!==t.textContent?(console.info("["+n+"]所在段落有文本，应当分割"),r=o(t,e,"span")):t.querySelectorAll(".image").length>1?(console.info("["+n+"]所在段落有其他图片，应当分割"),r=o(t,e,"span")):(console.info("["+n+"]正确"),r=t):(console.info("["+n+"]直接加包裹"),r=o(t,e,"p")),console.info(r,"newParent",n),r}(r,e)).className="image-wrap",e.setAttribute("index",n)},t.prototype.appendImageRelatedNodes=function(){var t=this,e=this.params,n=this.setting,r=document.createDocumentFragment(),o=e.holder;this.fragmentAppendCarTipDOM(),this.fragmentAppendStockTipDOM(),this.fragmentAppendStockTrendTipDOM(),this.fragmentAppendLoadingDOM(e.state,r),o.appendChild(r),function(e,n){var r;n.isLazyLoad&&"none"!==e.state&&("object"===(void 0===(r={index:e.index,successFn:function(){t.loadImage()}})?"undefined":I()(r))?se.push(r):console.error("data 不是一个对象"))}(e,n)},t.prototype.correctImgHolder=function(){var t=this.params,e=this.setting,n=t.holder,r=function(t,e,n,r){var o=200,i=200,a=r.aW/2,s=t/e,c=void 0,l=void 0;return c=t?t>a?r.aW:t:o,l=s?parseInt(c/s):i,console.info("[adjustOriginImageScale]",arguments,c,l),{width:c,height:l}}(t.width,t.height,"none"===t.state,e),o=r.width,i=r.height;n.style.width=o+"px",n.style.height=i+"px",n.setAttribute("bg",o>140&&i>44),n.setAttribute("state",t.state)},t.prototype.fragmentAppendLoadingDOM=function(t,e){if("origin"!==t){var n=document.createElement("i");n.classList.add("spinner"),e.appendChild(n)}},t.prototype.fragmentAppendCarTipDOM=function(){var t=this.params,e=t.holder,n=t.index;if(t.carTipData&&"object"===I()(t.carTipData)){var r="autoscript"+n,o=bt("statistics").group_id,i=document.createElement("i");i.setAttribute("class","image-subscript autoscript"),i.id=r;var a=t.carTipData.extra_tips||"查看详情";i.innerHTML='<span class="ovf">'+t.carTipData.series_name+"</span><span>"+t.carTipData.price+'</span><span class="sx">&#xe60a;</span><span>'+a+"</span>",i.dataset.href=t.carTipData.open_url,i.dataset.smallapp_abtest=t.carTipData.smallapp_abtest?"1":"0",i.dataset.sapp_sdk_enable=t.carTipData.sapp_sdk_enable?"1":"0",console.info(e,n,t,"fragmentAppendCarTipDOM");try{e.appendChild(i)}catch(t){console.info(t,this)}tt("show",{domSelector:"#"+r,tag:"detail",label:"pic_card_show",params:{value:o}}),tt("show",{domSelector:"#"+r,value:"web_show_event",obj:{obj_id:"page_detail_pic_tag",group_id:o,smallapp_abtest:i.dataset.smallapp_abtest,sapp_sdk_enable:i.dataset.sapp_sdk_enable}}),tt("show",{domSelector:"#"+r,value:"show_content_go_purchase",obj:{obj_id:"detail_scard_n_consultation",group_id:o,item_id:bt("statistics").item_id||"",enter_from:bt("statistics").enter_from||"",category_name:bt("statistics").category_name||"",log_pb:bt("statistics").log_pb||"",bookshelf_type:"motor"}})}},t.prototype.fragmentAppendStockTrendTipDOM=function(){var t=this.params,e=t.holder;if(t.stockTrendTipData&&"object"===I()(t.stockTrendTipData)){var n=t.stockTrendTipData,r=document.createElement("i");r.setAttribute("class","stock-trend-img");r.innerHTML='<span class="ovf">'+n.stock_name+'</span><span style="color: '+me(n)+';">'+n.cur_price+" "+n.change_rate+'</span><span class="sx">&#xe60a;</span><span>查看详情</span>',r.dataset.href=n.open_url,r.dataset.stockCode=n.stock_code;try{e.appendChild(r)}catch(t){console.info(t,this)}M.statistics.sendUmengEventV3("news_trend_banner_show",{code:n.stock_code,group_id:bt("statistics").group_id})}},t.prototype.fragmentAppendStockTipDOM=function(){var t=this.params,e=t.holder,n=t.index;if(t.stockTipData&&"object"===I()(t.stockTipData)){var r=this.setting.groupId,o=document.createElement("a");o.setAttribute("class","pgc-img-stock-caption"),o.setAttribute("data-gid",r),o.setAttribute("data-stock-id",t.stockTipData.stockId);o.innerHTML='<span class="ovf">'+t.stockTipData.desc+'</span><span>查看详情</span><span class="sx">&#xe6d8;</span>',o.href=t.stockTipData.schema,console.info(e,e.parentNode,n,t,"fragmentAppendStockTipDOM");try{e.parentNode.appendChild(o)}catch(t){console.info(t,this)}M.statistics.sendUmengWhenTargetShown(e,"news_kline_chart_show","",{group_id:r,code:t.stockTipData.stockId},!0,{version:3})}},t.prototype.sendLoadTime=function(){var t=Date.now()-this.startLoadTime,e=this.params,n=e.index,r=e.state,o=e.isGIF,i=bt("statistics.group_id")||"",a={duration:t,image_state:r,is_gif:o+0,group_id:i,index:n,is_native:this.isNativeImage?1:0};if("1"===i[i.length-1]&&!this.hasSendLoadTime){if(this.nativeImageLoadDetail&&this.insertRecvTime){var s=this.nativeImageLoadDetail,c=s.respTime,l=s.params;c&&l&&l.startLoadTime&&(a.insert_jsb_duration=this.insertRecvTime-this.startLoadTime,a.load_duration=c-l.startLoadTime)}M.statistics.sendUmengEventV3("article_detail_nc_image_perf",a),this.hasSendLoadTime=1}},t.prototype.loadResultLog=function(t){Date.now(),this.startLoadTime,this.params.index,this.isNativeImage},t}(),ge=/\/details\/v1\/w640\/(.+?)\.awebp/,ye=function(t){function e(n,r){u()(this,e);var o=p()(this,t.call(this,n,r,S.utils.supportNativeView()));return o.init("native-image"),o}return h()(e,t),e.prototype.nativeFallback=function(){this.isNativeImage=!1,this.init("img"),this.loadImage()},e.prototype.init=function(t){var e=this;this._el&&this._el.parentNode.removeChild(this._el),this._el=document.createElement(t),this._isLoading=!1,this._el.addEventListener("load",this.onLoad.bind(this)),this._el.addEventListener("error",this.onError.bind(this)),this._el.addEventListener("inserterror",(function(){console.info("debug:inserterror"),e._insertFail||(e._insertFail=!0,e.log("insert_fail"),e.nativeFallback())})),this._el.addEventListener("insertsuccess",(function(t){t.detail&&t.detail.recvTime&&(e.insertRecvTime=t.detail.recvTime)}))},e.prototype.getIOSImageUrl=function(t){return this.isNativeImage?t:t=(t=(t=(t=t.replace(ge,(function(t,e){return"/img/"+e+"~tplv-resize:1080:0.gif"}))).replace(".webp",".jpg")).replace(".heic",".jpg")).replace(".awebp",".gif")},e.prototype.onLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.params,n=this.setting,r=e.width,o=e.height,i=e.holder,a=this._el,s=a.naturalWidth,c=a.naturalHeight;if(this._isLoading=!1,i.classList.remove("animation"),s||c){r===s&&o===c||(e.width=s,e.height=c),this.correctImgHolder(),"origin"!==n.state&&he(),i.classList.contains("no-transition")&&setTimeout((function(){return i.classList.remove("no-transition")}),100),this.loaded=!0,this.params.holder.classList.remove("error"),this.nativeImageLoadDetail=t.detail,this.sendLoadTime(),this.loadResultLog(!0);var l=this.params.imgDOM;l&&l.classList.contains("opacity-zero")&&l.parentNode.removeChild(l)}else this.onError()},e.prototype.onError=function(){var t=this.params.holder;(this._isLoading=!1,t.classList.add("error"),t.classList.remove("animation"),this.isNativeImage)?this._el.querySelector("img")?this.log("fallback_error"):(this.log("native_image_error"),this.nativeFallback()):this.log("insertfail_fallback_error");t.removeChild(this._el),this.loadResultLog(!1)},e.prototype.loadImage=function(){var t=this;console.info("[native loadimage]");var e=this.params,n=this.setting,r=e.holder;if(n.ttImageList&&n.ttImageList[e.index]){r.classList.contains("error")&&r.classList.remove("error");var o=n.ttImageList[e.index],i=o.large_cached,a=o.large_urls,s=o.thumb_urls,c=e.state||n.state,l=function(e){!t.isNativeImage&&/(\.webp|\.heic|\.awebp)/.test(e)&&t.log("fallback_with_webp")};this._isLoading=!0,"thumb"!==e.state&&r.classList.add("animation"),"thumb"!==c||i?(this._el.setAttribute("src",this.getIOSImageUrl(a[0])),this._el.setAttribute("data-extra",a.join(",")),l(a[0]),e.state="origin"):(this._el.setAttribute("src",this.getIOSImageUrl(s[0])),this._el.setAttribute("data-extra",s.join(",")),l(s[0]),e.state="thumb"),this._el.isConnected||r.appendChild(this._el),this.startLoadTime=Date.now()}},e.prototype.log=function(t){var e=this.params.index,n=this._el.getAttribute("src"),r=bt("statistics").group_id||"",o=bt("isTop",!1);M.statistics.sendUmengEventV3("article_detail_nc_image",{err_type:t,group_id:r,index:e,image_url:n}),o&&M.statistics.sendBytedanceRequest("app_monitor?event=tt_sticky_article_error&params="+encodeURIComponent(a()({type:"fe_"+t,image_url:n,group_id:r,index:e})))},e}(ve),we=/url=([^&]*)/,be=function(t){return"origin"===t.state&&""===t.url&&t.width&&t.height},Ee=function(t){return"origin"===t.state&&""!==t.url&&"boolean"==typeof t.width&&"function"==typeof t.height},Se={willStart:function(t){t()},clean:function(){console.info("NativePlayGif.clean")},ended:function(){},tellNativeImagesPosition:function(){},setUseNativePlayGif:function(){}},xe=S.utils.supportNativeView()?Se:{gifArr:[],NativePlayGifMovingCount:0,useNativePlayGif:!1,setUseNativePlayGif:function(t){xe.useNativePlayGif=t},willStart:function(t){xe.useNativePlayGif?xe.tellNativeGetFrames((function(){xe.tellNativeAnimationWillStart(),"function"==typeof t&&t()})):"function"==typeof t&&t()},clean:function(){console.info("NativePlayGif.clean"),xe.positions={},xe.NativePlayGifMovingCount=0},tellNativeImagesPosition:function(){if(xe.useNativePlayGif){var t={};xe.gifArr.forEach((function(e){var n=e.params.holder.getBoundingClientRect();t[e.params.index]={x:n.left+window.pageXOffset,y:n.top+window.pageYOffset,width:n.width,height:n.height}})),console.info("updateGIFPositions ",t),U.a.invoke("updateGIFPositions",t)}},tellNativeAnimationWillStart:function(){xe.useNativePlayGif&&(xe.NativePlayGifMovingCount++,console.info("tellNativeAnimationWillStart",xe.NativePlayGifMovingCount),1===xe.NativePlayGifMovingCount&&(console.info("animationWillStart",xe.NativePlayGifMovingCount),U.a.invoke("NativePlayGif",{action:"animationWillStart"})))},tellNativeGetFrames:function(t){xe.useNativePlayGif&&U.a.invoke("NativePlayGif",{action:"getFrames"},(function(e){if(Array.isArray(e.frames)){console.info("tellNativeGetFrames",e.frames);var n=e.frames.length;n>0?e.frames.forEach((function(e,r){var o=Array.prototype.slice.call(e);r>=n-1?o.push(!0,t):o.push(!0),window.appendLocalImage.apply(this,o)})):"function"==typeof t&&t()}}))},te:function(t){console.info("transitionend",t.target,this.getAttribute("index")),this.classList.remove("animation"),this.removeEventListener("transitionend",xe.te),xe.ended()},ended:function(){xe.useNativePlayGif&&setTimeout((function(){xe.tellNativeImagesPosition(),xe.tellNativeAnimationDidEnd((function(){xe.cleanFrames()}))}),100)},tellNativeAnimationDidEnd:function(t){xe.useNativePlayGif&&(xe.NativePlayGifMovingCount--,console.info("tellNativeAnimationDidEnd",xe.NativePlayGifMovingCount),0===xe.NativePlayGifMovingCount?(console.info("tellNativeAnimationDidEnd",xe.NativePlayGifMovingCount),U.a.invoke("NativePlayGif",{action:"animationDidEnd"},(function(){"function"==typeof t&&t()}))):xe.NativePlayGifMovingCount<0&&(xe.NativePlayGifMovingCount=0))},cleanFrames:function(){xe.useNativePlayGif&&(console.info("cleanFrames"),xe.gifArr.forEach((function(t){var e=t.params;e.nativePlayGifLoaded&&(e.holder.innerHTML="",e.url="")})))}},Te=function(t){function e(){return u()(this,e),p()(this,t.apply(this,arguments))}return h()(e,t),e.prototype.loadImage=function(){var t=this.params,e=this.setting,n=t.state||e.state;U.a.invoke("loadDetailImage",{type:n+"_image",index:t.index}),this.startLoadTime=Date.now()},e.prototype.appendImgToHolder=function(){var t=this.params,e=t.holder,n=t.imgDOM;if(!t.isGIF&&t.imgDOM)n.src=t.url;else if(t.url){var r=document.createElement("img");r.onload=this.onLoad.bind(this),r.onerror=this.onError.bind(this),r.src=t.url,e&&e.appendChild(r),t.imgDOM=r}},e.prototype.stopAnimation=function(){var t=this.params.holder;t.classList.remove("animation"),t.removeEventListener("transitionend",xe.te),console.info("stopAnimation",t)},e.prototype.loadedImageSource=function(t){console.info("loadedImageSource",t);var e=this.params;"origin"===t.state&&"thumb"===e.state&&e.hasTap&&(console.info("有一个动画过程"),xe.useNativePlayGif&&(xe.willStart(),e.holder.addEventListener("transitionend",xe.te,!1))),"origin"===t.state&&"none"===e.state&&(e.removeAnimation=!0),xe.useNativePlayGif||e.holder.addEventListener("transitionend",this.stopAnimation.bind(this),!1),e.hasTap&&(e.hasTap=!1),this.params=fe(e,t),this.appendImgToHolder()},e.prototype.onLoad=function(t){console.info("onLoad Image",this);var e=t.target,n=this.params,r=this.setting,o=n.frameCallback,i=n.width,a=n.height,s=n.holder,c=e.naturalHeight,l=e.naturalWidth;(l||c)&&(i===l&&a===c||(n.width=l,n.height=c),"origin"!==r.state&&"origin"===n.state&&he(),this.correctImgHolder(),xe.tellNativeImagesPosition(),"function"==typeof o&&(console.info("frameCallback",o),o(),n.frameCallback=null),n.removeAnimation&&(n.removeAnimation=!1,s.classList.remove("animation")),s.classList.contains("no-transition")&&setTimeout((function(){return s.classList.remove("no-transition")}),100),this.loaded=!0,this.sendLoadTime())},e.prototype.onError=function(t){var e=t.target,n=e.src,r=this.params.tHrefurl,o=0;if(n&&n.indexOf("file://")>-1&&r){var i=decodeURIComponent(r.substr(4));e.src=i.replace(/(\.webp|\.heic)/,""),o=1,/(\.webp|\.heic|\.awebp)/.test(i)&&(o=4)}else n&&n.indexOf("http")>-1&&(o=2);M.statistics.sendUmengEventV3("article_detail_local_image_fail",{error_type:o})},e}(ve),Oe=(function(t){function e(){return u()(this,e),p()(this,t.apply(this,arguments))}h()(e,t),e.prototype.buildGetImageSource=function(){var t=this.params,e=this.setting;return e.urlPrefix+"getimage/"+t.state+"/"+t.zsp+"/"+e.groupId+"/"+t.index},e.prototype.buildImageSource=function(){var t=this.params;return this.setting.urlPrefix+"image/"+t.state+"/"+t.zsp},e.prototype.getLoadUrl=function(t){var e,n,r,o=this.params;return window.receivedEmptyExtra||o.downloadFail?(e=o.href,n=/url=(\S+)&/,(r=e.match(n))?decodeURIComponent(r[0].replace(n,"$1")):e):t?this.buildImageSource():this.buildGetImageSource()},e.prototype.loadImage=function(t){var e=this.params,n=this.getLoadUrl(t);!n||e.lastUrl&&e.lastUrl===n?this.params.url=n:(console.info("URL_NOT_EQUAL",e.lastUrl,n),this.params.url=this.params.lastUrl=n),this.params.imgDOM.src=n,t||(this.startLoadTime=Date.now())},e.prototype.onLoad=function(){console.info("[this.onLoad]",this);var t=this.params,e=t.imgDOM,n=t.holder,r=e.naturalWidth*e.naturalHeight,o=Math.abs(t.bigArea-r),i=Math.abs(t.smallArea-r);t.width=e.naturalWidth,t.height=e.naturalHeight,o>i?t.state="thumb":(t.state="origin",e.onload=null),"origin"!==this.setting.state&&"origin"===t.state&&he(),this.correctImgHolder("natural"),e.classList.remove("opacity-zero"),n.classList.remove("animation"),n.classList.contains("no-transition")&&setTimeout((function(){return n.classList.remove("no-transition")}),100),this.sendLoadTime(),this.loadResultLog(!0)},e.prototype.onError=function(t){var e=t.target;e.classList.add("opacity-zero"),/getimage/.test(e.src)||(this.params.downloadFail=!0,this.loadImage(!0),M.statistics.sendUmengEventV3("load_image_error",{source:"detail_web",uri:e.src,err_msg:"Image load error (Android)"}),this.loadResultLog(!1))}}(ve),Te),Ce=function(t){function e(){return u()(this,e),p()(this,t.apply(this,arguments))}return h()(e,t),e}(Oe),ke=function(t){function e(){return u()(this,e),p()(this,t.apply(this,arguments))}return h()(e,t),e.prototype.fragmentAppendCarTipDOM=function(t){if(!t)return null;var e=document.createElement("i");e.setAttribute("class","image-subscript gif-subscript"),e.innerText="GIF",t.appendChild(e)},e.prototype.loadedImageSource=function(t){console.info("loadedImageSource",t);var e=this.params,n=e.width,r=e.height;if(be(t)){var o=e.holder;e.nativePlayGifLoaded=!0,e.width=n,e.height=r,this.params=fe(e,t),o.innerHTML="",this.correctImgHolder(),he(),xe.tellNativeImagesPosition()}else!function(t){return"thumb"===t.state&&""!==t.url}(t)&&Ee?(e.notTellNativePosition=t.width,e.frameCallback=t.height,this.params=fe(e,t),this.appendImgToHolder()):(this.params=fe(e,t),this.appendImgToHolder());e.updateBackPos&&be(t)&&(!function(t){console.info("[updateCarouselBackPosition]");var e=t.holder.getBoundingClientRect();U.a.invoke("updateCarouselBackPosition",{index:t.index,left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)},(function(){}))}(e),e.updateBackPos=!1)},e}(Oe),Ne=function(t){function e(){return u()(this,e),p()(this,t.apply(this,arguments))}return h()(e,t),e.prototype.fragmentAppendCarTipDOM=function(){},e}(Oe),Ie=new(function(){function t(){u()(this,t),this.setting={},this.images=[],this.hrefArr={},this.onNativeImageLoaded=this.onNativeImageLoaded.bind(this)}return t.prototype.getSetting=function(t){var e=D(),n=bt("pageSettings")||{},r=bt("h5_settings")||{},o=bt("statistics")||{},i=bt("ttImageList");return{aW:e.width-30,iH:e.height,urlPrefix:n.url_prefix||"",state:n.image_type||"",isLazyLoad:n.use_lazyload||t.length>10,useNativePlayGif:r.is_use_native_play_gif,groupId:o.group_id,ttImageList:i}},t.prototype.initImages=function(t){var e=this.setting,n=this.hrefArr={};return xe.gifArr=[],t.map((function(t,r){var o=t.getAttribute("type")||"",i=+t.getAttribute("width")||0,a=+t.getAttribute("height")||0,s=+t.getAttribute("thumb_width")||0,c=+t.getAttribute("thumb_height")||0,l=t.getAttribute("zip_src_path")||"",u=t.getAttribute("href")||"",d=u.match(we);d&&(d=d[0],n[d]?n[d].push(r):n[d]=[r]);var p={index:r,holder:t,url:"",state:e.state,lastUrl:"",zsp:l,href:u,tHrefurl:d||"",link:t.getAttribute("redirect-link")||"",isGIF:"gif"===o||"2"===o,isLONG:i>3*a||a>3*i,bigArea:i*a,smallArea:s*c,carTipData:null,stockTipData:null,stockTrendTipData:null,nativePlayGifLoaded:!1,notTellNativePosition:!1,frameCallback:null};if(t.classList.add("no-transition"),/origin|none/.test(p.state)||e.ttImageList&&e.ttImageList[r]&&e.ttImageList[r].large_cached?(p.width=i,p.height=a):(p.width=s,p.height=c),e.ttImageList)return t.innerHTML="",new ye(e,p);if(p.isGIF){var f=new ke(e,p);return xe.gifArr.push(f),f}return i>3*a||a>3*i?new Ne(e,p):new Ce(e,p)}))},t.prototype.onNativeImageLoadedByIOS=function(t,e,n,r,o){console.info("onNativeImageLoaded",arguments);var i=this.images,a=this.hrefArr;if(i[t]){var s=i[t],c=s.params,l=c.tHrefurl,u={};if(u.url=e,u.state=n,u.width=r,u.height=o,be(u)&&!s.params.isGIF){var d=decodeURIComponent(l.substr(4));u.url=d.replace(/\.awebp/,""),M.statistics.sendUmengEventV3("article_detail_recognized_gif_fail",{href:u.url,group_id:bt("statistics").group_id||""})}if(l&&a[l]&&a[l].length>1){var p=a[l],f=!1;for(var h in p){var m=p[h];console.info(h,p,m,"targetHrefArr"),i[m].loadedImageSource(u),t==m&&(f=!0)}f||s.loadedImageSource(u)}else s.loadedImageSource(u)}},t.prototype.onNativeImageLoadedByAndroid=function(t,e,n){console.info("[onNativeImageLoaded]",arguments);var r=this.images[t];if(r){if(!e)return r.params.downloadFail=!0,r.loadImage(!0),M.statistics.sendUmengEventV3("load_image_error",{source:"detail_web",uri:r.params.url,err_msg:"Image download error. (android, isOk="+e+", isLarge="+n+")"}),void r.loadResultLog(!1);r.params.state=n?"origin":"thumb",r.loadImage(!0)}},t.prototype.onNativeImageLoaded=function(){this.onNativeImageLoadedByIOS.apply(this,arguments)},t.prototype.getImprId=function(t){var e="";if("[object String]"===Object.prototype.toString.call(t))try{e=JSON.parse(t).impr_id}catch(t){}else"[object Object]"===Object.prototype.toString.call(t)&&(e=t.impr_id||"");return e},t.prototype.skipToAutoScript=function(t){console.info("[skipToAutoScript]");var e=this.setting;M.statistics.sendUmengEvent("detail","pic_card_click",{value:+e.groupId}),M.statistics.sendUmengEventV3("web_clk_event",{obj_id:"page_detail_pic_tag",group_id:bt("statistics").group_id||"",smallapp_abtest:t.dataset.smallapp_abtest,sapp_sdk_enable:t.dataset.sapp_sdk_enable});var n=encodeURIComponent(a()({media_id:bt("author").mediaId||"",item_id:bt("statistics").item_id||"",category_name:bt("statistics").category_name||"",log_pb:bt("statistics").log_pb||"",present_start:Date.now(),group_id:bt("statistics").group_id||""})),r={is_motor:1,enter_from:"click_motor_series",parent_enterfrom:"click_motor_series",parent_imprid:this.getImprId(bt("statistics").log_pb),parent_gid:bt("statistics").group_id||""};M.statistics.sendUmengEventV3("click_nextgroup_detail",{obj_id:"detail_scard_n_consultation_gotoCar",item_id:bt("statistics").item_id||"",enter_from:bt("statistics").enter_from||"",category_name:bt("statistics").category_name||"",log_pb:bt("statistics").log_pb||"",bookshelf_type:"motor",group_id:bt("statistics").group_id||""});var o=t.dataset.href;/sslocal:\/\/webview/.test(o)?(o=o.replace("log_extra_placeholder%3D","log_extra%3D"+n),o+="&gd_ext_json="+encodeURIComponent(a()(r))):/sslocal:\/\/[acimopr]{8}/.test(o)&&(o=o.replace("log_extra_placeholder%3D","log_extra%3D"+n),o+="&extra="+encodeURIComponent(a()({event_extra:r}))),location.href=o},t.prototype.addShowAllOriginImgBtn=function(t){if(!(t.length<1)){var e=this.setting,n=e.state,r=t[0].params.holder;if("origin"!==n){var o=document.createElement("div");o.innerHTML='<div class="toggle-img" id="toggle-img">显示所有大图</div>',Dt("click",".toggle-img"),At("click",".toggle-img",(function(){e.ttImageList?t.forEach((function(t){t.params.state="origin",t.loadImage()})):(t.forEach((function(t){t.params.state="origin",t.loadImage()})),M.statistics.sendBytedanceRequest("toggle_image")),this.style.visibility="hidden"})),r.parentNode.insertBefore(o,r)}}},t.prototype.tapEventHandler=function(t){console.info("[tapEventHandler]",t);var e=this.setting,n=t.params||{},r=n.holder;if(r.classList.contains("error"))t.loadImage();else{if(n.stockTipData&&M.statistics.sendUmengEventV3("news_kline_chart_click",{group_id:e.groupId,code:n.stockTipData.stockId}),M.statistics.sendUmengEventV3("click_picture",{group_id:bt("statistics").group_id||"",enter_from:bt("statistics").enter_from||"",category_name:bt("statistics").category_name||""}),n.link.indexOf("sslocal")>-1)return location.href=n.link,!1;if(/^http(s)?:\/\//i.test(n.href))return location.href=n.href,!1;if(t.isNativeImage&&/thumb|none/.test(n.state)){if(t.isLoading)return;return t.params.state="origin",void t.loadImage()}if(function(t){return"origin"!==t.state&&!t.isGIF}(n))r.classList.add("animation"),n.hasTap=!0,t.params.state="origin",t.loadImage();else{var i=n.holder.getBoundingClientRect(),a={index:+n.index,left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)},s=(l=a,o()(l).reduce((function(t,e){return t+"&"+e+"="+l[e]}),"").substr(1));n.updateBackPos=!0;var c="full_image?"+s;M.statistics.sendBytedanceRequest(c),"origin"!==n.state&&(t.params.state="origin",t.loadImage()),t.loaded||t._isLoading||(t.params.state="origin",t.loadImage())}var l}},t.prototype.bindAllEvt=function(t){var e=this;Dt("click","a.image"),At("click","a.image",(function(n){var r=n.target,o=n.currentTarget,i=parseInt(o.getAttribute("index"),10),a=t[i];n.preventDefault();var s,c,l,u=pe(r,".stock-trend-img");if(u)return c=(s=u).dataset.href,l=s.dataset.stockCode,M.statistics.sendUmengEventV3("news_trend_banner_click",{code:l,group_id:bt("statistics").group_id}),void(c&&(window.location.href=c));var d=pe(r,".autoscript");d?e.skipToAutoScript(d):e.tapEventHandler(a)})),Dt("click","a.pgc-img-stock-caption"),At("click","a.pgc-img-stock-caption",(function(t){var e=t.currentTarget;M.statistics.sendUmengEventV3("news_kline_charact_click",{group_id:e.dataset.gid,code:e.dataset.stockId})}))},t.prototype.initImageProcess=function(){console.info("[IOSImage init]");var t=R(document,"a.image");if(!t.length)return null;this.setting=this.getSetting(t),this.images=this.initImages(t);var e=this.setting.ttImageList;e&&this.images.length&&M.statistics.sendUmengEventV3("article_detail_nc_image",{err_type:"insert_all",group_id:bt("statistics").group_id||"",image_num:+this.images.length}),G.imgArr=this.images,G.hrefArr=this.hrefArr,G.gifArr=xe.gifArr,xe.setUseNativePlayGif(this.setting.useNativePlayGif),G.gifArr.length<1&&xe.setUseNativePlayGif(!1),"none"===this.setting.state&&e?this.images.forEach((function(t,n){e[n]&&e[n].large_cached&&(t.params.state="origin",t.loadImage())})):this.setting.isLazyLoad?ue():this.images.forEach((function(t){t.loadImage()})),e&&e.every((function(t){return t.large_cached}))||this.addShowAllOriginImgBtn(this.images),this.bindAllEvt(this.images)},t.prototype.fetchOneImage=function(t){for(var e=0,n=this.images.length;e<n;e++)this.images[e].params.index===t&&(this.images[e].params.state="origin",this.images[e].loadImage())},t.prototype.addCarTipDOM=function(t){var e=this.images;if(console.info("[addCarTipDOM]"),"object"===(void 0===t?"undefined":I()(t))&&Array.isArray(e)){var n=e.length;for(var r in t){var o=+r;o<n&&e[o]&&(e[o].params.carTipData=t[r],e[o].fragmentAppendCarTipDOM())}}},t.prototype.addStockTipDOM=function(t){console.info("[addStockTipDOM]",t);var e=this.images;if("string"==typeof t)try{t=JSON.parse(t)}catch(t){console.info(t)}"object"===(void 0===t?"undefined":I()(t))&&Array.isArray(e)&&e.forEach((function(n,r){var o=pe(n.params.holder,".stock");if(o){var i=o.dataset.content;try{i=JSON.parse(i)}catch(t){i={}}if(i.stock_id)for(var a in t)a==i.stock_id&&(e[r].params.stockTipData=t[a]||{},e[r].params.stockTipData.stockId=a,e[r].fragmentAppendStockTipDOM())}}))},t.prototype.addStockTrendTipDOM=function(t){var e=this.images;if("object"===(void 0===t?"undefined":I()(t))&&Array.isArray(e))for(var n in t){var r=e[n],o=t[n];r&&!_e(o)&&(r.params.stockTrendTipData=o,r.fragmentAppendStockTrendTipDOM())}},t.prototype.resizeImage=function(t){var e=this.images;this.setting.aW=t;for(var n=0;n<e.length;n++)e[n].correctImgHolder()},t}());window.appendLocalImage=Ie.onNativeImageLoaded;n(258);var Ae=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={list:[],more:null,scrolling:!0},r.followSource={pgc_sug:34,pgc_sug_supplement:133,wenda_sug:71,wenda_sug_supplement:138},r.followFrom={pgc:"article_detail",wenda:"answer_detail_top_card"},r.baseWidth=150,r.cardsCount=0,r.totalNums=0,r.containerWidth=window.innerWidth,r.listWidth=0,r.imprcache={},r.imprlog=[],r.lastIndex=[],r.lastPos="in",r.lastMoreCellPos="out",r.source="pgc"===n.article.type?"article":"wenda",r.sendResult={imp_group_list_type:19,imp_group_key_name:"u11_recommend_user_"+r.source+"_detail_"+n.author.userId,imp_group_key:n.author.userId,imp_group_extra:{source:r.source,profile_user_id:n.author.userId},impressions_in:[],impressions_out:[]},r._pagescroll=r._pagescroll.bind(r),r}return h()(e,t),e.prototype.on=function(t,e,n){t&&t.addEventListener?t.addEventListener(e,n,!1):t&&t.attachEvent&&t.attachEvent("on"+e,(function(e){n.call(t,e||window.event)}))},e.prototype.off=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},e.prototype._updateList=function(t,e){var n=this.state.list;if(e)this._dealimpr([parseInt(t)],[]),n[t]=e,this.setState({list:n}),this._dealimpr([],[parseInt(t)]);else{this._dealimpr([parseInt(t)],[]),this.lastIndex.indexOf(t)>-1&&this.lastIndex.splice(this.lastIndex.length-1,1),n.splice(parseInt(t),1);var r=this.state.list.length,o=150*r+10+15+150;t==r&&o-150>window.innerWidth?$("#mediasug-list-html").css({textAlign:"right",width:o}):$("#mediasug-list-html").css({textAlign:"left",width:o}),this.setState({list:n}),this._handler()}},e.prototype._range=function(t){var e=Math.floor(t/this.baseWidth);e=Math.max(e,0),t+=this.containerWidth;var n=Math.ceil(t/this.baseWidth);n=Math.min(n,this.state.list.length)-1;for(var r=[];e<=n;)r[r.length]=e++;return r},e.prototype._pushimpr=function(t){this.sendResult.impressions_in=[];var e=this.props.profileId;if(o()(this.imprcache).length>0){for(var n in this.sendResult.impressions_out=[],this.imprcache){var r=this.imprcache[n];this.imprlog.push({uid:n,time:r,duration:(new Date).getTime()-r}),console.info("leave",n),this.sendResult.impressions_out.push({imp_item_type:51,imp_item_id:n,imp_item_extra:{}})}this.imprcache={},t&&U.a.invoke("impression",this.sendResult)}console.info("pushimpr",this.imprlog),this.imprlog.length>0&&(M.statistics.sendUmengEvent("detail","sub_reco_impression_v2",{value:e,extra:{group_id:this.props.groupId,impression:M.client.isIOS?encodeURIComponent(a()(this.imprlog)):this.imprlog,need_decode:M.client.isIOS?1:0,source:this.source}}),this.imprlog=[])},e.prototype._dealimpr=function(t,e){var n=this,r=[],o=this.state.list;if(t.forEach((function(t){var e=o[t].user_id;if(e in n.imprcache){var i=n.imprcache[e];n.imprlog.push({uid:e,time:i,duration:(new Date).getTime()-i}),delete n.imprcache[e],n.sendResult.impressions_in=n.sendResult.impressions_in.filter((function(t){return t.imp_item_id!==e})),r.push({imp_item_type:51,imp_item_id:e,imp_item_extra:{}}),console.info("leave",e)}})),e.forEach((function(t){var e=o[t].user_id;n.imprcache[e]=(new Date).getTime(),n.sendResult.impressions_in.push({imp_item_type:51,imp_item_id:e,imp_item_extra:{}}),console.info("enter",e)})),t.length>0||e.length>0){n.sendResult.impressions_out=r;var i={};it()(i,n.sendResult),U.a.invoke("impression",i)}},e.prototype._moreCellShowHandler=function(t,e){if(e>this.listWidth-this.containerWidth-this.baseWidth||!e){var n=this.props,r=n.statistic,o=n.wendaExtra;(e&&"out"===this.lastMoreCellPos||t&&t.reopen&&"in"===this.lastMoreCellPos)&&(M.statistics.sendUmengEventV3("followcard_more_button",{action_type:"show",category_name:"article"==this.source?r.category_name:o&&o.gd_ext_json?o.gd_ext_json.category_name:"",source:"detail_follow_card",server_extra:this.state.more.server_extra}),this.lastMoreCellPos="in")}else this.lastMoreCellPos="out"},e.prototype._handler=function(t){for(var e=this._range(this.listDom.scrollLeft||0),n=[],r={},i=0;i<this.lastIndex.length;i++)r[this.lastIndex[i]]=!0;for(i=0;i<e.length;i++)e[i]in r?delete r[e[i]]:n.push(e[i]);var a=o()(r);this._dealimpr.bind(this)(a,n),this.lastIndex=e,this.state.more&&this._moreCellShowHandler({reopen:!1},this.listDom.scrollLeft)},e.prototype._pagescroll=function(t){var e="in",n=this.listDom.getBoundingClientRect();(n.bottom<=0||n.top>(window.innerHeight||document.body.clientHeight))&&(e="out"),"in"===e&&"out"===this.lastPos?this._dealimpr([],this.lastIndex):"out"===e&&"in"===this.lastPos&&this._pushimpr(!0),this.lastPos=e},e.prototype._webviewScroll=function(t){if("open"===this.props.sugstate&&t.rect&&!(document.querySelector("body").clientHeight>innerHeight+232)){var e,n,r=document.querySelector("body").clientHeight,o=document.querySelector("header").clientHeight,i=void 0;if((n=t.rect.substring(1,t.rect.length-1).split(","))[0],e=Math.abs(n[1]),n[2],n[3],r===innerHeight)i=e>=o?"out":"in";else i=e>=o-(r-innerHeight)?"out":"in";"out"===this.lastPos&&"in"===i?this._dealimpr([],this.lastIndex):"in"===this.lastPos&&"out"===i&&this._pushimpr(!0),this.lastPos=i}},e.prototype.enableSwipeState=function(t){console.log("bytedance://enable_swipe")},e.prototype.disableSwipeState=function(){console.log("bytedance://disable_swipe")},e.prototype.handleSupplement=function(t,e){var n=this;oe((function(r){var o={count:1,source:"wenda"===n.props.article.type?"wenda_detail_refresh":"article_detail_refresh",follow_user_id:t.user_id};o=Object(M.extend)(!0,o,r),Qt("https://api.snssdk.com/user/relation/user_recommend/v1/supplement_cards/",{param:o},(function(r,o){if("success"===o.message&&"object"===I()(o.data)&&Array.isArray(o.data.user_cards)){var i=o.data.user_cards[0],a=i.user.info;if((a=Object(M.extend)(!0,a,i.user.relation)).reason_description=i.recommend_reason,a.profile_user_id=i.profile_user_id,a.server_extra=i.stats_place_holder,a.user_verified=!0,a.user_auth_info&&"string"==typeof a.user_auth_info)try{a.user_auth_info=JSON.parse(a.user_auth_info)}catch(t){a.user_auth_info={}}if(a.user_decoration&&"string"==typeof a.user_decoration)try{a.user_decoration=JSON.parse(a.user_decoration)}catch(t){a.user_decoration={}}a.is_supplement=!0,n._updateList(e,a),M.statistics.sendUmengEventV3("follow_card",{action_type:"show",category_name:n.props.statistic.category_name,is_direct:0,source:"detail_follow_card_related",to_user_id:t.user_id,order:e,style_type:2,server_extra:i.stats_place_holder})}}),(function(t){}))}))},e.prototype.followActionHandler=function(t,e){var n=this,r=n.state.list;r.forEach((function(t){e.user_id===t.user_id&&(t.followDisabled=1)})),n.setState({list:r});var o=this.props,i=o.article,a=o.statistic,s=o.author,c=e.is_following,l=e.is_supplement,u={id:e.user_id,action:c?"unfollow":"dofollow",source:this.followSource[i.type+"sug"],from:this.followFrom[i.type]},d={source:l?"detail_follow_card_related":"detail_follow_card",to_user_id:e.user_id,order:t,profile_user_id:e.profile_user_id,follow_type:"from_recommend",category_name:a.category_name,server_source:this.followSource[i.type+"_sug"+(l?"_supplement":"")],server_extra:e.server_extra,enter_from:a.enter_from};"pgc"==i.type&&s.mediaId&&(d.media_id=s.mediaId),document.querySelector("native-video")&&d.source,U.a.invoke("user_follow_action",u,(function(t){if(1==t.code){var r=n.state.list;r.forEach((function(t){e.user_id===t.user_id&&(t.is_following=c?0:1,t.followDisabled=0)})),n.setState({list:r})}}));var p=n.state.list;p[t].need_supplement=!0,n.setState({list:p}),M.statistics.sendUmengEventV3(c?"rt_unfollow":"rt_follow",d)},e.prototype.deleteItem=function(t){this._updateList(t)},e.prototype.domPrepare=function(){var t=this,e=document.querySelector(".mediasug-outer-container"),n=document.querySelector(".mediasug-inner-container");e&&n&&e.addEventListener("transitionend",(function(e){xe.ended(),t.setState({scrolling:"open"===t.props.sugState}),t._handler()}),!1)},e.prototype.componentDidMount=function(){var t=this;t.on(document.querySelector("#mediasug-list"),"touchstart",t.disableSwipeState),t.on(document.querySelector("#mediasug-list"),"touchmove",t.disableSwipeState),t.on(document.querySelector("#mediasug-list"),"touchend",t.enableSwipeState),t.on(document.querySelector("#mediasug-list"),"touchcancel",t.enableSwipeState),t.on(document.querySelector("#mediasug-list"),"scroll",Object(M.throttle)(t._handler.bind(t),150)),zt.on("pageStateChange",(function(e){if("user_action"===e.type){var n=t.state.list;n.forEach((function(n,r){n.user_id==e.id&&(n.is_following=!!e.status,n.followDisabled=0,n.is_following&&n.need_supplement&&(n.need_supplement=!1,n.from_supplement=!1,t.handleSupplement(n,r)))})),t.setState({list:n})}}))},e.prototype.componentWillUnmount=function(){this.off(document,"scroll",this._pagescroll),this._pushimpr(!0),zt.off("pageStateChange"),this.off(document.querySelector("#mediasug-list"),"scroll",Object(M.throttle)(this._handler.bind(this),150))},e.prototype.componentDidUpdate=function(t){this.listWidth=this.baseWidth*this.state.list.length+25;var e=this.props.sugState;"open"===e&&"open"!==t.sugState?(this.lastIndex=[],this._handler(),this.on(document,"scroll",this._pagescroll),U.a.on("webviewScrollEvent",this._webviewScroll.bind(this))):"no"!==e&&"close"!==e||(console.info("SUG-HIDE"),this.off(document,"scroll",this._pagescroll),this._pushimpr(!0))},e.prototype.componentWillReceiveProps=function(t){if(t.init&&!this.props.init&&0===this.state.list.length){var e=this;oe((function(t){var n=Object(M.extend)(!0,{to_user_id:e.props.author.userId,page:34,source:"wenda"===e.props.article.type?"wenda_detail":"article_detail",group_id:e.props.statistic.group_id},t);Qt("http://ic.snssdk.com/api/2/relation/follow_recommends/",{param:n,timeout:1e4},(function(t,n){"success"===n.message&&"object"===I()(n.data)&&Array.isArray(n.data.recommend_users)&&n.data.recommend_users.length>=3&&(n.data.add_more.server_extra=n.data.recommend_users[0].stats_place_holder,n.data.recommend_users.forEach((function(t){if(t.user_auth_info&&"string"==typeof t.user_auth_info)try{t.user_auth_info=JSON.parse(t.user_auth_info)}catch(e){t.user_auth_info={}}if(t.user_decoration&&"string"==typeof t.user_decoration)try{t.user_decoration=JSON.parse(t.user_decoration)}catch(e){t.user_decoration={}}t.profile_user_id=e.props.author.userId,t.server_extra=t.stats_place_holder})),e.domPrepare(),e.setState({list:n.data.recommend_users,more:n.data.add_more}),e.props.updateSugstate("ready"))}),(function(t){console.warn("mediasug",t)}))}))}},e.prototype.render=function(){var t=this,e=this.state,n=e.list,r=e.more,o=150*n.length+10+15+(r?150:0),i=n.length>0||r?"ms-open":"",a="open"!==this.props.sugState&&"close"!==this.props.sugState;return g.a.createElement("div",{className:"mediasug-outer-container "+this.props.sugState+" "+i},g.a.createElement("div",{className:"mediasug-inner-container"},g.a.createElement("div",{className:"ms-pointer"}),g.a.createElement("div",{className:"ms-title","aria-hidden":a},"相关推荐"),g.a.createElement("div",{className:"ms-list"+(this.state.scrolling?"":" no-scrolling"),id:"mediasug-list",ref:function(e){t.listDom=e},onTouchStart:this.disableSwipeState,onTouchMove:this.disableSwipeState,onTouchEnd:this.enableSwipeState,onTouchCancel:this.enableSwipeState,onScroll:Object(M.throttle)(this._handler.bind(this),150)},g.a.createElement("div",{className:"ms-list-scroller",id:"mediasug-list-html",style:{width:o}},n.map((function(e,n){return g.a.createElement(ie,{item:e,key:n,index:n,followAction:t.followActionHandler.bind(t,n),articleType:t.props.articleType,profileId:t.props.profileId,useServerV:t.props.useServerV,setting:t.props.setting,statistic:t.props.statistic,deleteItem:t.deleteItem.bind(t)})})),r?g.a.createElement(ae,c()({},r,{statistic:this.props.statistic})):null))))},e}(g.a.Component),De=(n(259),function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={followState:n.author.followState,mediasugInit:!1,sugstate:"no",followDisabled:!1},r.mediasugState=null,r.executing_target_state=null,r.follow_async_timer=null,r.followSource={pgc:30,pgc_sug:34,pgc_sug_supplement:133,wenda:28,wenda_sug:71,wenda_sug_supplement:138},r.followSyncFunc=r.followSyncFunc.bind(r),r.shouldShowMediasug=!document.querySelector(".custom-video")||bt("videoNativeEnable"),r}return h()(e,t),e.prototype.followSyncFunc=function(t){console.info("followSyncFunc",t),this.executing_target_state=void 0;var e=this;"following"==t?"ready"==this.state.sugstate?xe.willStart((function(){e.setState({followState:t,sugstate:"open",followDisabled:!1})})):this.setState({followState:t,followDisabled:!1}):"open"==this.state.sugstate?xe.willStart((function(){e.setState({followState:t,sugstate:"no",followDisabled:!1})})):this.setState({followState:t,sugstate:"no",followDisabled:!1})},e.prototype.updateFollowState=function(t,e){this.setState({updateFollowStateFromUserAction:!0}),t!=this.executing_target_state&&(clearTimeout(this.follow_async_timer),this.executing_target_state=t,this.async_timer=setTimeout(this.followSyncFunc,450,t)),console.info("updateFollowState",t,e)},e.prototype.initMediasugState=function(){this.props.hasExtraSpace&&this.shouldShowMediasug&&"ready"==this.mediasugState?this.setState({mediasugInit:!0,sugstate:"ready"}):this.props.hasExtraSpace&&this.shouldShowMediasug&&this.setState({mediasugInit:!0})},e.prototype.updateSugstate=function(t){var e=this;"ready"==t?(this.mediasugState="ready","following"===e.state.followState?xe.willStart((function(){e.setState({sugstate:"open"})})):e.setState({sugstate:t})):"close"!==e.state.sugstate&&"open"!==e.state.sugstate||xe.willStart((function(){e.setState({sugstate:"close"===e.state.sugstate?"open":"close"})}))},e.prototype.updateButtonDisabledState=function(t){this.setState({followDisabled:t,updateFollowStateFromUserAction:!0})},e.getDerivedStateFromProps=function(t,e){if(t.wendaContext&&(void 0!==t.wendaContext.is_following||null!=t.wendaContext.is_concern_user)&&!e.followStateFromWendaContext){var n=void 0;return null!=t.wendaContext.is_concern_user&&(n=t.wendaContext.is_concern_user?"following":""),null!=t.wendaContext.is_following&&(n=t.wendaContext.is_following?"following":""),{followState:n,followStateFromWendaContext:!0}}return e.updateFollowStateFromUserAction||e.followStateFromWendaContext?{followState:e.followState}:{followState:t.author.followState}},e.prototype.render=function(){var t=this.props,e=t.author,n=t.useServerV,r=t.article,o=t.setting,i=t.statistic,a=t.hasExtraSpace,s=t.wendaContext,l=a&&this.shouldShowMediasug,u="wenda"===t.article.type;return e.link="sslocal://profile?refer=all&uid="+e.userId+"&from_page=detail","zhuanma"===t.article.type?e.show?g.a.createElement("div",{className:"zhuanma-wrapper"},g.a.createElement("span",{className:"zm-time"},t.article.publishTime),g.a.createElement("span",{className:"zm-author"},t.author.name)):null:(console.info("author",t),g.a.createElement(v.Fragment,null,g.a.createElement("div",{className:u?"authorbar wenda":"authorbar",id:"profile",sugstate:this.state.sugstate},g.a.createElement(Bt,{authorInfo:e,useServerV:n,articleType:r.type,setting:o,statistic:i}),e.isAuthorSelf||"wenda"===t.article.type&&t.setting.is_liteapp||t.hideFollowButton?"":g.a.createElement(Xt,c()({},t,{followState:this.state.followState,sugState:this.state.sugstate,followDisabled:this.state.followDisabled,updateFollowState:this.updateFollowState.bind(this),updateSugstate:this.updateSugstate.bind(this),updateFollowDisabledState:this.updateButtonDisabledState.bind(this),initMediasugState:this.initMediasugState.bind(this),followButtonStyle:t.wendaExtra?t.wendaExtra.headerFollowButtonStyle:""})),s&&s.is_author&&"wenda"===r.type?g.a.createElement(Jt,t):"",g.a.createElement(Kt,{authorInfo:e,article:r,setting:o})),l?g.a.createElement(Ae,c()({},t,{followState:this.state.followState,init:this.state.mediasugInit,sugState:this.state.sugstate,updateSugstate:this.updateSugstate.bind(this)})):null,"wenda"===t.article.type&&t.article.showArticleTopTag?g.a.createElement(Ht,{link:r.tagServerLink,type:r.tagType,tagSetting:o.article_tag_type,position:"after-author",statistic:i,articleType:r.type}):null))},e}(g.a.Component)),Re=function(t){function e(n){return u()(this,e),p()(this,t.call(this,n))}return h()(e,t),e.prototype.tellNativeHeaderMess=function(){[{domSelector:"#profile",JsBridge:"showTitleBarPgcLayout"}].forEach((function(t,e){tt("header",t)}))},e.prototype.componentDidMount=function(){var t=this.props.data;if(t&&t.article&&"wenda"===t.article.type){var e=0,n=Object(y.findDOMNode)(this._author);n&&(e=n.getBoundingClientRect().height+20+0),U.a.invoke("onGetHeaderAndProfilePosition",{header_position:0,profile_position:e})}M.client.isAndroid&&this.tellNativeHeaderMess()},e.prototype.render=function(){var t=this,e=this.props.data;return e&&e.article&&e.article.type?g.a.createElement("div",{id:"header"},g.a.createElement(Ft,c()({},e,{ref:function(e){t._title=e}})),g.a.createElement(De,c()({},e,{ref:function(e){t._author=e}}))):null},e}(g.a.Component),Le=(n(260),function(t){var e=t.parentNode,n=document.createElement("div");return e.insertBefore(n,t),n.appendChild(t),n}),Pe=function(){var t=document.querySelectorAll("table");(t=Array.prototype.slice.call(t)).forEach((function(t){t.classList.add("border");var e=Le(t),n=void 0;e.className="table-wrap horizontal_scroll",setTimeout((function(){t.clientWidth>D().width-30&&(n=document.createElement("div"),e.appendChild(n),n.innerHTML="左滑查看更多",n.className="swipe_tip",e.addEventListener("touchstart",(function(){n.style.opacity=0})),e.addEventListener("touchend",(function(t){var e=t.currentTarget;console.info(e.scrollLeft),e.scrollLeft<=0&&(n.style.opacity=1)})))}),200)}))},Me=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.videoData=r.getVideoData(),r.state={playStates:r.videoData.map((function(){return 0}))},r}return h()(e,t),e.prototype.componentDidMount=function(){var t=this;zt.on("pageDisappear",this.onPageDisappear),this.videoData.map((function(e,n){var r=e.videoDom.querySelector("native-video");r.addEventListener("play",(function(e){var r=t.state.playStates;r[n]=1,t.setState({playStates:[].concat(r)})})),r.addEventListener("ended",(function(e){var r=t.state.playStates;r[n]=0,t.setState({playStates:[].concat(r)})})),r.addEventListener("posterLoad",(function(t){var n=bt("isTop",!1),r=bt("statistics").group_id,o=t.detail,i=(void 0===o?{}:o).params;0!==(i=void 0===i?{}:i).code&&n&&M.statistics.sendBytedanceRequest("app_monitor?event=tt_sticky_article_error&params="+encodeURIComponent(a()({type:"fe_posterload_fail",image_url:e.poster,group_id:r})))}))}))},e.prototype.componentWillUnmount=function(){zt.off("pageDisappear",this.onPageDisappear)},e.prototype.adjustmentSizeByPoster=function(t,e,n){var r=document.createElement("img");r.onload=function(){var t=r.naturalWidth,o=r.naturalHeight,i=o/t;n&&o>t?i=1.36:i&&i>.75&&(i=.75),e.style.height=parseInt(e.clientWidth*i,10)+"px"},r.src=t},e.prototype.onPageDisappear=function(){R(document,"native-video").forEach((function(t){return t.pause()}))},e.prototype.getVideoData=function(){var t=this,e=R(document,".custom-video"),n=bt("wenda_extra");function r(t){var e=n.gd_ext_json||{},r={value:n.ansid,extra:c()({position:"detail",video_id:t.vid,enter_from:n.enter_from||"",value:n.ansid,ansid:n.ansid,qid:n.qid,parent_enterfrom:n.parent_enterfrom||""},e)};return delete r.extra.log_pb,r.extra=dt({},r.extra,e.log_pb),r}return e.map((function(e,o){var i=e.dataset||{},a=parseInt(i.width,10),s=parseInt(i.height,10),c={videoDom:e,vid:i.vid,poster:i.poster,objectFit:"contain"};a&&s&&s>a&&(c.vertical=1,n&&(c.objectFit="cover"));var l=a&&s?s/a:0;if(n&&s>a?l=1.36:l&&l>.75&&(l=.75),function(t,e,n){t.style.height=parseInt(t.clientWidth*e,10)+"px",t.id="video"+n,t.style.backgroundColor="#000"}(e,l,o),i.wendaSource&&n){c.duration=M.fmt.formatDuration(i.duration);var u=n.gd_ext_json||{};tt("show",{domSelector:"#video"+o,tag:"video_show",label:"click_"+u.category_name,params:r(i),isTotallyShown:!0})}return n&&(c.dataExtra={log_pb:n.gd_ext_json&&n.gd_ext_json.log_pb?n.gd_ext_json.log_pb:"",group_source:10,group_id:bt("statistics").group_id,video_id:c.vid,category_id:n.gd_ext_json&&n.gd_ext_json.category_name?n.gd_ext_json.category_name:"question_and_answer",category_name:n.gd_ext_json&&n.gd_ext_json.category_name?n.gd_ext_json.category_name:"question_and_answer",qid:n.qid,ansid:n.ansid,value:n.ansid,enter_from:n.enter_from||"",position:"detail",parent_enterfrom:n.parent_enterfrom||"",article_type:n.article_type||n.gd_ext_json?n.gd_ext_json.article_type:""}),a&&s||t.adjustmentSizeByPoster(i.poster,e,!!n),c}))},e.prototype.render=function(){var t=this;return this.videoData.length?this.videoData.map((function(e,n){var r=t.state.playStates,o=e.vid,i=e.vertical,a=e.poster,s=e.dataExtra,c=e.videoDom,l=e.duration,u=e.objectFit;return g.a.createElement(v.Fragment,{key:"video"+n},Object(y.createPortal)(g.a.createElement(g.a.Fragment,null,g.a.createElement("native-video",{controls:!0,vid:o,"object-fit":u,style:{objectFit:u,backgroundColor:"#000"},vertical:i,poster:a,"data-extra":s}),l&&!r[n]?g.a.createElement("i",{className:"custom-video-duration"},l):null),c))})):null},e}(v.Component),je=(n(261),function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={showImage:!0},r.imgError=r.imgError.bind(r),r}return h()(e,t),e.prototype.imgError=function(){this.setState({showImage:!1})},e.prototype.render=function(){var t=this.props.data||{},e=t.duration,n=t.dataset,r=t.index;return g.a.createElement(v.Fragment,null,this.state.showImage?g.a.createElement("img",{"data-index":r,onLoad:t.imgLoad,onError:this.imgError,style:t.style,src:n.poster,alt:""}):null,g.a.createElement("i",{className:"custom-video-trigger"}),e?g.a.createElement("i",{className:"custom-video-duration"},e):null)},e}(v.Component)),Ue=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={videoPropsArr:[]},r.setCompVal(),r.enterLink=r.enterLink.bind(r),r.imgLoad=r.imgLoad.bind(r),r.playCallback=r.playCallback.bind(r),r.playVideo=r.playVideo.bind(r),r.renderHtml=r.renderHtml.bind(r),r}return h()(e,t),e.prototype.setCompVal=function(){var t=this,e=R(document,".custom-video");if(this.videoPropsArr=[],!(e.length<1)){this._wd=bt("wenda_extra"),this.statisticsData=bt("statistics",{});var n=this._wd;this.videoPropsArr=e.map((function(e,n){var o={},i=e.dataset||{},a=parseInt(i.width),s=parseInt(i.height),c=a&&s?s/a:0,l=.75;return o.videoWrap=e,o.dataset=i,a&&s&&(t._wd&&s>a&&M.client.isNewsArticleVersionNoLessThan("7.4.0")?l=1.36:c<=.75?l=c:o.style={height:"100%",width:"auto"}),function(t,e,n){var r=t.clientWidth;t.style.height=parseInt(r*e)+"px",t.id="video"+n}(e,l,n),o=r(o,i,n)}))}function r(t,e,r){if(e.wendaSource&&"object"===(void 0===n?"undefined":I()(n))){t.duration=M.fmt.formatDuration(e.duration);var o=n&&n.gd_ext_json||{},i=function(t){var e=(n=n||{}).gd_ext_json||{},r={value:n.ansid,extra:c()({position:"detail",video_id:t.vid,enter_from:n.enter_from||"",value:n.ansid,ansid:n.ansid,qid:n.qid,parent_enterfrom:n.parent_enterfrom||""},e)};return delete r.extra.log_pb,r.extra=dt({},r.extra,e.log_pb),r}(e);tt("show",{domSelector:"#video"+r,tag:"video_show",label:"click_"+o.category_name,params:i,isTotallyShown:!0})}return t}},e.prototype.componentDidMount=function(){At("click",".custom-video",this.playVideo)},e.prototype.componentWillUnmount=function(){window.appCloseVideoNoticeWeb()},e.prototype.playVideo=function(t){var e=t.currentTarget;if(!e)return null;var n=e.getBoundingClientRect()||{},r=void 0,o=e.dataset||{},i=o.vid;r=[n.left+window.pageXOffset,n.top+window.pageYOffset,n.width,n.height];var a={sp:o.sp,vid:i,frame:r,status:0};if("object"===I()(this._wd)){var s=this._wd;a.extra={log_pb:s.gd_ext_json&&s.gd_ext_json.log_pb?s.gd_ext_json.log_pb:"",group_source:10,group_id:this.statisticsData.group_id,video_id:i,category_id:s.gd_ext_json&&s.gd_ext_json.category_name?s.gd_ext_json.category_name:"question_and_answer",category_name:s.gd_ext_json&&s.gd_ext_json.category_name?s.gd_ext_json.category_name:"question_and_answer",qid:s.qid,ansid:s.ansid,value:s.ansid,enter_from:s.enter_from||"",position:"detail",parent_enterfrom:s.parent_enterfrom||"",article_type:s.article_type||s.gd_ext_json?s.gd_ext_json.article_type:""}}"object"===I()(this._wd)&&(a.scaling_fill=1,o.height&&o.width&&parseInt(o.height)>parseInt(o.width)&&(a.play_vertical=1),M.client.isAndroid&&M.client.isNewsArticleVersionNoLessThan("7.4.0")&&(a.frame[2]=n.width,a.frame[3]=n.height)),U.a.invoke("playNativeVideo",a,null)},e.prototype.playCallback=function(t){var e=this;this.videoPropsArr.forEach((function(n){var r=n.videoWrap,o=e._wd;if(r.style.display="block",n._nes&&(n._nes.style.display="block"),1===t.code&&1!=t.disable_position_change){var i=document.querySelector('[data-vid="'+t.vid+'"]');if(i){var a=i.nextElementSibling;if(a){var s=a.firstChild;s&&P(s,".cv-wd-info-wrapper",!0)&&(a.style.display="none",n._nes=a)}i.style.display="none",o&&o.wd_version&&(t.height+=15),o&&1==o.use_native_header||(document.body.style.marginTop=t.height+"px")}}}))},e.prototype.enterLink=function(t){U.a.invoke("pauseVideo");var e=void 0,n=void 0;try{n=(e=t.currentTarget.parentNode.previousSibling).dataset}catch(t){console.error(t)}if(e&&void 0!==n.vid){var r=this._wd||{};M.statistics.sendUmengEvent("answer_detail","click_video_detail",{value:r.ansid,extra:{video_id:e.dataset.vid,enter_from:r.enter_from||"",ansid:r.ansid,qid:r.qid,parent_enterfrom:r.parent_enterfrom||""}})}},e.prototype.imgLoad=function(t){var e=t.target,n=e.parentNode,r=n.dataset;n.style.background="black";var o=0,i=n.clientWidth,s=n.clientHeight,c=s/i,l=e.naturalWidth,u=e.naturalHeight;this._wd&&s>i&&M.client.isNewsArticleVersionNoLessThan("7.4.0")?e.setAttribute("style","object-fit: cover;"):l&&u&&((o=u/l)<c?e.setAttribute("style","width: 100%; height: auto;"):o>c&&e.setAttribute("style","height: 100%; width: auto"),r.width||r.height||n.setAttribute("data-video-size",a()({normal:{h:u,w:l}})))},e.prototype.renderHtml=function(){var t=this,e=this.videoPropsArr;return e.length<1?null:e.map((function(e,n){var r={imgLoad:t.imgLoad,enterLink:t.enterLink,dataset:e.dataset,duration:e.duration,style:e.style,index:n},o=e.videoWrap;return g.a.createElement(v.Fragment,{key:"video"+n},Object(y.createPortal)(g.a.createElement(je,{data:r}),o))}))},e.prototype.render=function(){return this.renderHtml()},e}(v.Component);var He=function(){return bt("videoNativeEnable")?g.a.createElement(Me,null):g.a.createElement(Ue,null)},Fe=(n(262),function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.wrapDOM=null,r.readMore=r.readMore.bind(r),r.setCompVal(),r}return h()(e,t),e.prototype.setCompVal=function(){var t=document.querySelector("article");t&&(this.wrapDOM=document.createElement("p"),t.appendChild(this.wrapDOM))},e.prototype.readMore=function(){var t=this.props.data.statisticsData,e=+bt("author").mediaId;M.statistics.sendUmengEvent("detail","click_landingpage",{value:e,extra:{item_id:+t.item_id}}),M.statistics.sendUmengEventV3("detail_click_landingpage",{enter_from:"click_landingpage",media_id:e,item_id:+t.item_id})},e.prototype.render=function(){var t=this.props.data.context,e=void 0;return e=t.native_know_more_url?t.native_know_more_url:/^sslocal/.test(t.know_more_url)?t.know_more_url:"sslocal://webview?url="+encodeURIComponent(t.know_more_url),this.wrapDOM?Object(y.createPortal)(g.a.createElement("a",{id:"know-more-url",onClick:this.readMore,href:e},"了解更多",g.a.createElement("i",{className:"icon-link"})),this.wrapDOM):null},e}(v.Component));function Be(t,e){try{for(var n=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,(function(t){return t.textContent.match(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT})),r=[],o=n.nextNode();o;)o.nodeType===Node.TEXT_NODE&&r.push(o),o=n.nextNode();r.map((function(t){return function(t,e){var n=document.createElement("span");n.innerHTML=e.nodeValue.replace(t,'<br class="sysbr">$&'),e.parentElement.replaceChild(n,e)}(e,t)}))}catch(t){console.error(t)}}var Ve=function(){var t=/[\u2e80-\u2eff\u3000-\u303f\u3200-\u9fff\uf900-\ufaff\ufe30-\ufe4f]/,e=/[a-z0-9_:\-/.%~]{26,}/gi,n=/^<br>$/,r=document.querySelectorAll("article p");(r=Array.prototype.slice.call(r)).forEach((function(r,o){n.test(r.innerHTML)&&r.classList.add("article-br");var i=R(r,".image");r.classList.contains("pgc-img-caption")||!r.textContent||i.length>0||(t.test(r.textContent)?e.test(r.textContent)&&Be(r,e):r.style.textAlign="left")}))},qe=(n(263),null),We=function(t){t.addEventListener("touchstart",(function(e){t.scrollLeft>0&&console.log("bytedance://disable_swipe")})),t.addEventListener("touchend",(function(t){console.log("bytedance://enable_swipe")})),t.addEventListener("touchcancel",(function(t){console.log("bytedance://enable_swipe")}))},Ge=function(t){var e=document.querySelectorAll("article pre");(e=Array.prototype.slice.call(e)).forEach((function(e){t&&t(e)}))},ze=function(t){Ge((function(e){var n=e.firstChild&&e.firstChild.tagName;n&&"code"===n.toLocaleLowerCase()&&(t||(e.classList.add("article-code"),We(e)),window.hljs&&window.hljs.highlightBlock(e))}))},Ye=function(){try{var t=!window.hljs;t?(Ge((function(t){var e=t.firstChild&&t.firstChild.tagName;e&&"code"===e.toLocaleLowerCase()&&(t.classList.add("article-code"),We(t))})),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=arguments[2],r=arguments[3];qe||((qe=document.createElement("script")).setAttribute("id",e),qe.onerror=function(e){console.info("load "+t+" error"),r&&r(e)},qe.onload=function(e){console.info("load "+t+" success"),n&&n(e)},qe.src=t,document.head.appendChild(qe))}("https://sf1-ttcdn-tos.pstatp.com/obj/ttfe/ttf/article/highlight.min.js","code-hl-script",(function(){ze(t)}),(function(){ze(t),M.statistics.sendUmengEventV3("article_web_init_error",{version:"1841",type:"code-highlight",error:"load-failed"})}))):ze(t)}catch(t){console.error("code highlight error: ",t)}},Xe=function(t){var e=document.querySelectorAll("a.pgc-commodity-link");(e=Array.prototype.slice.call(e)).forEach((function(e,n){var r=e.dataset.productid,o=e.dataset.price,i=e.href,a="other";i.indexOf("taobao.com")>=0||i.indexOf("tmall.com")>=0||i.indexOf("tmall.hk")>=0?a="taobao":i.indexOf("jd.com")>=0||i.indexOf("jd.hk")>=0||i.indexOf("360buy.com")>=0||i.indexOf("jd360.hk")>=0?a="jingdong":(i.indexOf("haohuo.snssdk.com")>-1||i.indexOf("haohuo.jinritemai.com")>-1)&&(a="fangxingou");var s={enter_from:t.enter_from,group_id:t.group_id,item_id:t.item_id,category_name:t.category_name,bookshelf_type:a,log_pb:t.log_pb,product_id:r,price:o};M.statistics.sendUmengWhenTargetShown(e,"show_nextgroup_detail","",s,1,{version:3})}))},Je=function(t){if(!t.is_liteapp){var e=bt("statistics")||{};R(document,".tteditor-mention").forEach((function(t){var e=t.dataset.uid;if(e){var n="sslocal://profile?uid="+e;t.setAttribute("href",n)}})),At("click",".tteditor-mention",(function(t){var n=t.target.dataset.uid;n&&M.statistics.sendUmengEventV3("click_article_at",{user_id:n,group_id:e.group_id})}));var n=document.querySelectorAll(".tteditor-forum");(n=Array.prototype.slice.call(n)).forEach((function(t){var e=t.dataset.concernId;if(e){var n="sslocal://concern?cid="+e;t.setAttribute("href",n)}})),At("click",".tteditor-forum",(function(t){var n=t.currentTarget.innerText.replace(/#/g,"");M.statistics.sendUmengEventV3("click_article_hashtag",{hashtag_name:n,gid:e.group_id})})),At("click","a.out-link",(function(t){t.preventDefault();var e=t.currentTarget;location.href="sslocal://webview?nightbackground_disable=1&url="+encodeURIComponent(e.getAttribute("href"))+"&title="+encodeURIComponent(e.innerText)})),At("click","a.link-at",(function(t){t.preventDefault();var e=t.currentTarget.dataset.uid;e&&(location.href="sslocal://profile?uid="+e+"&source=wenda_detail&refer=wenda")})),At("click",".toutiaopage",(function(){M.statistics.sendUmengEventV3("article_toutiaopage_click",{gid:e.group_id})})),R(document,"a[starhref]").forEach((function(n){var r=n.getAttribute("starhref"),o=n.dataset.uid;if(r){var i=n.dataset.authType;if(i){var a=Object(M.buildServerVIcon)(i,"avatar_icon",t.user_verify_info_conf);if(a){var s=document.createElement("div");s.className="star-v-icon-wrap",s.innerHTML=a,n.appendChild(s)}}r=r+"&from_page=star_words&group_id="+e.group_id+"&category_name="+e.category_name,n.setAttribute("href",r),M.statistics.sendUmengWhenTargetShown(n,"show_star_words","",{enter_from:e.enter_from,category_name:e.category_name,group_id:e.group_id,to_user_id:o,log_pb:e.log_pb},1,{version:3})}})),At("click","a[starhref]",(function(t){var n=t.currentTarget.dataset.uid;M.statistics.sendUmengEventV3("click_star_words",{enter_from:e.enter_from,category_name:e.category_name,group_id:e.group_id,to_user_id:n,log_pb:e.log_pb})})),R(document,"article a").forEach((function(t){try{if(-1===t.className.indexOf("pgc-commodity-link")&&-1===t.className.indexOf("out-link")){var e=t.getAttribute("href");if(e&&0===e.indexOf("http")){var n="sslocal://webview?disable_hash=1&url="+encodeURIComponent(e);t.setAttribute("data-origin-href",e),t.setAttribute("href",n)}}}catch(t){console.error(t)}}))}},Ke=n(158),$e=n.n(Ke),Ze=function(t){var e,n=bt("statistics"),r=R(document,".stock-word"),o=(e={},r.forEach((function(t){var n=t.dataset.stockId;e[n]?e[n].push(t):e[n]=[t]})),e),i=t.article_stocks;i&&$e()(o).forEach((function(t){var e=t[0],r=function(t){if(!t)return null;var e=window.innerHeight;return t.filter((function(t){var n=t.getBoundingClientRect().top;return n>0&&n-e>0}))[0]}(t[1]);if(r){var o=r.innerHTML,a=i[e],s=me(a);if(!_e(a)&&(r.querySelector(".stock-word-highlight")||(r.innerHTML='<span class="stock-word-highlight">'+o+"</span>",M.statistics.sendUmengEventV3("news_stock_clear_show",{group_id:n.group_id,code:e}),r.addEventListener("click",(function(){M.statistics.sendUmengEventV3("news_stock_clear_click",{group_id:n.group_id,code:e}),a&&a.open_url?window.location.href=a.open_url:window.location.href="sslocal://webview?hide_close_btn=1&hide_bar=1&hide_more=1&bounce_disable=1&hide_back_buttonView=1&disable_web_progressView=1&url="+encodeURIComponent("https://financal-stock-web.snssdk.com/mc/stock?code="+e)}))),!r.querySelector(".stock-word-info")&&a)){var c=document.createElement("span");c.className="stock-word-info",c.innerHTML='（<span style="color: '+s+';">'+a.cur_price+"，"+a.change_rate+"</span>）",r.appendChild(c)}}}))};function Qe(t,e){return t&&t[e]?t[e]:0}function tn(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&t.forEach((function(t){t&&(!n||t.innerHTML&&t.innerHTML.trim())&&t.classList.add(e)}))}function en(t){R(t,"[toutiao-origin]").forEach((function(t){var e=t.getAttribute("toutiao-origin");!function(t,e){if(t&&e){for(var n=t.parentNode,r=document.createElement(e),o=document.createDocumentFragment();t.firstChild;)o.appendChild(t.firstChild);r.appendChild(o),n.replaceChild(r,t)}}(t,e)}))}var nn=[{type:"section",selector:["h1","h2","h3","h4","h5","h6"]},{type:"ordered list",selector:"ol"},{type:"unordered list",selector:"ul"},{type:"strong",selector:"strong"},{type:"pgc-img-caption",selector:".pgc-img-caption"},{type:"url_link",selector:"a",excludeClass:"image"},{type:"cut-off rule",selector:"hr"},{type:"preformatted text",selector:"pre"},{type:"pgc-end-literature",selector:[".pgc-end-literature",".pgc-end-source"]}];function rn(t){var e=t.formatted_article_config||{rollbackTag:0,caption:1,link:0,heading:2,source:1,strongHighlight:1},n=document.querySelector("article");(function(t){var e=[];if(nn.forEach((function(n){("string"==typeof n.selector?R(t,n.selector):n.selector.reduce((function(e,n){return e.concat(R(t,n))}),[])).filter((function(t){return!!t.innerHTML&&(!n.excludeClass||!t.classList.contains(n.excludeClass))})).length&&e.push(n.type)})),e.length){var n={group_id:bt("statistics").group_id,author_user_id:bt("author").userId,info:e.join(",")};M.statistics.sendUmengEventV3("article_special_format_info",n)}}(n),Qe(e,"rollbackTag")&&en(n),1===Qe(e,"caption"))&&tn(R(n,".pgc-img-caption"),"article-img-caption");1===Qe(e,"link")&&tn(R(n,"a").filter((function(t){return!t.classList.contains("image")})),"article-link");if(1===Qe(e,"source")){var r=R(n,".pgc-end-literature"),o=R(n,".pgc-end-source");tn(r,"article-literature"),tn(o,"article-source"),tn([o[0]],"article-source-line")}1===Qe(e,"strongHighlight")&&tn(R(n,"strong.highlight-text"),"article-strong-highlight");R(n,"p br").forEach((function(t){var e=t.previousSibling;e&&e.nodeType===Node.TEXT_NODE&&t.classList.add("sysbr")}))}n(81),n(82);var on=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={carImage:[],stockImage:[],stockTrendImage:null,render:!1},r.cardHtml=null,r.canBroadcastCardsEvent=!0,r.setCompVal(),r.checkWindowSize=r.checkWindowSize.bind(r),r.fixArticle=r.fixArticle.bind(r),r.onCarouselImageSwitch=r.onCarouselImageSwitch.bind(r),r}return h()(e,t),e.prototype.setCompVal=function(){this.imageSizeInitTimer=null,this.statisticsData=bt("statistics")||{}},e.prototype.checkWindowSize=function(){var t=this,e=window.innerWidth-30,n=window.innerHeight;this.statisticsData=bt("statistics"),e<=0||n<=0?this.imageSizeInitTimer=setTimeout((function(){t.checkWindowSize()}),0):(this.state.carImage&&Ie.addCarTipDOM(this.state.carImage),this.state.stockImage&&Ie.addStockTipDOM(this.state.stockImage),this.state.stockTrendImage&&Ie.addStockTrendTipDOM(this.state.stockTrendImage),window.addEventListener("scroll",ue),this.setState({render:!0},(function(){Q()})),window.onresize=function(){var t=D().width;console.info(t,"width onresize"),t&&Ie.resizeImage(t-30)},Ie.initImageProcess(ue),Pe())},e.prototype.fixArticle=function(){var t=bt("h5_settings")||{},e=bt("statistics")||{};Je(t),Ve(),Ye(),Xe(e),function(){try{var t=bt("statistics"),e=t.enter_from,n=t.category_name,r=t.group_id,i=R(document,"article .video-word"),s=o()(bt("longVideoData",{}));i.forEach((function(t){var o=t.dataset.query,i=bt("longVideoData."+o,null);o&&i&&(M.statistics.sendUmengWhenTargetShown(t,"content_to_lv_link_show","",{enter_from:e,category_name:n,from_group_id:r,album_id:i.album_id,group_source:i.group_source,link_word:o},1,{version:3}),t.addEventListener("click",(function(t){var o=t.target.dataset.query,i=bt("longVideoData."+o,null);if(o&&i){var s=i.group_source,l=i.album_id;i.route_url="sslocal://lvideo_detail?album_id="+l+"&group_source="+s+"&enter_from=click_content_lvideo&category_name=content_lvideo&group_id="+l+"&log_pb="+encodeURIComponent(a()({impr_type:"__content_lvideo__",group_source:s,recommend_type:"pgc_link"}));var u={enter_from:e,category_name:n,from_group_id:r,album_id:i.album_id,group_source:i.group_source,link_word:o};M.statistics.sendUmengEventV3("content_to_lv_link_click",u),M.client.isNewsArticleAndLiteVersionNoLessThan({toutiao:"7.6.4",toutiao_lite:"7.3.1"})?te.call("app.articleToLongVideo",c()({},i,{log_pb:c()({},u,{section:"content_link",position:"detail"})})):location.href=i.route_url}})))})),M.statistics.sendUmengEventV3("content_link_num",{enter_from:e,category_name:n,from_group_id:r,link_num:i.length,video_num:s.length})}catch(t){console.info("processLongVideoTag error: ",t)}}();try{rn(t)}catch(t){console.error(t)}},e.prototype.componentDidMount=function(){var t=this;this.checkWindowSize(),this.fixArticle(),Wt.cardSafeBroadcast(["card-render",document.querySelector("body")]),setTimeout((function(){document.body.classList.remove("opacity")}),0),zt.on("pageStateChange",(function(e){"carousel_image_switch"===e.type&&t.statisticsData.group_id==e.id&&t.onCarouselImageSwitch(e.status)}))},e.prototype.onCarouselImageSwitch=function(t){Ie.fetchOneImage(t)},e.prototype.componentWillUnmount=function(){clearTimeout(this.imageSizeInitTimer),de(),window.removeEventListener("scroll",ue),zt.off("pageStateChange")},e.prototype.componentDidUpdate=function(t){t.context!==this.props.context&&Ze(this.props.context)},e.getDerivedStateFromProps=function(t,e){var n=null,r=null,o=null;return e.render&&t.carImage?(Ie.addCarTipDOM(t.carImage),n=null):n=t.carImage,e.render&&t.stockImage?(Ie.addStockTipDOM(t.stockImage),r=null):r=t.stockImage,e.render&&t.stockTrendImage?(Ie.addStockTrendTipDOM(t.stockTrendImage),o=null):o=t.stockTrendImage,{carImage:n,stockImage:r,stockTrendImage:o}},e.prototype.knowMoreHtml=function(){if(this.props.context&&this.props.context.know_more_url){var t={context:this.props.context,statisticsData:this.statisticsData};return g.a.createElement(Fe,{data:t})}return null},e.prototype.cardInArticleHtml=function(){var t=this;if(this.canBroadcastCardsEvent&&this.props.context&&Array.isArray(this.props.context.article_cards)){this.cardHtml||(this.cardHtml=function(){var t=document.querySelectorAll("p"),e=Array.apply(null,t),n=e.length,r=window.innerHeight,o=e.findIndex((function(t,o){var i=t.getBoundingClientRect().bottom>=1*r;return i=(i=i&&o<n-1)&&!(t.className.indexOf("image-wrap")>-1&&e[o+1].className.indexOf("pgc-img-caption")>-1)})),i=void 0;if(-1!==o&&o<n-1){(i=document.createElement("div")).className="article-cards-container";var a=e[o];a.hasOwnProperty("after")?a.after(i):a.parentNode.insertBefore(i,a.nextSibling)}else i=document.querySelector(".footer-cards-container");return console.info("targetNodeIndex",o),i}());var e=this.props.context.article_cards;Array.isArray(e)&&e.forEach((function(e){Gt.cardSafeBroadcast([e.type,null,e,t.cardHtml])})),this.canBroadcastCardsEvent=!1}},e.prototype.render=function(){var t=this.state.render;return t?g.a.createElement(v.Fragment,null,g.a.createElement(He,null),this.knowMoreHtml(),this.cardInArticleHtml()):null},e}(v.Component),an=(n(130),n(159)),sn=n.n(an),cn=(n(296),function(t){function e(n){u()(this,e);var r,o,i,a=p()(this,t.call(this,n));return a.state={data:{},searchParams:{}},a._setCompVal(n),a._renderHtml=a._renderHtml.bind(a),a._getSearchTag=a._getSearchTag.bind(a),a._clickSearchTag=(r=a._clickSearchTag.bind(a),o=500,i=null,function(){if(!i)return i=setTimeout((function(){i=null}),o),r.apply(this,arguments)}),a.afterCarouselChange=a.afterCarouselChange.bind(a),a}return h()(e,t),e.prototype._setCompVal=function(t){var e=t.data,n=e.context,r=e.setting,o=e.statisticsData,i=e.addShowEvt;e.article;r=r||{};var a=n&&n.labels||{},s=a.labels_words;this.query=a.query_word,this.search_id=a.search_id,this.query_id=a.query_id;var c=r.search_card_style||{},l=c.uiStyle,u=c.title;this.uiStyle=l||0,this.title=u&&"string"==typeof u?u:"搜索",this.statisticsData=o,this.addShowEvt=i,this.labels_words=s||[],this.labels_words=this.labels_words.length>6?s.slice(0,18):s.slice(0,6)},e.prototype.componentDidMount=function(){var t=this,e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.statisticsData,r=t.labels_words,o=t.addShowEvt,i=r.length,a={words_num:i,trending_position:"article_tag",search_id:t.search_id,query:t.query,query_id:t.query_id,enter_group_id:n.group_id,article_tag_type:"wap"};void 0!==e.is_incognito&&(a.is_incognito=e.is_incognito),o({domSelector:"#search-tag0 .label-content",value:"trending_show",isTotallyShown:!0,obj:a,callback:function(){M.client.isAndroid&&te.call("app.mayEnterSearch",{})}});for(var s=0;s<i;s++){var c=r[s],l=c.word,u={group_id:c.group_id,words_source:"article_tag",words_position:s,words_type:0,words_content:l,search_id:t.search_id,query:t.query,query_id:t.query_id,enter_group_id:n.group_id,article_tag_type:"wap"};void 0!==e.is_incognito&&(u.is_incognito=e.is_incognito),o({domSelector:"#search-tag"+s+" .label-content",value:"trending_words_show",isTotallyShown:!0,obj:u})}};!function(){var e=t.statisticsData,n=t.labels_words,r=t.addShowEvt,o=n.length;if(o<1)return null;var i,a=[];i=o;for(var s=0;s<i;s++){var c=n[s].word;a.push(c),r({domSelector:"#search-tag"+s+" .label-content",tag:"search_card",label:"show_search_card_word",isTotallyShown:!0,params:{extra:{source:"article_tag_wap",labelsIndex:s+1,labelKey:c,gid:e.group_id,item_id:e.item_id}}})}var l={source:"article_tag_wap",gid:e.group_id,item_id:e.item_id,labelsNum:i,labelKey:a.toString()};r({domSelector:"#search-show",tag:"search_card",label:"show_search_card",params:{extra:l},isTotallyShown:!0}),r({domSelector:"#search-tag0",tag:"search_card",label:"show_search_card_untotally_shown",params:{extra:l},isTotallyShown:!0}),M.statistics.sendUmengEventV3("search_card_data",{source:"article_tag_wap",gid:e.group_id,item_id:e.item_id,labelsNum:i,labelKey:a.toString()})}(),M.client.isNewsArticleVersionNoLessThan("7.6.1")?te.call("app.getSearchParams",{},(function(n){var r=n&&n.data||{};t.setState({searchParams:r}),e(r)})):e()},e.prototype._clickSearchTag=function(t){t.preventDefault();var e=this.statisticsData,n=this.state.searchParams,r=t.target;if(r){var o=r.dataset,i=o.href;if(i){M.statistics.sendUmengEvent("search_card","click_search_card",{extra:{index:parseInt(o.index)+1,enter_from:"article_tag_wap",card_type:"search",keyword:o.keyword,gid:e.group_id,item_id:e.item_id}});var a={group_id:o.gid,words_source:"article_tag",words_position:parseInt(o.index),words_type:0,words_content:o.keyword,search_id:this.search_id,query:this.query,query_id:this.query_id,enter_group_id:e.group_id,article_tag_type:"wap"};void 0!==n.is_incognito&&(a.is_incognito=n.is_incognito),M.statistics.sendUmengEventV3("trending_words_click",a),location.href=i}}},e.prototype.stopEvent=function(t){t&&t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0,t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1},e.prototype.toggleAndroidSwipe=function(t){0===t?console.log("bytedance://enable_swipe"):console.log("bytedance://disable_swipe")},e.prototype.afterCarouselChange=function(){setTimeout(Q,50)},e.prototype.renderSearchLabelsSplit=function(t){var e=[];return t.forEach((function(n,r){if(r%6==5||r===t.length-1){for(var o=[],i=r-r%6;i<=r;i++)o.push(t[i]);e.push(o)}})),e},e.prototype._getSearchTag=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t,n){return g.a.createElement("a",{key:"search-tag"+n,id:"search-tag"+(n+e),className:"lable ","data-href":t.link,"data-index":n+e,"data-gid":t.group_id,"data-keyword":t.word},g.a.createElement("div",{className:"label-content"},t.word))}))},e.prototype._renderHtml=function(){var t=this,e=this.labels_words,n=this.uiStyle,r=this.title;if(e.length<1)return null;if(e.length>6){var o=this.renderSearchLabelsSplit(e),i=D().width;return g.a.createElement("div",{id:"search-show",className:"pcard search line-style"+(n?" auto-font":""),style:{width:i-30+"px"},onTouchStart:this.toggleAndroidSwipe.bind(this,1),onTouchMove:this.stopEvent.bind(this),onTouchEnd:this.toggleAndroidSwipe.bind(this,0),onTouchCancel:this.toggleAndroidSwipe.bind(this,0)},g.a.createElement("div",{className:"title"}," ",r," "),g.a.createElement(sn.a,{size:i-15,style:{width:i-15+"px",height:"135px"},swipeable:!0,afterChange:this.afterCarouselChange,transitionDuration:"500"},o.map((function(e,n){return g.a.createElement("div",{style:{width:i-15+"px"},key:"search-card-"+n},g.a.createElement("div",{className:"search-tag",onClick:t._clickSearchTag},t._getSearchTag(e,6*n)))}))))}return g.a.createElement("div",{id:"search-show",className:"pcard search line-style"+(n?" auto-font":"")},g.a.createElement("div",{className:"title"}," ",r," "),g.a.createElement("div",{className:"search-tag",onClick:this._clickSearchTag,id:"search-card"},this._getSearchTag(e)))},e.prototype.render=function(){return console.info("search",this.props),this._renderHtml()},e}(v.Component)),ln=(n(297),function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={score:0,scoreState:"toScore"},r._setCompVal(n),r._scoreArticle=r._scoreArticle.bind(r),r._unDoScore=r._unDoScore.bind(r),r._renderHtml=r._renderHtml.bind(r),r._sendAjax=r._sendAjax.bind(r),r._sendTrueAjax=r._sendTrueAjax.bind(r),r}return h()(e,t),e.prototype._setCompVal=function(t){var e=t.data,n=t.card||{},r=e.context||{},o=void 0,i=e.statisticsData||{};try{o=localStorage.getItem("article_detail_score")}catch(t){console.error(t)}this.scoredArticle=o,this.scoreCardInfoString=n.question,this.starInfo=["轻触打分","完全不符合","比较不符合","一般","较符合","完全符合"],this.showBottomLine=!0,(r&&r.labels&&r.labels.labels_words||[]).length>0&&(this.showBottomLine=!1),this.domID="score-card-wrap",this.hasScore=!1,this.gid=i.group_id,this.card=n,this.startTime=null,this.lastTimeOutThx=null,this.lastTimeOutDone=null},e.prototype.componentDidMount=function(){var t=this.props.addShowEvt;this.startTime=Date.now(),t&&t({domSelector:"#"+this.domID,value:"show_score_card",obj:{question_string:this.scoreCardInfoString,group_id:this.gid,style_type:"star"}})},e.prototype._scoreArticle=function(t){var e=this,n=t.target,r=n&&n.dataset||{},o=parseInt(r.index)+1;console.info("_scoreArticle",r.index),o&&(clearTimeout(this.lastTimeOutDone),this.setState({scoreState:"scoring",score:o},(function(){e.lastTimeOutDone=setTimeout((function(){e._sendAjax(o),e.setState({scoreState:"undo"})}),1500)})))},e.prototype._sendTrueAjax=function(t,e){console.info(arguments);var n=this.gid,r=this.scoreCardInfoString,o=this.scoredArticle,i=this.hasScore,s=this.startTime,c={evaluate_id:a()({gid:n,style:"star",string_id:r,interval:Date.now()-s}),survey_type:"point",prefer_id:t};if(e&&(c=dt({},c,e)),Qt("https://eva.snssdk.com/eva/survey.json",{param:c}),!i){o=o?o+","+n:n;try{localStorage.setItem("article_detail_score",o)}catch(t){console.error(t)}this.hasScore=!0}M.statistics.sendUmengEventV3("click_score_card",{score:t,question_string:r,group_id:n,click_interval:Date.now()-s,style_type:"star"})},e.prototype._sendAjax=function(t){M.client.isAndroid&&M.client.isNewsArticleVersionNoLessThan("6.2.5")||M.client.isIOS&&M.client.isNewsArticleVersionNoLessThan("6.2.6")?oe(this._sendTrueAjax.bind(this,t)):this._sendTrueAjax(t)},e.prototype._unDoScore=function(){this.setState({scoreState:"toScore",score:0})},e.prototype._renderHtml=function(){var t=this.showBottomLine,e=this._scoreArticle,n=this._unDoScore,r=this.domID,o=this.scoredArticle,i=this.gid,a=this.card,s=this.starInfo,c=this.state,l=c.scoreState,u=c.score;if(!M.client.isSeniorAndroid)return null;if(o&&o.split(",").indexOf(i)>-1)return null;return g.a.createElement("div",{id:r,className:"pcard score-star "+(t?"":"mtn30"),style:{marginTop:"15px"}},g.a.createElement("div",{className:"p-scorecard pcard-container "+(t?"pcard-vertical-border":"pcard-vertical-top-border")+("undo"===l?" moveUp":"")},g.a.createElement("div",{className:"pcard-clearfix score-wrapper"},g.a.createElement("div",{className:"info-wrapper "+("scoring"===l?"move":"")},g.a.createElement("div",{className:"title question pcard-h16 pcard-w1",style:{marginTop:"3px"}},a.question),g.a.createElement("div",{className:"title thx-letter pcard-h16 pcard-w1",style:{marginTop:"2px"}},s[u])),g.a.createElement("div",{onClick:e,className:"star-wrap"},g.a.createElement("span",{className:"star","data-index":"0","data-selected":u>0?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"1","data-selected":u>1?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"2","data-selected":u>2?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"3","data-selected":u>3?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"4","data-selected":u>4?"true":"false"}))),g.a.createElement("div",{className:"pcard-clearfix result-wrapper"},g.a.createElement("div",{className:"pcard-h16 pcard-w1 mt8"},"感谢你的反馈"),g.a.createElement("a",{onClick:n,className:"rescore-button pcard-h12 pcard-w1"},"重新打分"))))},e.prototype.render=function(){return this._renderHtml()},e}(v.Component)),un=(n(298),function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={score:n.card&&n.card.operate_history&&n.card.operate_history.score?parseInt(n.card.operate_history.score):0},"number"==typeof n.card.choice&&(r.state.score=n.card.choice,n.card.choice>0&&te.call("app.questionnaire",{selected:!0}),r.postData={gid:n.card.gid||"",qid:n.card.qid||0,request_info:{device_params:{did:1,device_platform:"",device_type:""},user_params:{user_id:0},app_params:{app_version:0}},token:n.card.token||""},oe((function(t){var e=t.device_id,n=t.device_platform,o=t.device_type,i=r.postData.request_info.device_params;i.did=+e,i.device_platform=n,i.device_type=o})),re((function(t){var e=t.user_id,n=void 0===e?0:e,o=t.appVersion,i=void 0===o?"":o,a=r.postData.request_info,s=a.user_params,c=a.app_params;s.user_id=+n,c.app_version=+i.split(".").join("")}))),r._setCompVal(n),r._scoreArticle=r._scoreArticle.bind(r),r._renderHtml=r._renderHtml.bind(r),r._sendAjax=r._sendAjax.bind(r),r.handleChoiceClick=r.handleChoiceClick.bind(r),r.contentEl=g.a.createRef(),r}return h()(e,t),e.prototype._setCompVal=function(t){var e=t.data,n=t.card||{},r=e.context||{},o=e.statisticsData||{},i=["轻触打分","很差","比较差","一般","比较好","很棒"];n.operate_method&&Array.isArray(n.operate_method)&&n.operate_method.forEach((function(t,e){t&&t.answer&&"string"==typeof t.answer&&t.answer.trim()&&e<i.length-1&&(i[e+1]=t.answer)})),this.scoreCardInfoString=n.operate_meta&&n.operate_meta.question?n.operate_meta.question:"您觉得本篇文章内容质量怎么样？",this.starInfo=i,this.showBottomLine=!0,(r&&r.labels&&r.labels.labels_words||[]).length>0&&(this.showBottomLine=!1),this.domID="score-card-wrap",this.gid=o.group_id,this.card=n,this.startTime=null,this.lastTimeOutDone=null},e.prototype.componentDidMount=function(){var t=this;this.startTime=Date.now(),this.contentEl.current&&tt("show",{dom:this.contentEl.current,callback:function(){oe((function(){t._appFetch({url:"https://i.snssdk.com/api/questionnaire/exposure/",method:"POST",data:c()({},t.postData,{request_info:a()(t.postData.request_info)}),needCommonParams:!0},(function(){return console.log("exposure")}))}))}})},e.prototype._scoreArticle=function(t){var e=this,n=t.target,r=n&&n.dataset||{},o=parseInt(r.index)+1;o&&this.setState({score:o},(function(){e._sendAjax(o)}))},e.prototype._appFetch=function(t,e){te.call("fetch",{url:t.url||"",method:t.method||"GET",params:t.params||{},data:t.data||{},header:t.header||{},needCommonParams:t.needCommonParams||!0},(function(t){if((t=t.data||t).response){var n=t.response;try{n=JSON.parse(n)}catch(t){n={}}t.responseData=n}"function"==typeof e&&e(t)}))},e.prototype._sendAjax=function(t){var e=this.gid,n=this.startTime,r=this.props.data.statisticsData||{},o={gid:e,score:t};this._appFetch({url:"http://i.snssdk.com/mp/agw/qingyun/post_qingyun_score",method:"POST",data:o,needCommonParams:!0},(function(t){var e=t.responseData,n=void 0===e?null:e;n&&0==n.code?te.call("toast",{text:"已提交\n谢谢您的反馈"}):te.call("toast",{text:"系统错误",icon_type:"icon_error"})})),M.statistics.sendUmengEventV3("bottom_article_score",{score:t,group_id:e,click_interval:Date.now()-n,category_name:r.category_name,is_qingyun:1})},e.prototype.handleChoiceClick=function(t){var e=+t.currentTarget.dataset.value||0;this.setState({score:e}),te.call("app.questionnaire",{selected:!0}),this._appFetch({url:"https://i.snssdk.com/api/questionnaire/feedback/",method:"POST",data:c()({},this.postData,{request_info:a()(this.postData.request_info),choice:e}),needCommonParams:!0},(function(t){t.responseData?te.call("toast",{text:"感谢反馈",icon_type:"icon_success"}):te.call("toast",{text:"网络条件较差，请稍后重试",icon_type:"icon_error"})}))},e.prototype._renderIconFeedback=function(){var t=this,e=this.state.score,n=this.props.card.answers,r=void 0===n?[]:n,o=2===r.length?"horizontal":"",i=function(t){return e>0?e===t?"selected":"unselected":""};return g.a.createElement("div",{className:"choices-container "+(5===r.length?"choice-5":""),ref:this.contentEl},r.map((function(e){var n=e.answer_id,r=e.answer;return g.a.createElement("div",{className:"choice-container "+o+" "+i(n),key:n,onClick:t.handleChoiceClick,"data-value":n},g.a.createElement("div",{className:"icon choice-icon-"+n}),g.a.createElement("div",{className:"choice-text-block"},g.a.createElement("div",{className:"choice-text"},r)))})))},e.prototype._renderStarFeedback=function(){var t=this,e=this.state.score,n=this.props.card.answers,r=void 0===n?[]:n;return g.a.createElement(v.Fragment,null,g.a.createElement("div",{className:"star-wrap feedback",ref:this.contentEl},[1,2,3,4,5].map((function(n){return g.a.createElement("span",{key:n,className:"star "+(e===n?"selected":""),"data-index":n-1,"data-selected":e>=n?"true":"false",onClick:t.handleChoiceClick,"data-value":n})}))),g.a.createElement("div",{className:"title thx-letter pcard-h12 "+(e?"selected":""),style:{marginTop:"12px"}},e>0&&e<=r.length?r[e-1].answer:"轻触打分"))},e.prototype._renderOldScore=function(){var t=this._scoreArticle,e=this.starInfo,n=this.state.score;return g.a.createElement(v.Fragment,null,g.a.createElement("div",{onClick:t,className:"star-wrap"},g.a.createElement("span",{className:"star","data-index":"0","data-selected":n>0?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"1","data-selected":n>1?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"2","data-selected":n>2?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"3","data-selected":n>3?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"4","data-selected":n>4?"true":"false"})),g.a.createElement("div",{className:"title thx-letter pcard-h12",style:{marginTop:"12px"}},n>-1&&n<e.length?e[n]:e[0]))},e.prototype._renderHtml=function(){var t=this.domID,e=this.scoreCardInfoString,n=this.props.card,r=n.show_type,o=n.question_title,i=null;switch(r){case 1:i=this._renderIconFeedback(),e=o;break;case 2:i=this._renderStarFeedback(),e=o;break;default:i=this._renderOldScore()}return g.a.createElement("div",{id:t,className:"pcard nscore-star "},g.a.createElement("div",{className:"p-scorecard pcard-container "},g.a.createElement("div",{className:"pcard-clearfix score-wrapper"},g.a.createElement("div",{className:"info-wrapper "},g.a.createElement("div",{className:"title question pcard-h16 pcard-w1",style:{marginTop:"14px"}},e))),i))},e.prototype.render=function(){return this._renderHtml()},e}(v.Component)),dn=(n(299),function(t){function e(){return u()(this,e),p()(this,t.apply(this,arguments))}return h()(e,t),e.prototype.render=function(){var t=this.props.data.context,e=(t||{}).read_count,n=M.fmt.formatCount(e,"0");return t?void 0===e?null:g.a.createElement("div",{className:"info"},g.a.createElement("div",{className:"article-info"},g.a.createElement("span",{className:"brow-count"},n,"阅读"))):g.a.createElement("div",{className:"info"})},e}(v.Component)),pn=(n(300),function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.followDisabled=!1,r.followSource={pgc:30,wenda:28},r.followFrom={pgc:"article_detail",wenda:"answer_detail_top_card"},r.state={followState:n.userInfo&&n.userInfo.followState,followDisabled:!1,updateFollowStateFromUserAction:!1},r}h()(e,t),e.prototype.followActionHandler=function(){this.setState({updateFollowStateFromUserAction:!0,followDisabled:!0});var t=this.props.userInfo,e=this.state.followState,n={id:t.userId,action:e?"unfollow":"dofollow",source:"30",from:"article_detail"},r=this;U.a.invoke("user_follow_action",n,(function(t){r.followDisabled=!1,t&&1==+t.code?r.setState({followState:e?"":"following",followDisabled:!1}):r.setState({followState:e?"following":"",followDisabled:!1})})),this.props.clickActionHandler()},e.prototype.componentDidMount=function(){var t=this.props.userInfo,e=this;zt.on("pageStateChange",(function(n){switch(n.type){case"user_action":case"pgc_action":n.id==t.userId&&"status"in n&&(e.setState({followState:n.status?"following":"",followDisabled:!1,updateFollowStateFromUserAction:!0}),e.followDisabled=!1)}}))},e.prototype.componentWillUnmount=function(){zt.off("pageStateChange")},e.getDerivedStateFromProps=function(t,e){return e.updateFollowStateFromUserAction?{followState:e.followState}:{followState:t.userInfo.followState}},e.prototype.render=function(){this.props.setting;var t="subscribe-button follow-button"+this.state.followState+(this.state.followDisabled?" disabled":"");return g.a.createElement("button",{className:t,id:"subscribe",onClick:this.followActionHandler},g.a.createElement("i",{className:"iconfont focusicon"}," "))}}(g.a.Component),n(301),function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={showCurrentUserInRewardsList:!1,rewardsNum:n.data.likeAndRewards&&n.data.likeAndRewards.rewards_num||0},r}h()(e,t),e.prototype.renderVIcon=function(){var t=this.props.data||{},e=t.setting,n=t.userData;if(e.useServerV&&n.auth_type){var r=Object(M.buildServerVIcon)(n.auth_type,"avatar_icon",e.user_verify_info_conf);if(r)return g.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}})}return""},e.prototype.renderRewardList=function(t){var e=t.rewards_list,n=t.rewards_list_url,r=(this.state.rewardsNum>3?"等":"")+this.state.rewardsNum+"个人赞赏过",o=e&&Array.isArray(e)?e.length:0,i=o<3?3-o:0;return g.a.createElement("a",{className:"reward-list",href:n,onClick:this.enterRewardsList},g.a.createElement("div",{className:"avatar-list"},e&&e.map((function(t,e){if(e<3)return g.a.createElement("div",{className:"avater-wrap",key:e},g.a.createElement("img",{className:"avater",src:t.avatar_url,alt:""}))})),i&&this.state.showCurrentUserInRewardsList?this.state.currentUserAvatarList.map((function(t,e){if(e<i)return g.a.createElement("div",{className:"avater-wrap",key:"current"+e},g.a.createElement("img",{className:"avater",src:t,alt:""}))})):null),g.a.createElement("div",{className:"info"},r))},e.prototype.showRewards=function(t){var e=this.props.data||{},n=(e.context,e.statisticsData),r=e.userData;e.likeAndRewards;M.statistics.sendUmengEventV3("rt_reward",{media_id:r.mediaId,item_id:n.item_id,group_id:n.group_id,enter_from:n.enter_from,category_name:n.category_name,log_pb:n.log_pb,position:"detail",is_column:1}),location.href=this.props.data.likeAndRewards.rewards_open_url},e.prototype.followHandler=function(){var t=this.props.data||{},e=(t.likeAndRewards,t.userData);this.state.followState,e.userId},e.prototype.profileClickHandler=function(){(this.props.data||{}).userData},e.prototype.enterRewardsList=function(){var t=this.props.data||{},e=(t.context,t.statisticsData),n=t.userData;M.statistics.sendUmengEventV3("reward_user_view",{media_id:n.mediaId,item_id:e.item_id,group_id:e.group_id,enter_from:e.enter_from,category_name:e.category_name,log_pb:e.log_pb,is_column:1})},e.prototype.componentDidMount=function(){var t=this.props.data||{},e=t.statisticsData,n=t.userData,r=this;M.statistics.sendUmengWhenTargetShown(this.dom,"show_reward","",{media_id:n.mediaId,item_id:e.item_id,group_id:e.group_id,enter_from:e.enter_from,category_name:e.category_name,log_pb:e.log_pb,is_column:1},!0,{version:3}),zt.on("pageStateChange",(function(t){"donate_action"==t.type&&t.id==e.group_id&&"status"in t&&t.status&&U.a.invoke("getCurrentUserAvatar",{},(function(t){var e=r.state.currentUserAvatarList;t&&t.avatar_url&&e.push(t.avatar_url),r.setState({showCurrentUserInRewardsList:!0,rewardsNum:this.state.rewardsNum+1,currentUserAvatarList:e})}))}))},e.prototype.render=function(){var t=this,e=this.props.data||{},n=e.likeAndRewards,r=e.userData;e.setting;return g.a.createElement("div",{className:"article-bottom-user",ref:function(e){t.dom=e}},g.a.createElement("a",{href:r.link,onClick:this.profileClickHandler},g.a.createElement("div",{className:r.user_decoration&&r.user_decoration.url?"avatar avatar-width-decoration":"avatar"},g.a.createElement("div",{className:"avatar-wrap"},g.a.createElement("img",{className:"avatar-image",src:r.avatar,alt:"头像"})),this.renderVIcon()),r.user_decoration&&r.user_decoration.url?g.a.createElement("div",{className:"avatar-decoration","aria-hidden":"true",style:{backgroundImage:"url("+r.user_decoration.url+")"}}):null,g.a.createElement("div",{className:"avatar-decoration avatar-night-mask","aria-hidden":"true"}),g.a.createElement("div",{className:"name-wrap"},g.a.createElement("div",{className:"name"},r.name)),r.intro?g.a.createElement("div",{className:"desc"},r.intro):null),g.a.createElement("div",{className:"buttons"},M.client.isAndroid&&n&&n.rewards_open_url?g.a.createElement("button",{className:"reward",onClick:this.showRewards},"赞赏"):null),M.client.isAndroid&&this.state.rewardsNum>0?this.renderRewardList(n):null)}}(g.a.Component),n(302),function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.wrapDOM=null,r.clickHandler=r.clickHandler.bind(r),r}return h()(e,t),e.prototype.setCompVal=function(){var t=document.querySelector("article");t&&(this.wrapDOM=document.createElement("p"),t.appendChild(this.wrapDOM))},e.prototype.componentDidMount=function(){M.statistics.sendUmengWhenTargetShown(this.dom,"bottom_banner_show","",{media_id:bt("author.mediaId")||"",group_id:bt("statistics.group_id")||"",banner_id:this.props.data.context.highQualityArticle.banner_id||0,banner_category:"boutique"},!0,{version:3})},e.prototype.clickHandler=function(){M.statistics.sendUmengEventV3("bottom_banner_click",{media_id:bt("author.mediaId")||"",group_id:bt("statistics.group_id")||"",banner_id:this.props.data.context.highQualityArticle.banner_id||0,banner_category:"boutique"})},e.prototype.render=function(){var t=this,e=this.props.data.context,n=e.new_infor_action,r=2!=n&&n?"category-guide-b":"category-guide";return g.a.createElement("a",{className:r,href:e.highQualityArticle.schema,onClick:this.clickHandler,ref:function(e){t.dom=e}},e.highQualityArticle.title,g.a.createElement("i",{className:"iconfont icon-rarrow"}))},e}(v.Component)),fn=(n(303),function(t){function e(){return u()(this,e),p()(this,t.apply(this,arguments))}return h()(e,t),e.prototype.clickBanner=function(t){location.href=t},e.prototype.render=function(){var t=this,e=this.props.data,n=e.image,r=e.description,o=e.link;return n?g.a.createElement("div",{className:"article-bottom-banner"},g.a.createElement("img",{className:"banner-image",src:n,alt:r,onClick:function(){return t.clickBanner(o)}})):null},e}(v.Component)),hn=jt(pn),mn=jt(dn),_n=jt(un),vn=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={data:{}},r._addShowEvt=r._addShowEvt.bind(r),r._getCards=r._getCards.bind(r),r._getBeforeFooterDom=r._getBeforeFooterDom.bind(r),r._getAfterFooterDom=r._getAfterFooterDom.bind(r),r.statisticsData=bt("statistics")||{},r.canBroadcastCardsEvent=!0,r}return h()(e,t),e.prototype._addShowEvt=function(t){tt("show",t)},e.prototype._getCards=function(t){var e=t.context||{},n=e.cards||[],r=n.length;this.canBroadcastCardsEvent&&(window.cardEvent&&window.cardEvent.cardSafeBroadcast(["cards",document.querySelector(".footer-cards-container"),e],(function(){var t=e.cards&&e.cards.length&&e.cards[0].type;t&&window.cardsMonitor&&window.cardsMonitor(".footer-cards-container","footer",1e3,{card_type:t})})),this.canBroadcastCardsEvent=!1);var o={score:ln,nscore:un};return r>0?n.map((function(e,n){var r=o[e.type];if(r){var i=jt(r);return g.a.createElement(i,{key:r+"-comp"+n,card:e,data:t})}return null})):null},e.prototype._getBeforeFooterDom=function(t){var e={context:t.context,statisticsData:this.statisticsData,setting:t.setting,userData:bt("author")||{}};if(t.context){var n={context:t.context,statisticsData:this.statisticsData,setting:t.setting},r=bt("article.showBottomBanner",!1),o=bt("article.bottomBanner",{});return g.a.createElement(v.Fragment,null,g.a.createElement(mn,{data:e}),t.context.highQualityArticle?g.a.createElement(hn,{data:n}):null,r?g.a.createElement(fn,{data:o}):null,t.context.score_card?g.a.createElement(_n,{card:t.context.score_card.detail,data:t}):null,t.context.operate_info&&!t.context.score_card?g.a.createElement(_n,{card:t.context.operate_info,data:t}):null)}return g.a.createElement(mn,{data:e})},e.prototype._getAfterFooterDom=function(t){var e=void 0;try{e=t.context.labels.labels_words.length}catch(t){return null}return e<1?null:g.a.createElement(cn,{data:t})},e.prototype.render=function(){var t=this.props.data||{},e=c()({},t,{addShowEvt:this._addShowEvt,statisticsData:this.statisticsData});return g.a.createElement(v.Fragment,null,this._getBeforeFooterDom(e),g.a.createElement("div",{className:"footer-before-cards-container"}),g.a.createElement("div",{className:"footer-cards-container"},t.context?this._getCards(e):null),t.context?this._getAfterFooterDom(e):null)},e}(v.Component),gn=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));if(r.ele=document.createElement(n.tag||"div"),"footer"===n.tag)if(n.parentDom)n.parentDom.parentNode!=document.body&&document.body.appendChild(n.parentDom);else{r.parentDom=document.createElement("footer");var o=document.querySelector("#toutiao_ios_footer_div");o?o.parentNode.insertBefore(r.parentDom,o):document.body.appendChild(r.parentDom)}if("header"===n.tag)if(n.parentDom){if(n.parentDom.parentNode!=document.body){var i=document.body.children[0];document.body.insertBefore(n.parentDom,i)}}else{r.parentDom=document.createElement("header");var a=document.body.children[0];document.body.insertBefore(r.parentDom,a)}if("article"===n.tag)if(n.parentDom){if(n.parentDom.parentNode!=document.body){var s=document.body.children[0];document.body.insertBefore(n.parentDom,s)}}else{r.parentDom=document.createElement("article");var c=document.body.children[0];document.body.insertBefore(r.parentDom,c)}return r.parentDom=r.parentDom||n.parentDom||document.body,r}return h()(e,t),e.prototype.componentDidMount=function(){this.props.replaceFlag?this.parentDom.parentNode.replaceChild(this.ele,this.parentDom):this.parentDom.appendChild(this.ele)},e.prototype.componentWillUnmount=function(){},e.prototype.render=function(){return w.a.createPortal(this.props.children,this.ele)},e}(v.Component),yn=function(){function t(){u()(this,t),console.info("DiversionIFrame");var e=this._iframe=document.createElement("iframe");e.setAttribute("id","diversion2transcode"),e.setAttribute("sandbox","allow-scripts allow-same-origin"),e.style.width=0,e.style.height=0,e.style.display="none",document.documentElement.appendChild(e),this._loaded=!1}return t.prototype.loadAsync=function(t){var e=this;!this._loaded&&t&&(this._sid=setTimeout((function(){e._iframe.src=t,e._loaded=!0,e._sid=null}),100))},t.prototype.destroy=function(){this._sid&&clearTimeout(this._sid),this._loaded&&(this._iframe.src="about:blank",this._loaded=!1)},t}();function wn(t,e){var n=t.audio_info;return e&&e.audio_info&&(n=e.audio_info),n}var bn=jt(Re),En=jt(on),Sn=jt(vn),xn=new yn,Tn=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={data:{}},r.lastSetH5ExtraFlag=!1,r.setArticle=r.setArticle.bind(r),r.setWebContentUrl=r.setWebContentUrl.bind(r),r.article=null,r}return h()(e,t),e.prototype.setArticle=function(t,e){if(t&&"v55"!==t&&!e){var n=t.indexOf("<article>"),r=t.indexOf("</article>"),o=t.substring(n+9,r),i=t.indexOf("<header>"),a=t.indexOf("</header>"),s=t.substring(i+8,a);return window.felog("fe_setContent","start_setarticle"),$("article").html(o),window.felog("fe_setContent","end_setarticle"),!e&&s.indexOf("authorbar")>0&&($("header").html(s),M.client.isNewsArticleVersionNoLessThan("7.2.7")&&!0!==window.hadSentDomready&&(M.statistics.sendBytedanceRequest("domReady?setContentTimeStamp="+window.startTimestamp+"&domreadyTimeStamp="+ +new Date+"&isHTMLRender=1&articleVersion=1841"),window.hadSentDomready=!0,M.statistics.sendUmengEventV3("article_web_extra_info",{version:"1841",duration:+new Date-window.startTimestamp,group_type:window.APP_VERSION,action_type:"html_render"}),window.felog("fe_setContent","send_domReady"),window.felog("fe_isHTMLRender","1"))),_()("sendCustomTimeLog","end_bind_content","iphone_"+window.APP_VERSION,+new Date-window.startTimestamp),t}return e&&t&&"v55"!==t?e:null},e.prototype.setWebContentUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.articleWebContentUrl;e&&xn.loadAsync(e)},e.prototype.componentDidMount=function(){At("click","article a",(function(t){if(!t.currentTarget.classList.contains("image")){var e=t.currentTarget.href;if(e){var n=bt("statistics")||{},r=n.enter_from,o=n.category_name,i=n.group_id,a=n.log_pb,s=n.g_source;M.statistics.sendUmengEventV3("external_link_click",{enter_from:r,category_name:o,group_id:i,log_pb:a,group_source:s,source:s,url_click:e})}}}))},e.prototype.componentWillUnmount=function(){xn.destroy(),Dt("click","article a")},e.prototype.componentDidUpdate=function(){document.querySelector("#header")&&!window.hadSentRenderFinish&&(M.statistics.sendBytedanceRequest("renderFinish?timeStamp="+(new Date).getTime()),window.felog("fe_renderFinish","called"),window.hadSentRenderFinish=!0)},e.prototype.render=function(){var t,e,n=this.props,r=n.context,o=n.h5Extra,i=n.content,a=void 0,s=void 0,l=void 0;this.article=this.setArticle(i,this.article),this.setWebContentUrl(o),t=function(t,e,n){if(!t||!n)return null;var r=t.article||{},o=t.author||{};if(window.receivedEmptyExtra&&(!t||!t.article.title)){var i=n.indexOf('<div class="tt-title">'),a=n.substring(i+22),s=a.indexOf("</div>");a=a.substring(0,s),r=c()({},t.article,{title:a}),o=c()({},t.author,{show:!1})}return{article:r,author:o,setting:t.h5_settings,useServerV:t.useServerV,hasExtraSpace:t.hasExtraSpace,hideFollowButton:t.hideFollowButton,redPack:e?e.red_pack:null,statistic:t.statistics,audioInfo:wn(t,e)}}(o,r,i),e=function(t,e,n){return t&&n?{setting:t.h5_settings,statistic:t.statistics,context:e,article:t.article}:null}(o,r,i),a=r&&r.car_image_info?r.car_image_info:null,s=r&&r.stock_dingpan_desc?r.stock_dingpan_desc:null,l=r&&r.article_img_stocks?r.article_img_stocks:null;var u=document.querySelector("footer");return M.client.isIOS&&(0===M.client.newsArticleVersion.indexOf("7.3.9")||0===M.client.newsArticleVersion.indexOf("7.4.0"))&&!u.classList.contains("footer-bottom")&&u.classList.add("footer-bottom"),g.a.createElement(v.Fragment,null,g.a.createElement(gn,{parentDom:document.querySelector("header"),replaceFlag:"1",tag:"header"},t?g.a.createElement(bn,{data:t}):null),t?g.a.createElement(En,{carImage:a,stockImage:s,stockTrendImage:l,context:r}):null,e?g.a.createElement(gn,{parentDom:u,replaceFlag:"1",tag:"footer"},g.a.createElement(Sn,{data:e})):null)},e}(v.Component),On=function(t){function e(n){return u()(this,e),p()(this,t.call(this,n))}return h()(e,t),e.prototype.tellNativeHeaderMess=function(){[{domSelector:"#profile",JsBridge:"showTitleBarPgcLayout"},{domSelector:".wenda-title",JsBridge:"showWendaABHeaderLayout"}].forEach((function(t,e){tt("header",t)}))},e.prototype.componentDidMount=function(){var t=this.props.data;if(t&&t.article&&"wenda"===t.article.type){var e=0,n=0,r=Object(y.findDOMNode)(this._title),o=Object(y.findDOMNode)(this._author);r&&(e=r.getBoundingClientRect().height),o&&(n=o.getBoundingClientRect().height+20+e),U.a.invoke("onGetHeaderAndProfilePosition",{header_position:e,profile_position:n})}M.client.isAndroid&&this.tellNativeHeaderMess()},e.prototype.render=function(){var t=this,e=this.props.data;return e&&e.article&&e.article.type?(console.info("wendaHeader",e),g.a.createElement("div",{id:"header"},g.a.createElement(Ft,c()({},e,{ref:function(e){t._title=e}})),e.author.show?g.a.createElement(De,c()({},e,{ref:function(e){t._author=e}})):g.a.createElement("div",{style:{height:"20px"}}))):null},e}(g.a.Component),Cn=(n(304),function(t){function e(){return u()(this,e),p()(this,t.apply(this,arguments))}return h()(e,t),e.prototype.enlargeImg=function(t,e){console.info("enlargeImg",e,t);var n=this.props.imageList,r=e.target,o="https://p1.pstatp.com/list/400x400/"+n[t].web_uri,i=/^https:\/\/p1.pstatp.com\/list\/400x400\//;if(o){var a=function(t){for(var e=t.offsetParent,n=t.offsetLeft,r=t.offsetTop;null!==e;)n+=e.offsetLeft+e.clientLeft,r+=e.offsetTop+e.clientTop,e=e.offsetParent;return{left:n,top:r}}(r),s=r.getBoundingClientRect();i.test(o)&&o.replace(i,"https://p1.pstatp.com/large"),location.href="bytedance://full_image?index="+t+"&url="+o+"&left="+a.left+"&top="+a.top+"&width="+Math.round(s.width)+"&height="+Math.round(s.height)}},e.prototype.render=function(){var t=this,e=this.props.imageList,n=e.length,r="";return r=1===n?" col-1":2===n||4===n?" col-2":" col-3",g.a.createElement("div",{className:"pic-cell-wenda col-3 "+r},e.map((function(e,r){return g.a.createElement("div",{className:"pic-cell-pic",key:"image"+r,onClick:t.enlargeImg.bind(t,r)},g.a.createElement("div",{className:"pic-cell-pic-inner"},g.a.createElement("div",{className:"pic-cell-pic-c"},1===n?g.a.createElement("img",{"data-index":r,src:"https://p1.pstatp.com/large/"+e.web_uri}):g.a.createElement("img",{"data-index":r,width:"400",height:"400",src:"https://p1.pstatp.com/list/400x400/"+e.web_uri}))))})))},e}(v.Component)),kn=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={videoPropsArr:[]},console.info("[component/WuKongImage]"),r.setCompVal(),r}return h()(e,t),e.prototype.setCompVal=function(){var t=document.querySelector("article");this.wrapDOM=document.createElement("div"),t.appendChild(this.wrapDOM),this.wrapDOM.classList.add("has-wenda-pic-cell")},e.prototype.render=function(){return Object(y.createPortal)(g.a.createElement(Cn,{imageList:this.props.imageList}),this.wrapDOM)},e}(v.Component),Nn=(n(305),jt(De),{answer:"paid_question_write_answer",append:"paid_question_ask_more_detail",supplement:"paid_question_write_more_detail"}),In=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.refuseAnswer=r.refuseAnswer.bind(r),r.gotoBuyHandler=r.gotoBuyHandler.bind(r),r.state={},r}return h()(e,t),e.prototype.componentDidMount=function(){U.a.invoke("checkAssets",{channel:"learning_lazy",type:"web"})},e.prototype.gotoAnswer=function(t){var e=this.props.wendaExtra,n=void 0===e?{}:e,r=n.question.pay_status,o=2==r?"ask_more_detail":"waiting_for_answer";if(2!=n.question.user_role||2!=r&&!n.question.append_time||"append"!==t){var i={section:o,qid:n.qid};switch("supplement"===t&&(i.to_user_id=n.question.answerer.user_id),M.statistics.sendUmengEventV3(Nn[t],i),t){case"answer":location.href=n.answer_schema;break;case"append":location.href=n.append_schema;break;case"supplement":location.href=n.supplement_schema||"sslocal://wenda_paid_question_supplenment?is_paid_mode=1&api_param=%7B%7D&gd_ext_json=%7B%7D&paid_question_id="+n.qid}}else U.a.invoke("toast",{text:"仅限追问一次"})},e.prototype.refuseAnswer=function(){var t=this,e=this.props.wendaExtra,n=void 0===e?{}:e,r=2==n.question.pay_status?"ask_more_detail":"waiting_for_answer";M.statistics.sendUmengEventV3("paid_question_deny",{section:r,qid:n.qid});U.a.invoke("alert",{title:"确认放弃回答？",message:"放弃回答将无法获得本次咨询费用，请确认是否放弃回答",confirm_text:"确认",cancel_text:"取消"},(function(e){if(M.statistics.sendUmengEventV3(1==e.code?"paid_question_deny_confirm":"paid_question_deny_cancel",{section:r,qid:n.qid}),1==e.code){var o={url:"https://i.snssdk.com/wenda/v1/commit/postpayquestionrefuse/",method:"POST",params:{},data:{qid:n.qid},header:{},needCommonParams:!0};U.a.invoke("fetch",o,(function(e){var r={};try{r=JSON.parse(e.response)}catch(t){console.error(t)}1==e.code&&0==r.err_no?t.setState({is_refuse:!0}):U.a.invoke("toast",{text:e.err_tips||"服务异常，请稍后再试"}),te.call("app.wendaPayStatusChange",{current_status:"refuse_answer",qid:n.qid})}))}}))},e.prototype.gotoBuyHandler=function(){var t=this.props,e=t.wendaExtra,n=void 0===e?{}:e,r=t.statistic,o=t.author;M.statistics.sendUmengEventV3("paid_wenda_onlook",{category_name:r.category_name,enter_from:r.enter_from,qid:n.qid,ansid:n.ansid,group_id:n.ansid,question_price:n.question.purchased_price/100,to_user_id:o.userId}),U.a.invoke("is_login",{},(function(t){t&&(t.is_login||1==t.code)?location.href=n.watcher_purchase_schema:U.a.invoke("login",{platform:""})}))},e.prototype.render=function(){var t=this.props,e=t.wendaExtra,n=void 0===e?{}:e,r=t.idealWebviewHeight;if(document.querySelector("article").classList.remove("pay-wenda"),n.question&&n.question.is_pay_wenda){var o=n.question,i=n.question.user_role,a=n.question.pay_status;if(1==i&&(0==a||1==a||2==a)){if(2==a)return g.a.createElement("div",{className:"wait-answer-with-append wenda-pay-article-wrap",style:{minHeight:"0px"}},g.a.createElement("button",{className:"answer-button"},"补充问题"));var s=o.answerer,c={userId:s.user_id,name:s.uname,link:s.user_schema+"&from_page=answer_detail_top_card",intro:s.user_intro,avatar:s.avatar_url,isAuthorSelf:!1,verifiedContent:s.is_verify?"PLACE_HOLDER":"",medals:s.medals,followState:s.is_following?"following":"",show:!0},l={auth_type:"",auth_info:""};try{l=JSON.parse(s.user_auth_info)}catch(t){}return c.auth_type=s.user_auth_info?l.auth_type||0:"",c.auth_info=l.auth_info,{article:this.props.article,author:c,setting:this.props.setting,useServerV:this.props.useServerV,hasExtraSpace:!1,hideFollowButton:!1,statistic:this.props.statistic,wendaExtra:n,wendaContext:null},g.a.createElement("div",{className:"wenda-pay-article-wrap"},g.a.createElement("div",{className:"wait-answer"},g.a.createElement("a",{className:"user",href:s.user_schema},g.a.createElement("img",{src:s.avatar_url}),g.a.createElement("span",null,s.uname)),g.a.createElement("div",null,"还没有回答你的问题，请耐心等待")))}if(2==i&&(this.state.is_refuse||o.is_refuse||3==a))return g.a.createElement("div",{className:"refuse-answer"},g.a.createElement("div",{className:"text"},this.state.is_refuse||o.is_refuse?"你已放弃回答，问题关闭":"问题超过48小时未回答，已关闭"));if(2==i&&(1==a||2==a)&&void 0!==r)return g.a.createElement("div",{className:"need-answer wenda-pay-article-wrap",style:{minHeight:Math.max(r,0)+"px"}},g.a.createElement("div",{className:"button-wrap"},g.a.createElement("button",{className:"answer",onClick:this.gotoAnswer.bind(this,"answer")},"立即回答"),g.a.createElement("div",{className:"sub-button-groups"},g.a.createElement("div",{className:"sub-button "+(2==a||o.append_time?"disabled":""),onClick:this.gotoAnswer.bind(this,"append")},g.a.createElement("div",{className:"text"},"问题不清楚"),g.a.createElement("div",{className:"sub-text"},"立即追问")),g.a.createElement("div",{className:"sub-button",onClick:this.refuseAnswer},g.a.createElement("div",{className:"text"},"无法回答"),g.a.createElement("div",{className:"sub-text"},"放弃咨询费用")))),2==a||o.append_time?null:g.a.createElement("div",{className:"info-wrap"},g.a.createElement("div",{className:"text"},"该问题在 ",n.question.deadline," 前回答有效"),g.a.createElement("div",{className:"text"},"回答可获得",g.a.createElement("span",{className:"money"}," ",n.question.purchased_price/100,"元 "),"咨询费用")));if(1==i&&3==a)return g.a.createElement("div",{className:"refuse-answer"},g.a.createElement("div",{className:"title-text"},"问题关闭"),g.a.createElement("div",{className:"sub-text"},"对方无法回答你的问题，费用将会在24小时内",M.client.isAndroid?"原路退回":"退回「我的-钱包-头条币」中","，问问其他人吧"));if(3==i&&4==a&&!o.has_purchased)return document.querySelector("article").classList.add("pay-wenda"),g.a.createElement("div",{className:"need-pay-answer"},g.a.createElement("div",{className:"rectangle"}),g.a.createElement("div",{className:"story-lock",onClick:this.gotoBuyHandler},g.a.createElement("div",{className:"icon"}),g.a.createElement("div",{className:"info"},o.purchased_price/100||0,M.client.isAndroid?"元":"币"," 付费围观")))}return null},e}(v.Component),An=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={videoPropsArr:[]},r.setCompVal(),r}return h()(e,t),e.prototype.setCompVal=function(){var t=document.querySelector("article");this.wrapDOM=document.createElement("div"),t.appendChild(this.wrapDOM),this.wrapDOM.classList.add("wenda-pay-article")},e.prototype.render=function(){return Object(y.createPortal)(g.a.createElement(In,this.props),this.wrapDOM)},e}(v.Component),Dn=jt(An),Rn=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={render:!1},r.cardHtml=null,r.canBroadcastCardsEvent=!0,r.setCompVal(),r.wukongImageHtml=r.wukongImageHtml.bind(r),r.checkWindowSize=r.checkWindowSize.bind(r),r.fixArticle=r.fixArticle.bind(r),r.onCarouselImageSwitch=r.onCarouselImageSwitch.bind(r),r}return h()(e,t),e.prototype.setCompVal=function(){this.imageSizeInitTimer=null,this.wenda=bt("wenda_extra")||{},this.statisticsData=bt("statistics")||{}},e.prototype.checkWindowSize=function(){var t=this,e=window.innerWidth-30,n=window.innerHeight;this.statisticsData=bt("statistics"),console.info("checkWindowSize",e,n),e<=0||n<=0?this.imageSizeInitTimer=setTimeout((function(){t.checkWindowSize()}),0):(window.addEventListener("scroll",ue),this.setState({render:!0},(function(){Q()})),window.onresize=function(){var t=D().width;console.info(t,"width onresize"),t&&Ie.resizeImage(t-30)},Ie.initImageProcess(ue),Pe())},e.prototype.fixArticle=function(){var t=bt("h5_settings")||{},e=bt("statistics")||{};Je(t),Ve(),Xe(e)},e.prototype.componentDidMount=function(){var t=this;this.checkWindowSize(),this.fixArticle(),Wt.cardSafeBroadcast(["card-render",document.querySelector("body")]),setTimeout((function(){document.body.classList.remove("opacity")}),0),zt.on("pageStateChange",(function(e){"carousel_image_switch"===e.type&&t.wenda&&!t.wenda.is_light&&t.wenda.ansid==e.id&&t.onCarouselImageSwitch(e.status)}))},e.prototype.onCarouselImageSwitch=function(t){Ie.fetchOneImage(t)},e.prototype.componentWillUnmount=function(){clearTimeout(this.imageSizeInitTimer),de(),window.removeEventListener("scroll",ue),zt.off("pageStateChange")},e.prototype.wukongImageHtml=function(){var t=this.props.data,e=(void 0===t?{}:t).wendaExtra,n=void 0===e?{}:e;if(n.question&&n.question.is_pay_wenda){var r=n.question.user_role,o=n.question.pay_status,i=n.question.has_purchased;if(4!=o)return;if(3==r&&!i)return}var a=this.wenda,s=a.image_list||[];return s.length>0&&a.is_light?g.a.createElement(kn,{imageList:s}):null},e.prototype.renderPayAnswer=function(){var t=this.props,e=t.data,n=void 0===e?{}:e,r=t.idealWebviewHeight,o=n.wendaExtra,i=void 0===o?{}:o;return i.question&&i.question.is_pay_wenda?g.a.createElement(Dn,c()({},n,{idealWebviewHeight:r})):null},e.prototype.render=function(){var t=this.state.render;return console.info("wendaArticleRender",t),t?g.a.createElement(v.Fragment,null,g.a.createElement(He,null),this.wukongImageHtml(),this.renderPayAnswer()):null},e}(v.Component),Ln=(n(306),function(t){console.info("WendaFooterComp",t);var e=t.data,n=(e.article,e.wendaExtra||{}),r=e.wendaContext||{},o=parseInt(n.wd_version),i=r.is_buryed,a=n.detail_related_report_style;function s(){U.a.invoke("dislike",{options:17})}function c(t){var e=t.target;U.a.invoke("dislike",{options:17},(function(t){t.err_no||(window.wendaOppose?o>=8&&(e.classList.remove("is-buryed"),e.innerHTML="反对",window.wendaOppose=!window.wendaOppose):(e.classList.add("is-buryed"),e.innerHTML="已反对",window.wendaOppose=!window.wendaOppose))}))}window.wendaOppose=i;return r.linkurl||r.is_author||o>=6&&(o<13||2!=a&&3!=a)||0==a&&o<6?g.a.createElement("div",{className:"wd-footer"},r.linkurl?g.a.createElement("a",{href:"sslocal://webview?url="+encodeURIComponent(r.linkurl)+"&title=%E7%BD%91%E9%A1%B5%E6%B5%8F%E8%A7%88",className:"link-more",id:"wd-link-more"},"了解更多"):null,function(){if(r.is_author)return null;if(o>=6&&(o<13||2!=a&&3!=a)){var t=r.is_buryed?"已反对":"反对";return g.a.createElement(v.Fragment,null,a?null:g.a.createElement("div",{item:"dislike-and-report",className:"dislike-and-report no-icon",style:{},onClick:c},t))}return 0==a&&o<6?g.a.createElement("div",{className:"dislike-and-report",onClick:s},"不喜欢"):null}()):null}),Pn=(n(307),function(t){console.info("WendaCooperate",t);var e,n,r,o=t.data,i=o.setting||{},a=o.author||{};return g.a.createElement("div",{className:"wenda-panel-co"},g.a.createElement("div",{className:"wenda-cooperate"},g.a.createElement("div",{className:"authorbar wenda clearfix"},g.a.createElement("a",{className:"author-avatar-link pgc-link",href:a.link},g.a.createElement("div",{className:"author-avatar"},g.a.createElement("img",{className:"author-avatar-img",src:a.avatar})),o.useServerV&&a.auth_info?(e=a.auth_type,n="avatar_icon",(r=i.user_verify_info_conf[""+e])&&(r=r[n])?(n=r.icon,n=r.web_icon_ios,g.a.createElement("div",{className:"server-v-icon-wrap"},g.a.createElement("i",{className:"server-v-icon",style:{backgroundImage:"url("+n+")"}}," "))):null):null),o.showUserDecoration&&a.user_decoration&&a.user_decoration.url?g.a.createElement("div",{className:"avatar-decoration",style:{backgroundImage:"url("+a.user_decoration.url+")"}}):null,g.a.createElement("div",{className:"avatar-decoration avatar-night-mask"}),g.a.createElement("div",{className:"author-bar"},g.a.createElement("div",{className:"name-link-wrap"},g.a.createElement("div",{className:"name-link-w"},g.a.createElement("a",{className:"author-name-link pgc-link",href:a.link},a.name,g.a.createElement("span",{className:"cooper-tag"},"问答战略合作伙伴")))),g.a.createElement("a",{className:"sub-title-w",href:a.link},g.a.createElement("span",{className:"sub-title"},a.cooperate_text)))),g.a.createElement("a",{className:"cooperate-link",href:a.cooperate_link},g.a.createElement("span",{className:"txt"},"查看官方网站",g.a.createElement("em",{className:"iconfont"},"")))))}),Mn=(n(308),function(t){var e=t.data,n=(t.ansStrategy||{}).show_bottom||{},r=e.wendaExtra,o={value:r.qid,ext_value:r.nice_ans_count,extra:{enter_from:r.enter_from,ansid:r.ansid,parent_enterfrom:r.parent_enterfrom||"",group_id:r.ansid}};return tt("show",{domSelector:"#wenda-answer",value:"answer_detail_bottom_write_answer_show",obj:o}),g.a.createElement("a",{style:{overflow:"initial"},onClick:function(){M.statistics.sendUmengEventV3("answer_detail_bottom_write_answer",o)},href:L(n.schema||"",{source:"answer_detail_bottom_write_answer"}),className:"bottom-big-answer-button",id:"wenda-answer"},g.a.createElement("div",{className:"pr"},g.a.createElement("div",{className:"wdq"},g.a.createElement("span",null,r.title)),g.a.createElement("div",{className:"bottom-answer-btn"},g.a.createElement("div",{className:"btn-text"},g.a.createElement("i",null,""),n.text)),g.a.createElement("i",{className:"left-quote"},""),g.a.createElement("i",{className:"right-quote"},"")))}),jn=(n(309),function(t){function e(n){return u()(this,e),p()(this,t.call(this,n))}return h()(e,t),e.prototype.goToAsk=function(t){var e=this.props.wendaExtra,n=(void 0===e?{}:e).other_authors;M.statistics.sendUmengEventV3("recommend_paid_author_click",{to_user_id:n[t].user_id}),location.href=n[t].pay_question_schema},e.prototype.render=function(){var t=this;console.info("WendaAnswererList",this.props);var e=this.props,n=(e.data,e.setting),r=e.statistic,o=e.useServerV,i=e.wendaExtra,a=(void 0===i?{}:i).other_authors;return console.info("other_authors",a),a&&Array.isArray(a)&&a.length>0?g.a.createElement("div",{className:"answerer_list"},g.a.createElement("div",{className:"split"}),g.a.createElement("div",{className:"title-wrap"},g.a.createElement("div",{className:"title"},"邀请他人回答")),a.map((function(e,i){var a={link:"sslocal://profile?uid="+e.user_id,avatar:e.avatar_url,auth_info:"",auth_type:0};try{var s=JSON.parse(e.user_auth_info);a.auth_info=s.auth_info,a.auth_type=s.auth_type}catch(t){console.error(t)}return g.a.createElement("div",{className:"answerer_items no-"+i,key:i},g.a.createElement(Bt,{authorInfo:a,useServerV:o,articleType:"wenda",setting:n,statistic:r}),g.a.createElement("div",{className:"button-group"},g.a.createElement("button",{onClick:t.goToAsk.bind(t,i)},"提问")),g.a.createElement("div",{className:"author-bar"},g.a.createElement("div",{className:"name-link-wrap"},g.a.createElement("div",{className:a.auth_info?"name-link-w":"name-link-w no-intro"},g.a.createElement("a",{className:"author-name-link pgc-link",href:a.link},e.uname))),g.a.createElement("a",{className:"sub-title-w",href:a.link},g.a.createElement("span",{className:"sub-title"},a.auth_info))))})),g.a.createElement("div",{className:"bottom-info"},"没有更多了 ")):null},e}(g.a.Component)),Un=n(92),Hn=n.n(Un),Fn=(n(310),function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={isFolded:!1},r.lineHeight=0,r.judgeNeedFold=r.judgeNeedFold.bind(r),r.handleClickTips=r.handleClickTips.bind(r),r.stopEvent=r.stopEvent.bind(r),r.getElement=r.getElement.bind(r),r}return h()(e,t),e.prototype.componentDidMount=function(){var t=this;this.lineHeight=parseFloat(window.getComputedStyle(this.foldMainContentRef)["line-height"]),this.judgeNeedFold(),window.addEventListener("resize",this.judgeNeedFold,!1),setTimeout((function(){t.placeholderRef.style.width=t.foldTipsRef.getBoundingClientRect().width+"px"}),200)},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.judgeNeedFold,!1)},e.prototype.getElement=function(t,e){this[t]=e},e.prototype.judgeNeedFold=function(){var t=this.props.foldFrom;this.setState({isFolded:!!t&&this.foldMainContentRef.getBoundingClientRect().height>this.lineHeight*t})},e.prototype.stopEvent=function(t){t&&t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0,t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1},e.prototype.handleClickTips=function(t){this.props.canExpand&&(this.stopEvent(t),this.setState({isFolded:!1}),window.removeEventListener("resize",this.judgeNeedFold,!1))},e.prototype.render=function(){var t=this,e=this.props,n=e.foldTo,r=e.className,o=e.isDangerous,i=e.foldText,a=e.foldTips,s=this.state.isFolded,c=(n-1)/n*100+"%",l=s?{height:n*this.lineHeight+"px",lineHeight:this.lineHeight+"px",WebkitLineClamp:n}:null,u=s?{width:(this.foldTipsRef&&this.foldTipsRef.getBoundingClientRect().width||53)+"px",height:n*this.lineHeight+"px",shapeOutside:"polygon(100% 0, 100% 100%, 0 100%, 100% "+c+", 100% 0)",clipPath:"polygon(100% 0, 100% 100%, 0 100%, 100% "+c+", 100% 0)"}:null,d=s?{top:(n-1)*this.lineHeight+"px"}:null;return g.a.createElement("div",{className:r},g.a.createElement("div",{style:l,className:Hn()("fold_main",{"fold_text-overflow":s},{"fold_shape-overflow":s})},g.a.createElement("div",{className:"fold_triangle-placeholder",style:u,ref:function(e){return t.getElement("placeholderRef",e)}}),o?g.a.createElement("div",{className:"fold_main-content",dangerouslySetInnerHTML:{__html:i},ref:function(e){return t.getElement("foldMainContentRef",e)}}):g.a.createElement("div",{className:"fold_main-content",ref:function(e){return t.getElement("foldMainContentRef",e)}},i),g.a.createElement("div",{className:"fold_tips",style:d,ref:function(e){return t.getElement("foldTipsRef",e)},onClick:this.handleClickTips},g.a.createElement("div",{className:"fold_tips-point"},"..."),a)))},e}(g.a.Component)),Bn=(n(311),function(t){function e(n){return u()(this,e),p()(this,t.call(this,n))}return h()(e,t),e.prototype.goToAsk=function(){var t=this.props.context,e=(void 0===t?{}:t).hot_paywenda;location.href=e.post_answer_schema},e.prototype.goToDetail=function(t){var e=this.props.context,n=(void 0===e?{}:e).hot_paywenda;location.href=n.hot_data[t].answer_detail_schema},e.prototype.render=function(){var t=this;console.info("WendaAnswererList",this.props);var e=this.props,n=e.setting,r=e.statistic,o=e.useServerV,i=e.context,a=(void 0===i?{}:i).hot_paywenda,s=void 0===a?{}:a,c=s.purchased_price,l=s.user,u=s.hot_data;console.info("hot_paywenda",s);var d={link:l.user_schema,avatar:l.avatar_url,auth_info:"",auth_type:0};try{var p=JSON.parse(l.user_auth_info);d.auth_info=p.auth_info,d.auth_type=p.auth_type}catch(t){console.error(t)}return s&&Array.isArray(u)&&u.length>0?g.a.createElement("div",{className:"hot-answer-list"},g.a.createElement("div",{className:"split"}),g.a.createElement("div",{className:"title"},"热门付费问答"),g.a.createElement("div",{className:"answerer_items"},g.a.createElement(Bt,{authorInfo:d,useServerV:o,articleType:"wenda",setting:n,statistic:r}),g.a.createElement("div",{className:"button-group"},g.a.createElement("button",{onClick:this.goToAsk.bind(this)},c/100,M.client.isAndroid?"元":"币","提问")),g.a.createElement("div",{className:"author-bar"},g.a.createElement("div",{className:"name-link-wrap"},g.a.createElement("div",{className:d.auth_info?"name-link-w":"name-link-w no-intro"},g.a.createElement("a",{className:"author-name-link pgc-link",href:d.link},l.uname))),g.a.createElement("a",{className:"sub-title-w",href:d.link},g.a.createElement("span",{className:"sub-title"},d.auth_info)))),g.a.createElement("div",{className:"answer-list"},u.map((function(e,n){return g.a.createElement("div",{className:"answer-item "+(n<u.length-1?"border":""),key:n,onClick:t.goToDetail.bind(t,n)},g.a.createElement("div",{className:"question-title"},e.ques_title),g.a.createElement(Fn,{className:"question-abstract",foldText:e.ques_content,foldTips:"全文",foldFrom:3,foldTo:3,isDangerous:!0}))})))):null},e}(g.a.Component)),Vn=(n(312),function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.followDisabled=!1,r.serverSource=80,r.state={followState:"",followDisabled:!1},r.useNewBottomCardStyle=M.client.isIOS&&M.client.isNewsArticleVersionNoLessThan("6.9.4")||M.client.isAndroid&&M.client.isNewsArticleVersionNoLessThan("6.9.3"),r}return h()(e,t),e.prototype.followActionHandler=function(t){if(!this.followDisabled){this.followDisabled=!0,this.setState({followDisabled:!0});var e=this.props.data,n=e.data,r=e.statistic,o=e.wendaExtra,i=this,a=this.state.followState,s={id:n.user_id,action:a?"unfollow":"dofollow",source:this.serverSource,from:"answer_detail_bottom_card"},c={to_user_id:n.user_id,media_id:n.media_id,follow_type:"from_group",group_id:r.group_id,item_id:r.item_id,source:"detail_centre_button",server_source:this.serverSource,position:"detail"};c=Object(M.extend)(!0,c,o.gd_ext_json||{}),U.a.invoke("user_follow_action",s,(function(t){i.followDisabled=!1,console.info("user_follow_action",a,t,s),t&&1==+t.code?i.setState({followState:a?"":"following",followDisabled:!1}):i.setState({followState:a?"following":"",followDisabled:!1})})),M.statistics.sendUmengEventV3(a?"rt_unfollow":"rt_follow",c)}},e.prototype.componentDidMount=function(){var t=this;M.statistics.sendUmengWhenTargetShown(this.listDom,"user_card_show","",{section:"detail_centre_button"},!0,{version:3}),zt.on("pageStateChange",(function(e){switch(e.type){case"user_action":console.info("wendabottomuser",e,t.props.data.data.user_id),e.id==t.props.data.data.user_id&&"status"in e&&(t.setState({followState:e.status?"following":"",followDisabled:!1}),t.followDisabled=!1);break;case"pgc_action":e.id==t.props.data.data.media_id&&"status"in e&&(t.setState({followState:e.status?"following":"",followDisabled:!1}),t.followDisabled=!1)}}))},e.prototype.componentWillUnmount=function(){zt.off("pageStateChange")},e.prototype.render=function(){var t=this,e=this.props.data,n=e.data,r=e.setting,o=e.statistic,i=e.useServerV,a="subscribe-button follow-button red-follow-button "+this.state.followState+(this.state.followDisabled?" disabled":"");return this.useNewBottomCardStyle?n.show_bottom?"":" no-bottom":n.show_bottom?" no-bottom":"",n=Object(M.extend)(!0,n,n.user_auth_info),g.a.createElement("div",{className:"wenda-bt-panel",ref:function(e){t.listDom=e}},g.a.createElement("div",{className:n.show_bottom?"wenda-bt-user no-bottom":"wenda-bt-user"},g.a.createElement("div",{className:"authorbar wenda"},g.a.createElement(Bt,{authorInfo:n,useServerV:i,setting:r,statistic:o,article:{type:"wenda"}}),g.a.createElement("div",{className:"author-function-buttons",onClick:this.followActionHandler.bind(this)},g.a.createElement("button",{className:a,style:{display:"block"},id:"subscribe"},g.a.createElement("i",{className:"iconfont focusicon"}," "),g.a.createElement("i",{className:"redpack"}))),g.a.createElement("div",{className:""!==n.user_intro?"author-bar auth-intro":"author-bar"},g.a.createElement("div",{className:"name-link-wrap"},g.a.createElement("div",{className:"name-link-w"},g.a.createElement("a",{className:"author-name-link pgc-link",href:n.link}," ",n.user_name," "))),""!==n.user_intro?g.a.createElement("a",{className:"sub-title-w",href:n.link}," ",g.a.createElement("span",{className:"sub-title"},n.user_intro)," "):null,g.a.createElement("a",{className:"sub-title-w",href:n.link},g.a.createElement("span",{className:"sub-title"},n.userIntroStr))))))},e}(g.a.Component)),qn=(n(313),function(t){function e(){return u()(this,e),p()(this,t.apply(this,arguments))}return h()(e,t),e.prototype.componentDidMount=function(){var t=this.props.question;!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.hasShow=!1,V.push(t),Y()}({el:this.itemRef,id:t.qid,impressItemInfo:{imp_item_type:37,imp_item_id:t.qid+"_"+t.qid,imp_item_extra:{}}})},e.prototype.render=function(){var t=this,e=this.props.question;return g.a.createElement("a",{href:e.schema},g.a.createElement("div",{className:"question-item",ref:function(e){t.itemRef=e}},g.a.createElement("p",{className:"text"},e.title)))},e}(v.Component)),Wn=function(t){function e(){return u()(this,e),p()(this,t.apply(this,arguments))}return h()(e,t),e.prototype.componentDidMount=function(){var t=this.props.originalQid;!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H=t}({imp_group_list_type:9,imp_group_key_name:t+"_"+t,imp_group_key:"wenda_detail",imp_group_extra:{}})},e.prototype.render=function(){var t=this.props.questions;return t&&0!==t.length?g.a.createElement("div",{className:"related-question-list"},g.a.createElement("h3",{className:"title"},"相关问题"),t.map((function(t){return g.a.createElement(qn,{key:t.qid,question:t})}))):null},e}(v.Component),Gn=(n(314),function(t){var e=t.wendaExtra||{},n=t.info||{},r=null,o={qid:e.qid,ansid:e.ansid,position:"answer_detail"};return M.statistics.sendUmengWhenTargetShown(r,"spring_festival_card_show","",o,!0,{version:3}),g.a.createElement("div",{className:"activity-card"},g.a.createElement("div",{className:"card-title"},"问答活动"),g.a.createElement("a",{onClick:function(){M.statistics.sendUmengEventV3("spring_festival_card_click",o)},href:n.open_url,className:"card-content",ref:function(t){r=t}},g.a.createElement("div",null,g.a.createElement("div",{className:"avatar-wrap"},g.a.createElement("img",{className:"avatar-image",src:n.img,alt:""}))),g.a.createElement("div",{className:"text-wrap"},g.a.createElement("div",{className:"desc"},n.desc),g.a.createElement("div",{className:"sub-desc"},g.a.createElement("span",{className:"text"},n.sub_desc)))))}),zn=n(160),Yn=(n(339),"https://learning.snssdk.com/feoffline/learning_lazy/toutiao_wallet_web_page/page/comment_v2.html?"),Xn={content_type:"pay_wenda",is_popup:1,product:"pay_wenda"},Jn={title:encodeURIComponent("评价"),right_text:encodeURIComponent("发布"),right_text_color:encodeURIComponent("#2A90D7"),popup_back_button_icon:"close",hide_more:1};M.client.isAndroid&&(Jn.back_button_icon="close");var Kn=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));r.state={score:0},console.info("comment",n);var o=n.data;return r.scoreCardInfoString="您觉得回答内容质量怎么样?",r.gid=o.statistic.group_id,r.startTime=null,r.lastTimeOutDone=null,r._scoreArticle=r._scoreArticle.bind(r),r._openComment=r._openComment.bind(r),r.baseBizParams=c()({},Xn,{content_id:r.gid||""}),r}return h()(e,t),e.prototype._scoreArticle=function(t){var e=t.target,n=e&&e.dataset||{},r=parseInt(n.index)+1;if(r){var o=this.props.data,i=(void 0===o?{}:o).wendaExtra,s=void 0===i?{}:i;M.statistics.sendUmengEventV3("paid_question_score",{score:r,qid:s.qid,ansid:s.ansid,to_user_id:s.question.answerer.user_id});var l=c()({},this.baseBizParams,{score:r,originScore:r,isAnonymous:s.question.is_anonymous?1:0,log_params:encodeURIComponent(a()({qid:s.qid,to_user_id:s.question.answerer.user_id}))}),u=Yn+ft(l),d="sslocal://popup_browser?url="+encodeURIComponent(u)+"&"+ft(Jn);console.info(d),location.href=d}},e.prototype._openComment=function(){var t=this.props.data,e=(void 0===t?{}:t).wendaExtra,n=void 0===e?{}:e;M.statistics.sendUmengEventV3("paid_question_comment",{qid:n.qid,ansid:n.ansid,to_user_id:n.question.answerer.user_id});var r=this.baseBizParams,o=this.state,i=o.score,s=o.markId;s&&(r.score=i,r.originScore=i,r.mark_id=s),r.isAnonymous=n.question.is_anonymous?1:0,r.log_params=encodeURIComponent(a()({qid:n.qid,to_user_id:n.question.answerer.user_id}));var c=Yn+ft(r),l="sslocal://popup_browser?url="+encodeURIComponent(c)+"&"+ft(Jn);console.info("schema22"),console.info(l),location.href=l},e.prototype.render=function(){var t=this._scoreArticle,e=this.scoreCardInfoString,n=this.state.score;return console.info("_renderHtml1111"),g.a.createElement("div",{className:"pcard wenda-nscore-star "},g.a.createElement("div",{className:"pcard-clearfix score-wrapper"},g.a.createElement("div",{className:"info-wrapper "},g.a.createElement("div",{className:"title question pcard-w1"},e))),g.a.createElement("div",{onClick:t,className:"star-wrap"},g.a.createElement("span",{className:"star","data-index":"0","data-selected":n>0?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"1","data-selected":n>1?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"2","data-selected":n>2?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"3","data-selected":n>3?"true":"false"}),g.a.createElement("span",{className:"star","data-index":"4","data-selected":n>4?"true":"false"})),g.a.createElement("div",{className:"button-wrap"},g.a.createElement("button",{onClick:this._openComment},"写评价")))},e}(v.Component),$n=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));console.info("CommentItem",n);var o=n.evaluation,i=n.data,a=void 0===i?{}:i;return r.gid=a.statistic.group_id,r.baseBizParams=c()({},Xn,{content_id:r.gid||"",mark_id:o.mark_id}),r.gotoComment=r.gotoComment.bind(r),r}return h()(e,t),e.prototype.renderVIcon=function(){var t=this.props,e=t.data,n=void 0===e?{}:e,r=t.evaluation,o=n.useServerV,i=n.setting;if(o&&(r.user.user_auth_info||r.user.auth_type)){var a=r.user.auth_type;try{a=JSON.parse(r.user.user_auth_info).auth_type}catch(t){console.error(t)}if(void 0!==a){var s=Object(M.buildServerVIcon)(a,"avatar_icon",i.user_verify_info_conf);if(s)return g.a.createElement("div",{dangerouslySetInnerHTML:{__html:s}})}}return""},e.prototype.renderStar=function(){var t=this.props.evaluation;return[0,1,2,3,4].map((function(e){return g.a.createElement("span",{className:"star","data-selected":t.score>e?"true":"false"})}))},e.prototype.renderTime=function(t){return Object(zn.formatRelativeTime)(t)},e.prototype.gotoComment=function(){var t=this.props.evaluation,e=this.props.data.wendaExtra,n=void 0===e?{}:e;console.info("gotoComment",t),M.statistics.sendUmengEventV3("paid_question_comment_modify_click",{score:t.score,qid:n.qid,ansid:n.ansid,to_user_id:n.question.answerer.user_id});var r=c()({},this.baseBizParams,{originScore:t.score,score:t.score,isAnonymous:n.question.is_anonymous?1:0,log_params:encodeURIComponent(a()({qid:n.qid,to_user_id:n.question.answerer.user_id}))}),o=Yn+ft(r),i="sslocal://popup_browser?url="+encodeURIComponent(o)+"&"+ft(Jn);console.info("schema111"),console.info(i),location.href=i},e.prototype.render=function(){this.props;var t=this.props,e=t.evaluation,n=t.data,r=1==(void 0===n?{}:n).wendaExtra.question.user_role,o=""+e.score,i=e.content&&0===e.content.indexOf("当前用户暂未填写评价")?"":e.content||"";return g.a.createElement("div",{className:"comment-list-wrap"},g.a.createElement("div",{className:"title-wrap"},g.a.createElement("div",{className:"title"},r?"我的评价":"提问者评价"),g.a.createElement("div",{className:"score"},g.a.createElement("span",{className:"score-text"},1==o.length?o+".0":o),g.a.createElement("span",{className:"score-star"},[0,1,2,3,4].map((function(t){return g.a.createElement("span",{className:"star","data-selected":e.score>t?"true":"false"})}))))),g.a.createElement("div",{className:"comment-item-wrap"},g.a.createElement("div",{className:"avatar"},g.a.createElement("a",{className:"author-avatar-link","aria-label":"个人主页",href:e.user.user_schema},g.a.createElement("div",{className:"author-avatar"},g.a.createElement("img",{className:"author-avatar-img",src:e.user.avatar_url,alt:""}),"}"),this.renderVIcon()),e.user.user_decoration&&e.user.user_decoration.url?g.a.createElement("div",{className:"avatar-decoration","aria-hidden":"true",style:{backgroundImage:"url("+e.user.user_decoration.url+")"}}):null,g.a.createElement("a",{className:"avatar-decoration avatar-night-mask pgc-link","aria-hidden":"true",href:e.user.user_schema})),g.a.createElement("div",{className:"content-wrap"},g.a.createElement("a",{href:e.user.user_schema,className:"name"},e.user.uname),g.a.createElement("a",{href:e.user.user_schema,className:"intro"},e.user.user_intro),e.tag_list&&e.tag_list.length>0?g.a.createElement("div",{className:"tag-list"},e.tag_list.map((function(t,e){return g.a.createElement("span",{className:"tag-item"},t)}))):null,g.a.createElement("div",{className:"content"},i),g.a.createElement("div",{className:"time"},g.a.createElement("span",null,this.renderTime(e.modify_time)),r?g.a.createElement(v.Fragment,null,g.a.createElement("span",null," · "),g.a.createElement("span",{onClick:this.gotoComment},"修改评价")):null))))},e}(v.Component),Zn=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={score:0},r}return h()(e,t),e.prototype.componentDidMount=function(){var t=this;zt.on("payWendaMarked",(function(e){var n=t.props,r=n.statistic,o=(n.author,n.context),i=void 0===o?{}:o,a=n.wendaExtra,s=(void 0===a?{}:a).question,c=void 0===s?{}:s,l=i.evaluation||{};console.info("pay_wenda_marked",e,t.props),r.group_id==e.answerId&&t.setState({evaluation:{comment_id:l.comment_id||"",content:e.content,create_time:l.create_time||e.actionTime/1e3,mark_id:e.markId,modify_time:e.actionTime/1e3,score:e.score,tag_list:e.selectedTags||[],user:l.user||c.user}})}))},e.prototype.render=function(){console.info("Comment",this.props);var t=this.props,e=t.wendaExtra,n=t.context,r=void 0===n?{}:n,o=1==e.question.user_role&&4==e.question.pay_status,i=this.state.evaluation||r.evaluation;return i||o?g.a.createElement("div",{className:"wenda-comment-wrap "+(e.question.is_anonymous?"":"no-margin")},g.a.createElement("div",{className:"split"}),i?g.a.createElement($n,{data:this.props,evaluation:i}):o?g.a.createElement(Kn,{data:this.props}):null):null},e}(v.Component),Qn=(n(340),function(t){console.info("WendaFooter",t);var e=t.data||{},n=e.wendaExtra||{},r=n.ansid,o=e.wendaContext||{},i=e.author||{},a=e.setting||{},s=e.statistic||{},l=e.useServerV,u=e.context||{},d=u.cards||[],p=e.article||{},f=n.mis_coop_user||{},h=f.link||"";i.cooperate_text=f.profile,i.cooperate_link=-1!==h.indexOf("http")?"sslocal://webview?url="+encodeURIComponent(h)+"&title=%E7%BD%91%E9%A1%B5%E6%B5%8F%E8%A7%88":h;var m={wendaContext:o,wendaExtra:n,setting:a,author:i,showUserDecoration:M.client.isNewsArticleVersionNoLessThan("6.5.6"),osVersion:M.client.osVersion,useServerV:l},_=parseInt(e.wendaExtra.wd_version),y=n.show_post_answer_strategy||{},w=a.is_liteapp,b=document.querySelector("article")&&document.querySelector("article").clientHeight||0,E=D().height,S=n.question&&n.question.is_pay_wenda,x=function(t){tt("show",t)};return g.a.createElement(v.Fragment,null,function(t){return _>=3?g.a.createElement(Ln,{data:t}):null}(e),g.a.createElement("div",{className:"footer-before-cards-container"}),g.a.createElement("div",{className:"footer-cards-container"},function(t){if(!S){if(!window.disabledBroadcastCardsEvent&&u.wenda_context){if(b>E)window.cardEvent&&window.cardEvent.cardSafeBroadcast(["cards",document.querySelector(".footer-cards-container"),u],(function(){var t=u.cards&&u.cards.length&&u.cards[0].type;t&&window.cardsMonitor&&window.cardsMonitor(".footer-cards-container","footer",1e3,{card_type:t})}));else if(u.article_com_tmas||u.promotions){var e={article_com_tmas:u.article_com_tmas,promotions:u.promotions};window.cardEvent&&window.cardEvent.cardSafeBroadcast(["cards",document.querySelector(".footer-cards-container"),e])}window.disabledBroadcastCardsEvent=!0}if("wenda"===p.type&&n&&f.uid===i.userId)return g.a.createElement(Pn,{data:m});if(_<1||_>=3&&1==n.showMode)return null;var c=1,h=0,v={};if(d&&Array.isArray(d)&&d.find((function(t){var e=t.type||"";return"auto"===e||"auto_show"===e||"auto_dealer"===e||"new_auto_dealer"===e?(c=0,!0):("author"===e&&(c=0,h=1,v=Object(M.extend)(!0,{},t)),!1)})),h&&!o.is_author&&!v.is_concern_user&&b>1.5*E&&!w){var x=n&&n.gd_ext_json?n.gd_ext_json.category_name:"";if(v.link="sslocal://profile?uid="+v.user_id+"&refer=wenda&from_page=detail_answer_wenda_centre_button&group_source=10&group_id="+r+"&category_name="+x+"&enter_from="+n.enter_from,v.user_auth_info)try{v.user_auth_info=JSON.parse(v.user_auth_info)}catch(t){v.user_auth_info={}}var T=[];T.push(M.fmt.formatCount(v.fans_count,"0")+"粉丝"),T.push(M.fmt.formatCount(v.user_digg_count,"0")+"赞"),v.userIntroStr=T.join(" · ");var O={data:v,statistic:s,setting:a,useServerV:l,wendaExtra:n};return g.a.createElement(Vn,{data:O})}return"show_bottom"in y&&c&&!w&&b>2*E?g.a.createElement(Mn,{data:t,ansStrategy:y}):null}}(e)),function(){var e=void 0;try{e=u.labels.labels_words.length}catch(t){e=-1}var r=!u.activity_info&&b>1.5*E&&!w,o=e>0&&(M.client.isIOS?b>(a.wenda_search_show_height_ratio||.5)*E:b>(a.wenda_search_show_height||340)),i=n.question&&n.question.is_pay_wenda&&4==n.question.pay_status,l=n.question&&n.question.is_pay_wenda&&1==n.question.user_role&&3==n.question.pay_status&&n.other_authors,d=n.question&&n.question.is_pay_wenda&&4==n.question.pay_status&&u.hot_paywenda,p=t.data||{},f=c()({},p,{addShowEvt:x,statisticsData:s});return g.a.createElement(v.Fragment,null,u.activity_info?g.a.createElement(Gn,{info:u.activity_info,wendaExtra:n}):null,i?g.a.createElement(Zn,p):null,r?g.a.createElement(Wn,{questions:u.related_questions,originalQid:n.qid}):null,l?g.a.createElement(jn,p):null,d?g.a.createElement(Bn,p):null,o?g.a.createElement(cn,{data:f}):null)}())}),tr=(n(341),jt(On)),er=jt(Rn),nr=jt(Qn),rr=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={data:{}},r.lastSetH5ExtraFlag=!1,r.setArticle=r.setArticle.bind(r),r.article=null,r.updateIdealWebviewHeight=r.updateIdealWebviewHeight.bind(r),te.on("view.onIdealwebviewHeightChange",r.updateIdealWebviewHeight),setTimeout((function(){void 0===r.state.idealWebviewHeight&&r.setState({idealWebviewHeight:0})}),500),r}return h()(e,t),e.prototype.componentWillUnmount=function(){te.off("view.onIdealwebviewHeightChange",this.updateIdealWebviewHeight)},e.prototype.updateIdealWebviewHeight=function(t){var e=this;t&&oe((function(n){var r=t.data,o=void 0===r?{}:r,i=n&&n.device_type&&n.device_type.indexOf("iPhone X")>-1?o.height-32:o.height;e.setState({idealWebviewHeight:i})}))},e.prototype.setArticle=function(t,e){var n=this.props.h5Extra,r=(void 0===n?{}:n).wenda_extra,o=!1;if(r&&r.question&&r.question.is_pay_wenda){if(4!=r.question.pay_status)return void document.body.classList.add("pay-wenda");if(t&&"v55"!==t){var i=t.indexOf("<article>"),a=t.indexOf("</article>");t.substring(i+9,a)!=e&&(o=!0)}document.body.classList.remove("pay-wenda"),document.body.classList.add("pay-wenda-read")}else document.body.classList.remove("pay-wenda"),document.body.classList.remove("pay-wenda-read");if(t&&"v55"!==t&&(!e||o)){var s=t.indexOf("<article>"),c=t.indexOf("</article>"),l=t.substring(s+9,c),u=t.indexOf("<header>"),d=t.indexOf("</header>"),p=t.substring(u+8,d);return $("article").html(l),!e&&p.indexOf("authorbar")>0&&($("header").html(p),M.client.isNewsArticleVersionNoLessThan("7.2.7")&&!0!==window.hadSentDomready&&(M.statistics.sendBytedanceRequest("domReady?setContentTimeStamp="+window.startTimestamp+"&domreadyTimeStamp="+ +new Date+"&isHTMLRender=1&articleVersion=1841"),window.hadSentDomready=!0,M.statistics.sendUmengEventV3("article_web_extra_info",{version:"1841",duration:+new Date-window.startTimestamp,group_type:"wenda"+window.APP_VERSION,action_type:"html_render"}),window.felog("fe_setContent","send_domReady"))),_()("sendCustomTimeLog","end_bind_content","iphone_"+window.APP_VERSION,+new Date-window.startTimestamp),l}return e&&t&&"v55"!==t?e:null},e.getDerivedStateFromProps=function(t,e){if(console.info("getDerivedStateFromProps",t,e),t.context&&t.context.wenda_context&&t.context.wenda_context.gd_ext_json&&!e.data.setGdExtJson){var n=t.context.wenda_context.gd_ext_json||{};if("string"==typeof t.context.wenda_context.gd_ext_json){try{n=JSON.parse(t.context.wenda_context.gd_ext_json)}catch(t){console.error("gdExtJson_error",t),n={}}Et("wenda_extra.gd_ext_json",n||{});try{var r=bt("author.link");Et("author.link",r+="&category_name="+n.category_name)}catch(t){console.error("setWendaAuthorLink",t)}t.update("h5Extra")(bt())}return{data:{setGdExtJson:!0}}}},e.prototype.render=function(){var t,e,n=this.props,r=n.context,o=n.h5Extra,i=n.content;return this.article=this.setArticle(i,this.article),t=function(t,e,n){return t?{article:t.article,author:t.author,setting:t.h5_settings,useServerV:t.useServerV,hasExtraSpace:t.hasExtraSpace,hideFollowButton:t.hideFollowButton,statistic:t.statistics,wendaExtra:bt("wenda_extra"),wendaContext:e?e.wenda_context:null}:null}(o,r),e=function(t,e,n){return t&&t.wenda_extra?{wendaExtra:t.wenda_extra,article:t.article,wendaContext:e?e.wenda_context:void 0,setting:t.h5_settings,useServerV:bt("useServerV"),author:t.author,context:e,statistic:t.statistics}:null}(o,r),console.info("wenda render2",t),g.a.createElement(v.Fragment,null,g.a.createElement(gn,{parentDom:document.querySelector("header"),replaceFlag:"1",tag:"header"},t?g.a.createElement(tr,{data:t}):null),t?g.a.createElement(er,{context:r,data:t,idealWebviewHeight:this.state.idealWebviewHeight}):null,e?g.a.createElement(gn,{parentDom:document.querySelector("footer"),replaceFlag:"1",tag:"footer"},g.a.createElement(nr,{data:e})):null)},e}(v.Component),or=function(t){function e(n){return u()(this,e),p()(this,t.call(this,n))}return h()(e,t),e.prototype.tellNativeHeaderMess=function(){tt("header",{domSelector:"#profile",JsBridge:"showTitleBarPgcLayout"})},e.prototype.componentDidMount=function(){M.client.isAndroid&&this.tellNativeHeaderMess()},e.prototype.render=function(){var t=this.props.data;return g.a.createElement("div",{id:"header"},g.a.createElement(Ft,t),t.author.show?g.a.createElement(De,t):g.a.createElement("div",{style:{height:"20px"}}))},e}(g.a.Component),ir=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={render:!1},r.setCompVal(),r.checkWindowSize=r.checkWindowSize.bind(r),r.fixNovelArticle=r.fixNovelArticle.bind(r),r.fixArticle=r.fixArticle.bind(r),r.onCarouselImageSwitch=r.onCarouselImageSwitch.bind(r),r.setArticle=r.setArticle.bind(r),r.setNovelData=r.setNovelData.bind(r),r}return h()(e,t),e.prototype.setCompVal=function(){this.article=null,this.novelData=null,this.canInitImage=!1,this.haveInitedImage=!1,this.imageSizeInitTimer=null,this.statisticsData=bt("statistics")||{}},e.prototype.checkWindowSize=function(){var t=this,e=window.innerWidth-30,n=window.innerHeight;this.statisticsData=bt("statistics"),e<=0||n<=0?this.imageSizeInitTimer=setTimeout((function(){t.checkWindowSize()}),0):(window.addEventListener("scroll",ue),this.setState({render:!0},(function(){Q()})),window.onresize=function(){var t=D().width;console.info(t,"width onresize"),t&&Ie.resizeImage(t-30)},this.canInitImage=!0,Pe())},e.prototype.fixNovelArticle=function(){var t=this;this.novelData.can_read&&!this.novelData.is_story||setTimeout((function(){console.info("fixNovel");try{var e="";if(t.novelData.is_story){if(t.novelData.can_read){var n=document.getElementById("!__PGC_COLUMN__");return void(n&&n.parentNode.removeChild(n))}var r=document.querySelector("article").innerHTML,o=r.indexOf("{!-- PGC_COLUMN --}");if(o<0)return;e=r.substring(0,o)}else{for(var i=document.querySelectorAll("a.image"),a=0;a<i.length;a++){var s=i[a];s.parentNode.removeChild(s)}e=document.querySelector("article").innerHTML.substring(0,200)}t.updateAllData(e)}catch(t){console.error(t),E.a.captureException(t)}}),0)},e.prototype.fixArticle=function(){var t=bt("h5_settings")||{};Je(t),Ve()},e.prototype.componentDidMount=function(){var t=this;this.checkWindowSize(),this.fixArticle(),setTimeout((function(){document.body.classList.remove("opacity")}),0),zt.on("pageStateChange",(function(e){"carousel_image_switch"===e.type&&t.statisticsData.group_id==e.id&&t.onCarouselImageSwitch(e.status)})),zt.on("checkContent",(function(){return t.fixNovelArticle()}))},e.prototype.onCarouselImageSwitch=function(t){Ie.fetchOneImage(t)},e.prototype.componentWillUnmount=function(){clearTimeout(this.imageSizeInitTimer),de(),window.removeEventListener("scroll",ue),zt.off("pageStateChange"),zt.off("checkContent")},e.prototype.knowMoreHtml=function(){if(this.props.context&&this.props.context.know_more_url){var t={context:this.props.context,statisticsData:this.statisticsData};return g.a.createElement(Fe,{data:t})}return null},e.prototype.setArticle=function(t,e){if(t&&"v55"!==t){var n=t.indexOf("<article>"),r=t.indexOf("</article>");return n>-1&&r>-1&&(t=t.substring(n+9,r)),t===e?e:($("article").html(t),this.haveInitedImage=!1,Wt.cardSafeBroadcast(["card-render",document.querySelector("body")]),e||_()("sendCustomTimeLog","end_bind_content","iphone_"+window.APP_VERSION,+new Date-window.startTimestamp),t)}return null},e.prototype.setNovelData=function(){var t=bt("novel_data")||{};return this.canInitImage&&!this.haveInitedImage&&t.can_read&&(Ie.initImageProcess(ue),this.haveInitedImage=!0),t},e.prototype.updateAllData=function(t){this.article=this.setArticle(t,this.article),this.novelData=this.setNovelData()},e.prototype.render=function(){var t=this.props.content,e=this.state.render;return this.updateAllData(t),e?g.a.createElement(v.Fragment,null,g.a.createElement(He,null),this.knowMoreHtml()):null},e}(v.Component),ar=(n(342),function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.onGetSeriesLinkPositionTimer=null,r}return h()(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.novelData,n=t.statistic;1==e.pay_status&&1==e.auto_pay_status&&1==e.book_free_status&&$.ajax({url:"https://ic.snssdk.com/novel/trade/purchase/v1/auto_pay/",dataType:"jsonp",data:{book_id:e.book_id,item_id:n.item_id,device_platform:M.client.isIOS?1:2},error:function(t,e,n){console.info(t,e,n)},success:function(t,e,n){console.info("fhru",t)}}),255==e.pay_status&&1==e.book_free_status&&U.a.invoke("toast",{text:"系统异常 请稍后再试",icon_type:"icon_error"}),this.storyPayRef&&M.statistics.sendUmengWhenTargetShown(this.storyPayRef,"show_content_go_purchase","",{group_id:n.group_id,enter_from:n.enter_from,category_name:n.category_name,is_novel:1,bookshelf_type:"novel",log_pb:n.log_pb,genre:e.genre,platform:e.platform},1,{version:3})},e.prototype.componentWillUnmount=function(){this.onGetSeriesLinkPositionTimer&&clearInterval(this.onGetSeriesLinkPositionTimer)},e.prototype.novelUpdateHandler=function(){var t=this.props,e=t.novelData,n=t.statistic;if(M.client.isAndroid)location.href="http://app.toutiao.com/news_article/";else{var r="";oe((function(t){switch(t.app_name){case"news_article_social":r="itms-apps://itunes.apple.com/cn/app/id582528844";break;case"explore_article":r="itms-apps://itunes.apple.com/cn/app/id672151725";break;default:r="itms-apps://itunes.apple.com/cn/app/id529092160"}U.a.invoke("openApp",{url:r},null)}))}M.statistics.sendUmengEventV3("click_version_update",{group_id:n.group_id,item_id:n.item_id,enter_from:"detail",category_name:"novel_channel",novel_id:e.book_id,concern_id:e.concern_id,log_pb:""})},e.prototype.novelBuyHandler=function(t){var e=this.props,n=e.novelData,r=e.statistic;"story"===t?M.statistics.sendUmengEventV3("click_content_pay",{group_id:r.group_id,item_id:r.item_id,enter_from:"purchase_reminder",category_name:"novel_channel",novel_id:n.book_id,concern_id:n.concern_id,log_pb:r.log_pb,bookshelf_type:"novel",iss_novel:1}):M.statistics.sendUmengEventV3("click_purchase_read",{group_id:r.group_id,item_id:r.item_id,enter_from:r.enter_from,category_name:r.category_name,novel_id:n.book_id,concern_id:n.concern_id,log_pb:""}),U.a.invoke("is_login",{},(function(t){if(t&&(t.is_login||1==t.code)){var e="https://ic.snssdk.com/novel/book/purchase/v1/novel_pay/page/single-chapter?pull_close=1&book_id="+n.book_id+"&item_id="+r.item_id+"&group_id="+r.group_id;e="sslocal://popup_browser?url="+encodeURIComponent(e)+"&should_append_common_param=1",M.client.isAndroid?e+="&back_button_icon=close":e+="&popup_back_button_icon=close",location.href=e}else U.a.invoke("login",{platform:""})}))},e.prototype.renderNovelPay=function(){var t=this,e=this.props,n=e.novelData,r=e.statistic,o=e.isLogin;if(null==n.pay_status)return M.statistics.sendUmengEventV3("go_version_update",{group_id:r.group_id,item_id:r.item_id,enter_from:"version_update",category_name:"novel_channel",novel_id:n.book_id,concern_id:n.concern_id,type:0,log_pb:""}),g.a.createElement("div",{className:"pay"},g.a.createElement("div",{className:"split"}),g.a.createElement("div",{className:"content"},"当前版本不支持阅读付费章节，请升级到最新版本继续阅读"),g.a.createElement("div",{className:"button"},g.a.createElement("button",{className:"update",onClick:this.novelUpdateHandler.bind(this)})));if(2==n.pay_status||-1==n.pay_status){var i=1==n.recommend_limited_free&&("__all__"==r.category_name||"fake"==r.category_name||"ugc_fake"==r.category_name)&&!1===o;return n.is_story?(document.querySelector("footer").classList.add("footer-offset"),g.a.createElement("div",{className:"story-pay",ref:function(e){t.storyPayRef=e}},g.a.createElement("div",{className:"rectangle"}),g.a.createElement("div",{className:"story-lock",onClick:this.novelBuyHandler.bind(this,"story")},g.a.createElement("div",{className:"icon"}),g.a.createElement("div",{className:"info"},i?"登录后免费阅读":"购买后阅读全部内容")))):(M.statistics.sendUmengEventV3("go_purchase_reminder",{group_id:r.group_id,item_id:r.item_id,enter_from:"version_update",category_name:"novel_channel",novel_id:n.book_id,concern_id:n.concern_id,type:0,log_pb:""}),g.a.createElement("div",{className:"pay"},g.a.createElement("div",{className:"split"}),g.a.createElement("div",{className:"button"},g.a.createElement("button",{className:"buy",onClick:this.novelBuyHandler.bind(this)},i?"登录后免费阅读":"购买后继续阅读"))))}return console.info("remove offset"),null},e.prototype.componentDidUpdate=function(){this.props.novelData.can_read&&document.querySelector("footer").classList.remove("footer-offset")},e.prototype.render=function(){return this.props.novelData.can_read?null:this.renderNovelPay()},e}(g.a.Component)),sr=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={data:{}},console.info("[component/Footer]"),r._getCards=r._getCards.bind(r),r.canBroadcastCardsEvent=!0,r}return h()(e,t),e.prototype._getCards=function(t){var e=this,n=t.context||{};this.canBroadcastCardsEvent&&!0==(!!t.novelData.is_story||void 0!==t.isLogin&&!0===t.novelData.can_read)&&(window.cardEvent&&window.cardEvent.cardSafeBroadcast(["cards",document.querySelector(".footer-cards-container"),n],(function(){var t=n.cards&&n.cards.length&&n.cards[0].type;if(t){var r=(e.props.data||{}).novelData,o=void 0===r?{}:r;window.cardsMonitor&&window.cardsMonitor(".pcard.fiction","footer",1e3,{card_type:t,is_novel:1,book_id:o.book_id})}})),this.canBroadcastCardsEvent=!1)},e.prototype.componentDidUpdate=function(t){var e=this.props.data||{},n=t.data||{};if(!0===e.novelData.can_read&&!1===n.can_read&&!1===this.canBroadcastCardsEvent)try{window.cardEvent&&window.cardEvent.cardSafeBroadcast(["cards-update",document.querySelector(".footer-cards-container"),e.context])}catch(t){E.a.captureException(t)}},e.prototype.render=function(){var t=this.props.data||{};return g.a.createElement(v.Fragment,null,g.a.createElement("div",{className:"footer-before-cards-container"}),g.a.createElement(ar,t),g.a.createElement("div",{className:"footer-cards-container"},t.context?this._getCards(t):null))},e}(v.Component),cr=n(96),lr=n.n(cr);function ur(t){var e=t.key,n=void 0===e?"":e,r=t.defaultValue,o=void 0===r?{}:r,i=t.diskStorage,a=void 0!==i&&i,s=t.callback,c=void 0===s?function(){}:s;te.call("app.getStorage",{key:n,disk_storage:a},(function(t){var e=t||{},n=e.code,r=e.data,i=1===n&&r&&r.value||o;"function"==typeof c&&c(i)}))}function dr(t){var e=t.key,n=void 0===e?"":e,r=t.data,o=void 0===r?"":r,i=t.diskStorage,a=void 0!==i&&i,s=t.callback,c=void 0===s?function(){}:s;te.call("app.setStorage",{key:n,data:o,disk_storage:a},(function(t){"function"==typeof c&&c(t)}))}function pr(t){var e,n=t.novel_data,r=void 0===n?{}:n,o=t.statistics,i=void 0===o?{}:o;e=function(t){var e=t.data||{},n="novel_feed_"+(Number(e.user_id)?String(e.user_id||""):"");ur({key:n,diskStorage:!0,callback:function(t){var e={};try{e=JSON.parse(t||"{}")||{}}catch(t){console.error("Novel RecData JSON.parse error",t)}var o=r.book_id||"",s=e[o]||{};s.group_id=i.group_id,s.enter_from=i.enter_from,s.category_name=i.category_name,s.log_pb=a()(i.log_pb),s.present_time||(s.present_time=String((new Date).getTime())),e[o]=s,dr({key:n,data:a()(e),diskStorage:!0})}})},te.call("app.getAppInfo",{},(function(t){"function"==typeof e&&e(t)}))}function fr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY.MM.DD hh:mm:ss",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s",r=/Y{4}|M{1,2}|D{1,2}|h{1,2}|m{1,2}|s{1,2}/g,o=new Date("s"===n?1e3*t:t),i=o.getFullYear(),a=o.getMonth()+1,s=o.getDate(),c=o.getHours(),l=o.getMinutes(),u=o.getSeconds();return e.replace(r,(function(t){switch(t){case"YYYY":return i;case"M":return a;case"MM":return hr(a);case"D":return s;case"DD":return hr(s);case"h":return c;case"hh":return hr(c);case"m":return l;case"mm":return hr(l);case"s":return u;case"ss":return hr(u);default:return""}}))}function hr(t){return("0"+t).slice(-2)}var mr=jt(or),_r=jt(ir),vr=jt(sr),gr=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={data:{}},r.checkLoginStatus=r.checkLoginStatus.bind(r),r}return h()(e,t),e.prototype.componentDidMount=function(){var t=this,e=window.Page,n=(e=void 0===e?{}:e).h5_settings,r=(n=void 0===n?{}:n).pgc_card_info,o=(r=void 0===r?{}:r).novel_style;(void 0===o?0:o)&&this.addToHomePage(),zt.on("setExtra",(function(){return t.checkLoginStatus()}))},e.prototype.componentWillUnmount=function(){zt.off("setExtra")},e.prototype.componentDidUpdate=function(){document.querySelector("#header")&&!window.hadSentRenderFinish&&(M.statistics.sendBytedanceRequest("renderFinish?timeStamp="+(new Date).getTime()),window.felog("fe_renderFinish","called"),window.hadSentRenderFinish=!0)},e.prototype.checkLoginStatus=function(){var t,e=this;t=function(t){Et("isLogin",t),window.isLogin=t;var n=pt(bt("novel_data"),bt());Et("novel_data.can_read",n),Et("author.show",n||bt("novel_data.is_story")),e.props.update("h5Extra")(bt()),pr(bt())},U.a.invoke("is_login",{},(function(e){console.info("is_login",e),e&&(e.is_login||1==e.code)?t&&t(!0):t&&t(!1)}))},e.prototype.addToHomePage=function(){var t="novel_last_request_channel_front_in_details",e=function(e){new lr.a((function(t){te.call("addChannel",{web_url:"https://novel.snssdk.com/feoffline/novel/channel/index.html",category:"novel_channel",name:"小说",type:5,flags:1},(function(e){var n=!1;e&&1===Number(e.code)&&(n=!0),t(n)}))})).then((function(n){n&&dr({key:t,diskStorage:!0,data:e})}))};ur({key:t,diskStorage:!0,defaultValue:null,callback:function(t){var n,r,o,i,a=new Date,s=new Date(+t);t&&(n=s.getTime(),r=a.getTime(),o=Number(n),i=Number(r)||(new Date).getTime(),o&&i&&fr(o,"YYYY-MM-DD","ms")===fr(i,"YYYY-MM-DD","ms"))||new lr.a((function(t){te.call("getSubScribedChannelList",{},(function(e){var n=e.data,r=(n=void 0===n?{}:n).list;(void 0===r?[]:r).slice(0,6).indexOf("novel_channel")<0?t(!1):t(!0)}))})).then((function(t){t||e(a.getTime())}))}})},e.prototype.render=function(){var t=this.props,e=t.context,n=t.h5Extra,r=t.content,o=function(t,e,n){return t&&n?{article:t.article,author:t.author,setting:t.h5_settings,useServerV:t.useServerV,hasExtraSpace:t.hasExtraSpace,hideFollowButton:t.hideFollowButton,statistic:t.statistics}:null}(n,0,r),i=function(t,e,n){return t&&n?{novelData:t.novel_data,setting:t.h5_settings,statistic:t.statistics,context:e,isLogin:t.isLogin}:null}(n,e,r);return n.credible_content||zt.broadcast("checkContent",null,null),g.a.createElement(v.Fragment,null,g.a.createElement(gn,{parentDom:document.querySelector("header"),replaceFlag:"1",tag:"header"},o?g.a.createElement(mr,{data:o}):null),o?g.a.createElement(_r,{content:r,context:e}):null,i?g.a.createElement(gn,{parentDom:document.querySelector("footer"),replaceFlag:"1",tag:"footer"},g.a.createElement(vr,{data:i})):null)},e}(v.Component),yr=!1;function wr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};console.info("cardsMonitor",t,e,n),setTimeout((function(){if(window.Page){var n=$(t).children().length;M.statistics.sendUmengEventV3("article_card_render",c()({status:n?"success":"error",type:window.Page.article.type,group_id:window.Page.statistics.group_id,item_id:window.Page.statistics.item_id,position:e,version:"1841",js_version:window.ARTICLE_CARD_VERSION},r))}}),n)}function br(){window.pgcEvent=Wt,window.cardEvent=Gt,window.PageEvent=zt,window._={},window._.escape=M.escape,window.needCleanDoms=[],window.send_umeng_event=M.statistics.sendUmengEvent,window.sendUmengEventV3=M.statistics.sendUmengEventV3,window.sendUmengWhenTargetShown=M.statistics.sendUmengWhenTargetShown,window.client=M.client,window.ToutiaoJSBridge.call=U.a.invoke,window.ToutiaoJSBridge.on=U.a.on,window.getCommonParams=oe,window.Raven=E.a,window.React=g.a,window.ReactDOM=w.a,n(354),window.$=$,window.cardsMonitor=wr;var t="https://s0.pstatp.com/toutiao/article_card/card_v163.min.js";window.ToutiaoJSBridge.call("getArticleConfig",{},(function(e){e&&e.article_card_url&&(t=e.article_card_url),function(t){t=window.DEBUG_CARD_URL||t,window.ARTICLE_CARD_URL=t;var e=t.match(/card_v\d+/g);e&&(window.ARTICLE_CARD_VERSION=Number(e[0].slice(6))||0,window.felog("fe_cardVersion",window.ARTICLE_CARD_VERSION));var n=function(){console.info("load card start");var e=document.createElement("script");e.setAttribute("id","card-script"),e.onerror=function(n){yr=!0,M.statistics.sendUmengEventV3("aritcle_card",{version:"1841",type:"load_card_error",card_url:t,error:n.toString()}),e.parentNode.removeChild(e),e=null},e.onload=function(){M.statistics.sendUmengEventV3("aritcle_card",{version:"1841",card_url:t,type:"load_card_success"}),window.cardScriptInited=!0,zt.broadcast("card-script-inited")},e.src=t,document.head.appendChild(e)};"complete"===document.readyState?setTimeout(n,0):window.addEventListener("load",n)}(t)}))}var Er=["s","m","l","xl"];function Sr(t,e,n){var r=e.split("_")[0];if(n.indexOf(r)>-1){var o=document.body.classList;n.forEach((function(e){o.remove(t+e)})),o.add(t+r)}}function xr(t){Sr("font_",t,Er);var e=t.split("_")[0];Er.indexOf(e)>-1&&xe.tellNativeImagesPosition()}function Tr(t){if([0,1,"0","1"].indexOf(t)>-1){t=parseInt(t),document.body.classList[t?"remove":"add"]("night");try{$(document).trigger("dayModeChange",t)}catch(t){console.error(t)}}}function Or(t){Tr(bt("pageSettings.is_daymode")?1:0),xr(bt("pageSettings.font_size","m")),function(t){if(!bt("wenda_extra.question.is_pay_wenda")){Sr("style_",t+"",["0","1","2","3","4","5","6","7"])}}(bt("h5_settings.font_size_ui_test",7));var e=bt("article.type"),n=bt("h5_settings.is_liteapp"),r=bt("styles.image_marginless");t.classList.add(e),t.classList.add("ios"),t.classList.add(window.APP_VERSION),n&&U.a.invoke("appInfo",{},(function(e){1261!=e.aid&&1221!=e.aid||t.classList.add("lite")})),r&&t.classList.add("img-marginless")}function Cr(){var t="",e="",n="",r=document.getSelection();if("Range"!==r.type)return[t,e,n];var o=r.getRangeAt(0);if(!o)return[t,e,n];try{t=o.startContainer.textContent.substring(0,o.startOffset).substr(-20),e=o.toString(),n=o.endContainer.textContent.substring(o.endOffset).substring(0,20)}catch(t){}return o.detach(),o=null,[t,e,n]}window.on_page_disappear=function(){"object"===I()(window.mediasugScroll)&&null!==window.mediasugScroll&&"function"==typeof window.mediasugScroll.pushimpr&&window.mediasugScroll.pushimpr(!1)},window.getElementPosition=function(t){var e=t.match(/^.image:nth-child\((\d+)\)$/);e&&(t=".image-container:nth-child("+e[1]+")>.image");var n="{{0,0},{0,0}}",r=document.querySelector(t);if(r){var o=r.getBoundingClientRect();n="{{"+(o.left+window.pageXOffset)+","+(o.top+window.pageYOffset)+"},{"+o.width+","+o.height+"}}"}return n},window.TouTiao={setFontSize:xr,setDayMode:Tr},window.appCloseVideoNoticeWeb=function(t){var e=document.querySelector('[data-vid="'+t+'"]');if(!e)return null;e.style.display="block";var n=e.nextElementSibling;if(n){var r=n.firstChild;r&&P(r,".cv-wd-info-wrapper",!0)&&(n.style.display="block")}document.body.style.marginTop=0},window.getVideoFrame=function(t){var e=document.querySelector('[data-vid="'+t+'"]'),n="{{0,0},{0,0}}";if(e){var r=e.getBoundingClientRect();n="{{"+r.left+","+e.offsetTop+"},{"+r.width+","+r.height+"}}"}return n},window.webviewScrollEvent=function(t){};var kr=function(){U.a.invoke("typos",{strings:Cr()})};window.customElements.define("native-image",S.NativeImage),window.customElements.define("native-video",S.NativeVideo),window.felog("fe_template","import_finished");var Nr=function(t){function e(n){u()(this,e);var r=p()(this,t.call(this,n));return r.state={data:{}},r.tellClientContentSize=r.tellClientContentSize.bind(r),r}return h()(e,t),e.updateState=function(t){return function(n){"h5Extra"===t&&(e.setH5ExtraFlag=!!n),k[t]=n,A.dispatch({type:t,data:n})}},e.prototype.tellClientContentSize=function(){var t=0,e=0;this.intervalTime&&clearInterval(this.intervalTime),this.intervalTime=setInterval((function(){var n=document.querySelector("footer"),r=void 0,o=0,i=0;n&&(o=(r=n.getBoundingClientRect()).top+r.height);var a=document.querySelector("header");i+=a?a.clientHeight:0;try{i+=parseInt(getComputedStyle(a).marginBottom||0)}catch(t){console.error(t)}i+=document.querySelector("article").clientHeight+r.height,o!==t&&o>0&&(t=o,console.info("webviewContentResize",o),U.a.invoke("webviewContentResize",{height:o})),i!==e&&(e=i,console.info("webviewContentHeight",i,document.querySelector("header").clientHeight,document.querySelector("article").clientHeight,r.height),U.a.invoke("webviewContentHeight",{height:i}))}),200)},e.prototype.componentDidMount=function(){var t=this;this._unSubscribe=A.subscribe((function(){var e=A.getState();t.setState({data:e})})),M.client.isAndroid&&this.tellClientContentSize(),window.addEventListener("scroll",Q)},e.prototype.componentWillUnmount=function(){this._unSubscribe(),window.removeEventListener("scroll",Q),this.intervalTime&&clearInterval(this.intervalTime)},e.prototype.render=function(){var t=this.state.data.h5Extra,n="";switch(t&&t.article&&(n=t.article.type),console.info("render",n),n){case"fiction":return g.a.createElement(gr,c()({},this.state.data,{update:e.updateState}));case"wenda":return g.a.createElement(rr,c()({},this.state.data,{update:e.updateState}));case"zhuanma":case"pgc":return g.a.createElement(Tn,this.state.data)}return null},e}(v.Component);Nr.setH5ExtraFlag=!1;var Ir=jt(Nr);window.felog("fe_template","base_clare"),"v55"!==window.APP_VERSION&&"v60"!==window.APP_VERSION&&(window.APP_VERSION=window.h5_extra?"v55":"v60");try{w.a.render(g.a.createElement(Ir,null),document.querySelector("#empty"))}catch(t){M.statistics.sendUmengEventV3("article_web_init_error",{version:"1841",type:"base_init",error:t.toString()}),window.felog("fe_template","base_error")}window.felog("fe_template","base"),function(){_()("config",{sampleRate:.01,bid:"article_app",pid:"article_new",ignoreAjax:[],ignoreStatic:[]}),Mt.config("1841","fe_article_detail_error","iphone",""),window.felog("fe_template","slardar");try{br(),window.felog("fe_template","card"),U.a.on("page_state_change",(function(t){zt.broadcast("pageStateChange",null,t)})),U.a.on("pay_wenda_marked",(function(t){zt.broadcast("payWendaMarked",null,t)})),window.onNotificationReceived=function(t,e){M.client.isIOS&&0===M.client.newsArticleVersion.indexOf("7.3.5")&&"page_state_change"===t&&zt.broadcast("pageStateChange",null,e)},U.a.on("on_page_disappear",(function(t){zt.broadcast("pageDisappear",null,t)})),U.a.on("menuItemPress",kr)}catch(t){M.statistics.sendUmengEventV3("article_web_init_error",{version:"1841",type:"init",error:t.toString()})}var t=!1;window.felog("fe_template","jsb"),window.setExtra=function(e){window.felog("fe_setextra","start");var n="";try{n=a()(e)}catch(t){}"v55"===window.APP_VERSION||e&&"{}"!==n||(window.receivedEmptyExtra=!0,window.felog("fe_setextra_empty","extra"),M.statistics.sendUmengEventV3("article_web_init_error",{version:"1841",type:"extra_undefined",appversion:window.APP_VERSION,extracontent:n}));var r=!1;console.info("[setExtra]",e);var o=bt("article.type");o||_()("sendCustomTimeLog","start_process_article","iphone_"+window.APP_VERSION,+new Date-window.startTimestamp),t||(w.a.render(g.a.createElement(Ir,null),document.querySelector("#empty")),t=!0),wt(e),window.felog("fe_setextra","build");var i=window.Page=bt();if(console.info("======window.setExtra",i),Nr.updateState("h5Extra")(i),window.felog("fe_setextra","update"),zt.broadcast("setExtra",null,null),!o){Or(document.body),window.felog("fe_setextra","finishui"),!0!==window.hadSentDomready&&(M.statistics.sendBytedanceRequest("domReady?setContentTimeStamp="+window.startTimestamp+"&domreadyTimeStamp="+ +new Date+"&isHTMLRender=0&articleVersion=1841"),window.hadSentDomready=!0,window.felog("fe_isHTMLRender","0")),_()("sendCustomCountLog","fe_article_version","1841"),_()("sendCustomCountLog","article_type",o||"unknow"),document.body.classList.add("fe_article_version_1841");var s=bt("pageSettings.font_size","m");M.statistics.sendUmengEventV3("article_web_extra_info",{version:"1841",group_id:bt("statistics.group_id"),duration:+new Date-window.startTimestamp,type:bt("novel_data")?"fiction":bt("article.type"),group_type:window.APP_VERSION,imageType:bt("pageSettings",{}).image_type,font_size:s,app_font:s.split("_")[0]}),r=!0}return r},window.felog("fe_template","setextra"),window.setContent=function(t){window.felog("fe_setContent","start_setcontent"),void 0===window.startTimestamp&&(window.startTimestamp=Date.now()),console.info("======window.setContent",t),Nr.updateState("content")(t),yr&&br();var e=(t||"").indexOf("<article>"),n=(t||"").indexOf("</article>");if(!t||e<0||n<0||n-e==9){var r=t?"invalid_content":"empty_content";M.statistics.sendUmengEventV3("article_web_init_error",{version:"1841",type:r,error:t}),window.felog("fe_setContentValid",r)}M.client.isNewsArticleVersionNoLessThan("7.4.5")&&window.JSBridge.call("app.addDebugLog",{msg:"卡片地址: "+window.ARTICLE_CARD_URL})},window.felog("fe_template","setcontent"),M.statistics.sendBytedanceRequest("setContentReady?timestamp="+Date.now()),window.insertDiv=function(t){M.statistics.sendUmengEventV3("article_web_context_info",{action:"init",group_id:bt("statistics.group_id"),type:bt("novel_data")?"fiction":bt("article.type")});var e=bt("h5_settings.close_miniprogs_switch");if(console.info("===== close miniprog =====",e,t),t.miniprogs&&t.miniprogs.Visibilities){var n=[];for(var r in t.miniprogs.Visibilities)!e&&t.miniprogs.Visibilities[r]||n.push(r);window.pgcEvent&&window.pgcEvent.cardSafeBroadcast(["card-destroy",document.querySelector("body"),{applet:n}])}console.info("======window.insertDiv",t),Nr.updateState("context")(t);try{var i=o()(t).join(",");M.statistics.sendUmengEventV3("article_web_context_info",{action:"finish",value:i,group_id:bt("statistics.group_id"),type:bt("novel_data")?"fiction":bt("article.type")})}catch(t){console.error(t),E.a.captureException(t),M.statistics.sendUmengEventV3("article_web_context_info",{action:"finish_error",group_id:bt("statistics.group_id"),type:bt("novel_data")?"fiction":bt("article.type")})}},window.felog("fe_template","insert"),window.onQuit=function(){console.info("onQuit"),window.hadSentDomready=!1,window.hadSentRenderFinish=!1,ht={},mt={},et(),xe.clean(),k.empty(),Rt(),Pt.a.flush(!0),window.needCleanDoms.forEach((function(t){t.off()})),window.needCleanDoms=[],M.statistics.checkandCleanImpr(),zt.broadcast("onQuit",null,null),zt.off("card-script-inited"),window.receivedEmptyExtra=!1;try{w.a.unmountComponentAtNode(document.getElementById("empty")),t=!1}catch(t){console.error("销毁Main组件报错",t),E.a.captureException(t)}$("header").replaceWith("<header>"),$("article").empty(),$("footer").empty(),window.disabledBroadcastCardsEvent=!1,window.startTimestamp=void 0,t||(w.a.render(g.a.createElement(Ir,null),document.querySelector("#empty")),t=!0),document.body.className=""}}(),window.felog("fe_template","window_initialized"),window.felog("fe_template","page_inited")}]);